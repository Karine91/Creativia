{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/lazysizes/lazysizes.js","webpack:///./node_modules/picturefill/dist/picturefill.js","webpack:///./node_modules/svgxuse/svgxuse.js","webpack:///(webpack)/buildin/module.js","webpack:///./src/scripts/vendor.js"],"names":["window","factory","lazySizes","document","module","exports","l","getElementsByClassName","lazysizes","lazySizesConfig","docElem","documentElement","Date","supportPicture","HTMLPictureElement","_addEventListener","_getAttribute","addEventListener","setTimeout","requestAnimationFrame","requestIdleCallback","regPicture","loadEvents","regClassCache","forEach","Array","prototype","hasClass","ele","cls","RegExp","test","addClass","setAttribute","trim","removeClass","reg","replace","addRemoveLoadEvents","dom","fn","add","action","evt","triggerEvent","elem","name","detail","noBubbles","noCancelable","event","createEvent","instance","initCustomEvent","dispatchEvent","updatePolyfill","el","full","polyfill","picturefill","pf","src","reevaluate","elements","getCSS","style","getComputedStyle","getWidth","parent","width","offsetWidth","minSize","_lazysizesWidth","parentNode","rAF","running","waiting","firstFns","secondFns","fns","run","runFns","length","shift","rafBatch","queue","apply","arguments","push","hidden","_lsFlush","rAFIt","simple","that","args","throttle","lastTime","gDelay","throttleDelay","rICTimeout","ricTimeout","now","idleCallback","timeout","isPriority","delay","debounce","func","timestamp","wait","later","last","prop","lazySizesDefaults","lazyClass","loadedClass","loadingClass","preloadClass","errorClass","autosizesClass","srcAttr","srcsetAttr","sizesAttr","customMedia","init","expFactor","hFac","loadMode","loadHidden","lazysizesConfig","loader","preloadElems","isCompleted","resetPreloadingTimer","started","eLvW","elvH","eLtop","eLleft","eLright","eLbottom","defaultExpand","preloadExpand","regImg","regIframe","supportScroll","navigator","userAgent","shrinkExpand","currentExpand","isLoading","lowRuns","resetPreloading","e","target","isNestedVisible","elemExpand","outerRect","visible","body","offsetParent","getBoundingClientRect","left","right","top","bottom","checkElements","eLlen","i","rect","autoLoadElem","loadedSomething","elemNegativeExpand","elemExpandVal","beforeExpandVal","lazyloadElems","expand","clientHeight","clientWidth","_lazyRace","unveilElement","innerWidth","innerHeight","preloadAfterLoad","throttledCheckElements","switchLoadingClass","rafSwitchLoadingClass","rafedSwitchLoadingClass","changeIframeSrc","contentWindow","location","handleSources","source","sourceSrcset","lazyUnveil","isAuto","sizes","isImg","srcset","isPicture","firesLoad","defaultPrevented","nodeName","clearTimeout","call","getElementsByTagName","complete","naturalWidth","autoSizer","updateElem","onload","afterScroll","_","MutationObserver","observe","childList","subtree","attributes","setInterval","readyState","checkElems","unveil","autosizesElems","sizeElement","sources","len","dataAttr","getSizeElement","updateElementsSizes","debouncedUpdateElementsSizes","cfg","uP","aC","rC","hC","fire","gW","ua","match","$1","timer","dummySrc","createElement","fixRespimg","img","picture","toUpperCase","cloneNode","insertBefore","firstElementChild","removeChild","_pfLastSize","findPictureImgs","imgs","querySelectorAll","onResize","mq","matchMedia","addListener","undefined","warn","eminpx","alwaysCheckWDescriptor","evalId","isSupportTestReady","noop","image","getImgAttr","getAttribute","setImgAttr","removeImgAttr","removeAttribute","types","algorithm","supportAbort","curSrcProp","regWDesc","regSize","setOptions","picturefillCFG","baseStyle","fsCss","isVwDirty","cssCache","sizeLengthCache","DPR","devicePixelRatio","units","px","anchor","alreadyRun","regexLeadingSpaces","regexLeadingCommasOrSpaces","regexLeadingNotSpaces","regexTrailingCommas","regexNonNegativeInteger","regexFloatingPoint","on","obj","capture","attachEvent","memoize","cache","input","isSpace","c","evalCSS","regLength","index","string","buildStr","css","toLowerCase","parsedLength","Function","setResolution","candidate","sizesattr","w","cWidth","calcListLength","res","d","opt","plen","options","nodeType","context","qsa","reselect","sel","selShort","setupRun","fillImg","teardownRun","console","message","detectTypeSupport","type","typeUri","Image","onerror","implementation","hasFeature","updateMetrics","Math","max","height","vw","vh","join","em","getEmValue","rem","chooseLowRes","lowerValue","higherValue","dprValue","isCached","bonusFactor","tooMuch","bonus","meanDensity","pow","sqrt","applyBestCandidate","srcSetCandidates","matchingSet","getSet","evaluated","setRes","applySetCandidate","ns","evaled","ascendingSort","a","b","setSrcToCur","set","sets","getCandidateForSrc","makeUrl","curSrc","curCan","candidates","parseSet","url","getAllSourceElements","media","parseSrcset","collectCharacters","regEx","chars","exec","substring","pos","inputLength","descriptors","currentDescriptor","state","parseDescriptors","pError","h","desc","lastChar","value","intVal","floatVal","parseInt","parseFloat","has1x","tokenize","charAt","slice","parseSizes","strValue","regexCssLengthWithUnits","regexCssCalc","unparsedSizesList","unparsedSizesListLength","unparsedSize","lastComponentValue","size","parseComponentValues","str","chrctr","component","componentArray","listArray","parenDepth","inComment","pushComponent","pushComponentArray","isValidNonNegativeSourceSizeValue","s","pop","matchesMedia","getTime","substr","supSrcset","supSizes","supPicture","image2","width2","width1","u","setSize","href","matches","mMQ","calcLength","sourceSizeValue","supportsType","parseSize","sourceSizeStr","cands","div","originalHTMLCSS","cssText","originalBodyCSS","appendChild","sourceSizeListStr","uT","winningLength","j","bestCandidate","candidateSrc","abortCurSrc","imageData","dpr","cached","sort","setSrc","origWidth","parseSets","element","srcsetAttribute","imageSet","isWDescripor","srcsetParsed","hasPicture","pic","supported","parsed","extreme","isDomReady","regReady","timerId","fillImgs","lastClientWidth","define","Object","create","checkUseElems","tid","debouncedCheck","unobserveChanges","observeChanges","observer","disconnect","removeEventListener","ignore","createRequest","getOrigin","loc","protocol","host","Request","origin","origin2","XMLHttpRequest","withCredentials","XDomainRequest","xlinkNS","base","bcr","fallback","hash","inProgressCount","isHidden","uses","xhr","observeIfDone","attrUpdateFunc","spec","useEl","setAttributeNS","hasAttribute","onloadFunc","x","svg","innerHTML","responseText","position","overflow","firstChild","onErrorTimeout","ontimeout","getAttributeNS","split","getElementById","open","send","abort","winLoad","webpackPolyfill","deprecate","paths","children","defineProperty","enumerable","get"],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,kDAA0C,gCAAgC;AAC1E;AACA;;AAEA;AACA;AACA;AACA,gEAAwD,kBAAkB;AAC1E;AACA,yDAAiD,cAAc;AAC/D;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAyC,iCAAiC;AAC1E,wHAAgH,mBAAmB,EAAE;AACrI;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;;AAGA;AACA;;;;;;;;;;;;;;;;;AClFC,WAASA,MAAT,EAAiBC,OAAjB,EAA0B;AAC1B,KAAIC,YAAYD,QAAQD,MAAR,EAAgBA,OAAOG,QAAvB,CAAhB;AACAH,QAAOE,SAAP,GAAmBA,SAAnB;AACA,KAAG,8BAAOE,MAAP,MAAiB,QAAjB,IAA6BA,OAAOC,OAAvC,EAA+C;AAC9CD,SAAOC,OAAP,GAAiBH,SAAjB;AACA;AACD,CANA,EAMCF,MAND,EAMS,SAASM,CAAT,CAAWN,MAAX,EAAmBG,QAAnB,EAA6B;AACtC;AACA;;AACA,KAAG,CAACA,SAASI,sBAAb,EAAoC;AAAC;AAAQ;;AAE7C,KAAIC,SAAJ,EAAeC,eAAf;;AAEA,KAAIC,UAAUP,SAASQ,eAAvB;;AAEA,KAAIC,OAAOZ,OAAOY,IAAlB;;AAEA,KAAIC,iBAAiBb,OAAOc,kBAA5B;;AAEA,KAAIC,oBAAoB,kBAAxB;;AAEA,KAAIC,gBAAgB,cAApB;;AAEA,KAAIC,mBAAmBjB,OAAOe,iBAAP,CAAvB;;AAEA,KAAIG,aAAalB,OAAOkB,UAAxB;;AAEA,KAAIC,wBAAwBnB,OAAOmB,qBAAP,IAAgCD,UAA5D;;AAEA,KAAIE,sBAAsBpB,OAAOoB,mBAAjC;;AAEA,KAAIC,aAAa,YAAjB;;AAEA,KAAIC,aAAa,CAAC,MAAD,EAAS,OAAT,EAAkB,cAAlB,EAAkC,aAAlC,CAAjB;;AAEA,KAAIC,gBAAgB,EAApB;;AAEA,KAAIC,UAAUC,MAAMC,SAAN,CAAgBF,OAA9B;;AAEA,KAAIG,WAAW,SAAXA,QAAW,CAASC,GAAT,EAAcC,GAAd,EAAmB;AACjC,MAAG,CAACN,cAAcM,GAAd,CAAJ,EAAuB;AACtBN,iBAAcM,GAAd,IAAqB,IAAIC,MAAJ,CAAW,YAAUD,GAAV,GAAc,SAAzB,CAArB;AACA;AACD,SAAON,cAAcM,GAAd,EAAmBE,IAAnB,CAAwBH,IAAIZ,aAAJ,EAAmB,OAAnB,KAA+B,EAAvD,KAA8DO,cAAcM,GAAd,CAArE;AACA,EALD;;AAOA,KAAIG,WAAW,SAAXA,QAAW,CAASJ,GAAT,EAAcC,GAAd,EAAmB;AACjC,MAAI,CAACF,SAASC,GAAT,EAAcC,GAAd,CAAL,EAAwB;AACvBD,OAAIK,YAAJ,CAAiB,OAAjB,EAA0B,CAACL,IAAIZ,aAAJ,EAAmB,OAAnB,KAA+B,EAAhC,EAAoCkB,IAApC,KAA6C,GAA7C,GAAmDL,GAA7E;AACA;AACD,EAJD;;AAMA,KAAIM,cAAc,SAAdA,WAAc,CAASP,GAAT,EAAcC,GAAd,EAAmB;AACpC,MAAIO,GAAJ;AACA,MAAKA,MAAMT,SAASC,GAAT,EAAaC,GAAb,CAAX,EAA+B;AAC9BD,OAAIK,YAAJ,CAAiB,OAAjB,EAA0B,CAACL,IAAIZ,aAAJ,EAAmB,OAAnB,KAA+B,EAAhC,EAAoCqB,OAApC,CAA4CD,GAA5C,EAAiD,GAAjD,CAA1B;AACA;AACD,EALD;;AAOA,KAAIE,sBAAsB,SAAtBA,mBAAsB,CAASC,GAAT,EAAcC,EAAd,EAAkBC,GAAlB,EAAsB;AAC/C,MAAIC,SAASD,MAAM1B,iBAAN,GAA0B,qBAAvC;AACA,MAAG0B,GAAH,EAAO;AACNH,uBAAoBC,GAApB,EAAyBC,EAAzB;AACA;AACDlB,aAAWE,OAAX,CAAmB,UAASmB,GAAT,EAAa;AAC/BJ,OAAIG,MAAJ,EAAYC,GAAZ,EAAiBH,EAAjB;AACA,GAFD;AAGA,EARD;;AAUA,KAAII,eAAe,SAAfA,YAAe,CAASC,IAAT,EAAeC,IAAf,EAAqBC,MAArB,EAA6BC,SAA7B,EAAwCC,YAAxC,EAAqD;AACvE,MAAIC,QAAQ/C,SAASgD,WAAT,CAAqB,aAArB,CAAZ;;AAEA,MAAG,CAACJ,MAAJ,EAAW;AACVA,YAAS,EAAT;AACA;;AAEDA,SAAOK,QAAP,GAAkB5C,SAAlB;;AAEA0C,QAAMG,eAAN,CAAsBP,IAAtB,EAA4B,CAACE,SAA7B,EAAwC,CAACC,YAAzC,EAAuDF,MAAvD;;AAEAF,OAAKS,aAAL,CAAmBJ,KAAnB;AACA,SAAOA,KAAP;AACA,EAbD;;AAeA,KAAIK,iBAAiB,SAAjBA,cAAiB,CAAUC,EAAV,EAAcC,IAAd,EAAmB;AACvC,MAAIC,QAAJ;AACA,MAAI,CAAC7C,cAAD,KAAqB6C,WAAY1D,OAAO2D,WAAP,IAAsBlD,gBAAgBmD,EAAvE,CAAJ,EAAkF;AACjF,OAAGH,QAAQA,KAAKI,GAAb,IAAoB,CAACL,GAAGxC,aAAH,EAAkB,QAAlB,CAAxB,EAAoD;AACnDwC,OAAGvB,YAAH,CAAgB,QAAhB,EAA0BwB,KAAKI,GAA/B;AACA;AACDH,YAAS,EAACI,YAAY,IAAb,EAAmBC,UAAU,CAACP,EAAD,CAA7B,EAAT;AACA,GALD,MAKO,IAAGC,QAAQA,KAAKI,GAAhB,EAAoB;AAC1BL,MAAGK,GAAH,GAASJ,KAAKI,GAAd;AACA;AACD,EAVD;;AAYA,KAAIG,SAAS,SAATA,MAAS,CAAUnB,IAAV,EAAgBoB,KAAhB,EAAsB;AAClC,SAAO,CAACC,iBAAiBrB,IAAjB,EAAuB,IAAvB,KAAgC,EAAjC,EAAqCoB,KAArC,CAAP;AACA,EAFD;;AAIA,KAAIE,WAAW,SAAXA,QAAW,CAAStB,IAAT,EAAeuB,MAAf,EAAuBC,KAAvB,EAA6B;AAC3CA,UAAQA,SAASxB,KAAKyB,WAAtB;;AAEA,SAAMD,QAAQ5D,gBAAgB8D,OAAxB,IAAmCH,MAAnC,IAA6C,CAACvB,KAAK2B,eAAzD,EAAyE;AACxEH,WAASD,OAAOE,WAAhB;AACAF,YAASA,OAAOK,UAAhB;AACA;;AAED,SAAOJ,KAAP;AACA,EATD;;AAWA,KAAIK,MAAO,YAAU;AACpB,MAAIC,OAAJ,EAAaC,OAAb;AACA,MAAIC,WAAW,EAAf;AACA,MAAIC,YAAY,EAAhB;AACA,MAAIC,MAAMF,QAAV;;AAEA,MAAIG,MAAM,SAANA,GAAM,GAAU;AACnB,OAAIC,SAASF,GAAb;;AAEAA,SAAMF,SAASK,MAAT,GAAkBJ,SAAlB,GAA8BD,QAApC;;AAEAF,aAAU,IAAV;AACAC,aAAU,KAAV;;AAEA,UAAMK,OAAOC,MAAb,EAAoB;AACnBD,WAAOE,KAAP;AACA;;AAEDR,aAAU,KAAV;AACA,GAbD;;AAeA,MAAIS,WAAW,SAAXA,QAAW,CAAS5C,EAAT,EAAa6C,KAAb,EAAmB;AACjC,OAAGV,WAAW,CAACU,KAAf,EAAqB;AACpB7C,OAAG8C,KAAH,CAAS,IAAT,EAAeC,SAAf;AACA,IAFD,MAEO;AACNR,QAAIS,IAAJ,CAAShD,EAAT;;AAEA,QAAG,CAACoC,OAAJ,EAAY;AACXA,eAAU,IAAV;AACA,MAACzE,SAASsF,MAAT,GAAkBvE,UAAlB,GAA+BC,qBAAhC,EAAuD6D,GAAvD;AACA;AACD;AACD,GAXD;;AAaAI,WAASM,QAAT,GAAoBV,GAApB;;AAEA,SAAOI,QAAP;AACA,EArCS,EAAV;;AAuCA,KAAIO,QAAQ,SAARA,KAAQ,CAASnD,EAAT,EAAaoD,MAAb,EAAoB;AAC/B,SAAOA,SACN,YAAW;AACVlB,OAAIlC,EAAJ;AACA,GAHK,GAIN,YAAU;AACT,OAAIqD,OAAO,IAAX;AACA,OAAIC,OAAOP,SAAX;AACAb,OAAI,YAAU;AACblC,OAAG8C,KAAH,CAASO,IAAT,EAAeC,IAAf;AACA,IAFD;AAGA,GAVF;AAYA,EAbD;;AAeA,KAAIC,WAAW,SAAXA,QAAW,CAASvD,EAAT,EAAY;AAC1B,MAAImC,OAAJ;AACA,MAAIqB,WAAW,CAAf;AACA,MAAIC,SAASxF,gBAAgByF,aAA7B;AACA,MAAIC,aAAa1F,gBAAgB2F,UAAjC;AACA,MAAIpB,MAAM,SAANA,GAAM,GAAU;AACnBL,aAAU,KAAV;AACAqB,cAAWpF,KAAKyF,GAAL,EAAX;AACA7D;AACA,GAJD;AAKA,MAAI8D,eAAelF,uBAAuB+E,aAAa,EAApC,GAClB,YAAU;AACT/E,uBAAoB4D,GAApB,EAAyB,EAACuB,SAASJ,UAAV,EAAzB;;AAEA,OAAGA,eAAe1F,gBAAgB2F,UAAlC,EAA6C;AAC5CD,iBAAa1F,gBAAgB2F,UAA7B;AACA;AACD,GAPiB,GAQlBT,MAAM,YAAU;AACfzE,cAAW8D,GAAX;AACA,GAFD,EAEG,IAFH,CARD;;AAaA,SAAO,UAASwB,UAAT,EAAoB;AAC1B,OAAIC,KAAJ;;AAEA,OAAID,aAAaA,eAAe,IAAhC,EAAsC;AACrCL,iBAAa,EAAb;AACA;;AAED,OAAGxB,OAAH,EAAW;AACV;AACA;;AAEDA,aAAW,IAAX;;AAEA8B,WAAQR,UAAUrF,KAAKyF,GAAL,KAAaL,QAAvB,CAAR;;AAEA,OAAGS,QAAQ,CAAX,EAAa;AACZA,YAAQ,CAAR;AACA;;AAED,OAAGD,cAAcC,QAAQ,CAAzB,EAA2B;AAC1BH;AACA,IAFD,MAEO;AACNpF,eAAWoF,YAAX,EAAyBG,KAAzB;AACA;AACD,GAxBD;AAyBA,EAhDD;;AAkDA;AACA,KAAIC,WAAW,SAAXA,QAAW,CAASC,IAAT,EAAe;AAC7B,MAAIJ,OAAJ,EAAaK,SAAb;AACA,MAAIC,OAAO,EAAX;AACA,MAAI7B,MAAM,SAANA,GAAM,GAAU;AACnBuB,aAAU,IAAV;AACAI;AACA,GAHD;AAIA,MAAIG,QAAQ,SAARA,KAAQ,GAAW;AACtB,OAAIC,OAAOnG,KAAKyF,GAAL,KAAaO,SAAxB;;AAEA,OAAIG,OAAOF,IAAX,EAAiB;AAChB3F,eAAW4F,KAAX,EAAkBD,OAAOE,IAAzB;AACA,IAFD,MAEO;AACN,KAAC3F,uBAAuB4D,GAAxB,EAA6BA,GAA7B;AACA;AACD,GARD;;AAUA,SAAO,YAAW;AACjB4B,eAAYhG,KAAKyF,GAAL,EAAZ;;AAEA,OAAI,CAACE,OAAL,EAAc;AACbA,cAAUrF,WAAW4F,KAAX,EAAkBD,IAAlB,CAAV;AACA;AACD,GAND;AAOA,EAxBD;;AA0BA,EAAC,YAAU;AACV,MAAIG,IAAJ;;AAEA,MAAIC,oBAAoB;AACvBC,cAAW,UADY;AAEvBC,gBAAa,YAFU;AAGvBC,iBAAc,aAHS;AAIvBC,iBAAc,aAJS;AAKvBC,eAAY,WALW;AAMvB;AACAC,mBAAgB,eAPO;AAQvBC,YAAS,UARc;AASvBC,eAAY,aATW;AAUvBC,cAAW,YAVY;AAWvB;AACAnD,YAAS,EAZc;AAavBoD,gBAAa,EAbU;AAcvBC,SAAM,IAdiB;AAevBC,cAAW,GAfY;AAgBvBC,SAAM,GAhBiB;AAiBvBC,aAAU,CAjBa;AAkBvBC,eAAY,IAlBW;AAmBvB5B,eAAY,CAnBW;AAoBvBF,kBAAe;AApBQ,GAAxB;;AAuBAzF,oBAAkBT,OAAOS,eAAP,IAA0BT,OAAOiI,eAAjC,IAAoD,EAAtE;;AAEA,OAAIjB,IAAJ,IAAYC,iBAAZ,EAA8B;AAC7B,OAAG,EAAED,QAAQvG,eAAV,CAAH,EAA8B;AAC7BA,oBAAgBuG,IAAhB,IAAwBC,kBAAkBD,IAAlB,CAAxB;AACA;AACD;;AAEDhH,SAAOS,eAAP,GAAyBA,eAAzB;;AAEAS,aAAW,YAAU;AACpB,OAAGT,gBAAgBmH,IAAnB,EAAwB;AACvBA;AACA;AACD,GAJD;AAKA,EAzCD;;AA2CA,KAAIM,SAAU,YAAU;AACvB,MAAIC,YAAJ,EAAkBC,WAAlB,EAA+BC,oBAA/B,EAAqDN,QAArD,EAA+DO,OAA/D;;AAEA,MAAIC,IAAJ,EAAUC,IAAV,EAAgBC,KAAhB,EAAuBC,MAAvB,EAA+BC,OAA/B,EAAwCC,QAAxC;;AAEA,MAAIC,aAAJ,EAAmBC,aAAnB,EAAkChB,IAAlC;;AAEA,MAAIiB,SAAS,QAAb;AACA,MAAIC,YAAY,WAAhB;;AAEA,MAAIC,gBAAiB,cAAcjJ,MAAf,IAA0B,CAAE,eAAe+B,IAAf,CAAoBmH,UAAUC,SAA9B,CAAhD;;AAEA,MAAIC,eAAe,CAAnB;AACA,MAAIC,gBAAgB,CAApB;;AAEA,MAAIC,YAAY,CAAhB;AACA,MAAIC,UAAU,CAAC,CAAf;;AAEA,MAAIC,kBAAkB,SAAlBA,eAAkB,CAASC,CAAT,EAAW;AAChCH;AACA,OAAGG,KAAKA,EAAEC,MAAV,EAAiB;AAChBpH,wBAAoBmH,EAAEC,MAAtB,EAA8BF,eAA9B;AACA;;AAED,OAAG,CAACC,CAAD,IAAMH,YAAY,CAAlB,IAAuB,CAACG,EAAEC,MAA7B,EAAoC;AACnCJ,gBAAY,CAAZ;AACA;AACD,GATD;;AAWA,MAAIK,kBAAkB,SAAlBA,eAAkB,CAAS9G,IAAT,EAAe+G,UAAf,EAA0B;AAC/C,OAAIC,SAAJ;AACA,OAAIzF,SAASvB,IAAb;AACA,OAAIiH,UAAU9F,OAAO7D,SAAS4J,IAAhB,EAAsB,YAAtB,KAAuC,QAAvC,IAAoD/F,OAAOnB,KAAK4B,UAAZ,EAAwB,YAAxB,KAAyC,QAAzC,IAAqDT,OAAOnB,IAAP,EAAa,YAAb,KAA8B,QAArJ;;AAEA4F,YAASmB,UAAT;AACAhB,eAAYgB,UAAZ;AACAlB,aAAUkB,UAAV;AACAjB,cAAWiB,UAAX;;AAEA,UAAME,YAAY1F,SAASA,OAAO4F,YAA5B,KAA6C5F,UAAUjE,SAAS4J,IAAhE,IAAwE3F,UAAU1D,OAAxF,EAAgG;AAC/FoJ,cAAW,CAAC9F,OAAOI,MAAP,EAAe,SAAf,KAA6B,CAA9B,IAAmC,CAA9C;;AAEA,QAAG0F,WAAW9F,OAAOI,MAAP,EAAe,UAAf,KAA8B,SAA5C,EAAsD;AACrDyF,iBAAYzF,OAAO6F,qBAAP,EAAZ;AACAH,eAAUnB,UAAUkB,UAAUK,IAApB,IACTxB,SAASmB,UAAUM,KADV,IAETvB,WAAWiB,UAAUO,GAAV,GAAgB,CAFlB,IAGT3B,QAAQoB,UAAUQ,MAAV,GAAmB,CAH5B;AAKA;AACD;;AAED,UAAOP,OAAP;AACA,GAxBD;;AA0BA,MAAIQ,gBAAgB,SAAhBA,aAAgB,GAAW;AAC9B,OAAIC,KAAJ,EAAWC,CAAX,EAAcC,IAAd,EAAoBC,YAApB,EAAkCC,eAAlC,EAAmDf,UAAnD,EAA+DgB,kBAA/D,EAAmFC,aAAnF,EAAkGC,eAAlG;;AAEA,OAAIC,gBAAgBvK,UAAUuD,QAA9B;;AAEA,OAAG,CAACgE,WAAWtH,gBAAgBsH,QAA5B,KAAyCuB,YAAY,CAArD,KAA2DiB,QAAQQ,cAAc7F,MAAjF,CAAH,EAA4F;;AAE3FsF,QAAI,CAAJ;;AAEAjB;;AAEA,QAAGT,iBAAiB,IAApB,EAAyB;AACxB,SAAG,EAAE,YAAYrI,eAAd,CAAH,EAAkC;AACjCA,sBAAgBuK,MAAhB,GAAyBtK,QAAQuK,YAAR,GAAuB,GAAvB,IAA8BvK,QAAQwK,WAAR,GAAsB,GAApD,GAA0D,GAA1D,GAAgE,GAAzF;AACA;;AAEDrC,qBAAgBpI,gBAAgBuK,MAAhC;AACAlC,qBAAgBD,gBAAgBpI,gBAAgBoH,SAAhD;AACA;;AAED,QAAGwB,gBAAgBP,aAAhB,IAAiCQ,YAAY,CAA7C,IAAkDC,UAAU,CAA5D,IAAiExB,WAAW,CAA5E,IAAiF,CAAC5H,SAASsF,MAA9F,EAAqG;AACpG4D,qBAAgBP,aAAhB;AACAS,eAAU,CAAV;AACA,KAHD,MAGO,IAAGxB,WAAW,CAAX,IAAgBwB,UAAU,CAA1B,IAA+BD,YAAY,CAA9C,EAAgD;AACtDD,qBAAgBR,aAAhB;AACA,KAFM,MAEA;AACNQ,qBAAgBD,YAAhB;AACA;;AAED,WAAMoB,IAAID,KAAV,EAAiBC,GAAjB,EAAqB;;AAEpB,SAAG,CAACO,cAAcP,CAAd,CAAD,IAAqBO,cAAcP,CAAd,EAAiBW,SAAzC,EAAmD;AAAC;AAAU;;AAE9D,SAAG,CAAClC,aAAJ,EAAkB;AAACmC,oBAAcL,cAAcP,CAAd,CAAd,EAAgC;AAAU;;AAE7D,SAAG,EAAEK,gBAAgBE,cAAcP,CAAd,EAAiBxJ,aAAjB,EAAgC,aAAhC,CAAlB,KAAqE,EAAE4I,aAAaiB,gBAAgB,CAA/B,CAAxE,EAA0G;AACzGjB,mBAAaP,aAAb;AACA;;AAED,SAAGyB,oBAAoBlB,UAAvB,EAAkC;AACjCrB,aAAO8C,aAAczB,aAAa9B,IAAlC;AACAU,aAAO8C,cAAc1B,UAArB;AACAgB,2BAAqBhB,aAAa,CAAC,CAAnC;AACAkB,wBAAkBlB,UAAlB;AACA;;AAEDa,YAAOM,cAAcP,CAAd,EAAiBP,qBAAjB,EAAP;;AAEA,SAAI,CAACrB,WAAW6B,KAAKJ,MAAjB,KAA4BO,kBAA5B,IACH,CAACnC,QAAQgC,KAAKL,GAAd,KAAsB5B,IADnB,IAEH,CAACG,UAAU8B,KAAKN,KAAhB,KAA0BS,qBAAqB9C,IAF5C,IAGH,CAACY,SAAS+B,KAAKP,IAAf,KAAwB3B,IAHrB,KAIFK,YAAYD,OAAZ,IAAuBD,MAAvB,IAAiCD,KAJ/B,MAKFhI,gBAAgBuH,UAAhB,IAA8BhE,OAAO+G,cAAcP,CAAd,CAAP,EAAyB,YAAzB,KAA0C,QALtE,MAMDpC,eAAekB,YAAY,CAA3B,IAAgC,CAACuB,aAAjC,KAAmD9C,WAAW,CAAX,IAAgBwB,UAAU,CAA7E,CAAD,IAAqFI,gBAAgBoB,cAAcP,CAAd,CAAhB,EAAkCZ,UAAlC,CANnF,CAAJ,EAMsI;AACrIwB,oBAAcL,cAAcP,CAAd,CAAd;AACAG,wBAAkB,IAAlB;AACA,UAAGrB,YAAY,CAAf,EAAiB;AAAC;AAAO;AACzB,MAVD,MAUO,IAAG,CAACqB,eAAD,IAAoBvC,WAApB,IAAmC,CAACsC,YAApC,IACTpB,YAAY,CADH,IACQC,UAAU,CADlB,IACuBxB,WAAW,CADlC,KAERI,aAAa,CAAb,KAAmB1H,gBAAgB8K,gBAF3B,MAGRpD,aAAa,CAAb,KAAoB,CAAC0C,aAAD,KAAoBjC,YAAYD,OAAZ,IAAuBD,MAAvB,IAAiCD,KAAlC,IAA4CsC,cAAcP,CAAd,EAAiBxJ,aAAjB,EAAgCP,gBAAgBiH,SAAhD,KAA8D,MAA7H,CAHZ,CAAH,EAGsJ;AAC5JgD,qBAAevC,aAAa,CAAb,KAAmB4C,cAAcP,CAAd,CAAlC;AACA;AACD;;AAED,QAAGE,gBAAgB,CAACC,eAApB,EAAoC;AACnCS,mBAAcV,YAAd;AACA;AACD;AACD,GAtED;;AAwEA,MAAIc,yBAAyBzF,SAASuE,aAAT,CAA7B;;AAEA,MAAImB,qBAAqB,SAArBA,kBAAqB,CAAShC,CAAT,EAAW;AACnCzH,YAASyH,EAAEC,MAAX,EAAmBjJ,gBAAgB0G,WAAnC;AACAhF,eAAYsH,EAAEC,MAAd,EAAsBjJ,gBAAgB2G,YAAtC;AACA9E,uBAAoBmH,EAAEC,MAAtB,EAA8BgC,qBAA9B;AACA9I,gBAAa6G,EAAEC,MAAf,EAAuB,YAAvB;AACA,GALD;AAMA,MAAIiC,0BAA0BhG,MAAM8F,kBAAN,CAA9B;AACA,MAAIC,wBAAwB,SAAxBA,qBAAwB,CAASjC,CAAT,EAAW;AACtCkC,2BAAwB,EAACjC,QAAQD,EAAEC,MAAX,EAAxB;AACA,GAFD;;AAIA,MAAIkC,kBAAkB,SAAlBA,eAAkB,CAAS/I,IAAT,EAAegB,GAAf,EAAmB;AACxC,OAAI;AACHhB,SAAKgJ,aAAL,CAAmBC,QAAnB,CAA4BzJ,OAA5B,CAAoCwB,GAApC;AACA,IAFD,CAEE,OAAM4F,CAAN,EAAQ;AACT5G,SAAKgB,GAAL,GAAWA,GAAX;AACA;AACD,GAND;;AAQA,MAAIkI,gBAAgB,SAAhBA,aAAgB,CAASC,MAAT,EAAgB;AACnC,OAAIrE,WAAJ;;AAEA,OAAIsE,eAAeD,OAAOhL,aAAP,EAAsBP,gBAAgBgH,UAAtC,CAAnB;;AAEA,OAAKE,cAAclH,gBAAgBkH,WAAhB,CAA4BqE,OAAOhL,aAAP,EAAsB,YAAtB,KAAuCgL,OAAOhL,aAAP,EAAsB,OAAtB,CAAnE,CAAnB,EAAwH;AACvHgL,WAAO/J,YAAP,CAAoB,OAApB,EAA6B0F,WAA7B;AACA;;AAED,OAAGsE,YAAH,EAAgB;AACfD,WAAO/J,YAAP,CAAoB,QAApB,EAA8BgK,YAA9B;AACA;AACD,GAZD;;AAcA,MAAIC,aAAavG,MAAM,UAAU9C,IAAV,EAAgBE,MAAhB,EAAwBoJ,MAAxB,EAAgCC,KAAhC,EAAuCC,KAAvC,EAA6C;AACnE,OAAIxI,GAAJ,EAASyI,MAAT,EAAiBlI,MAAjB,EAAyBmI,SAAzB,EAAoCrJ,KAApC,EAA2CsJ,SAA3C;;AAEA,OAAG,CAAC,CAACtJ,QAAQN,aAAaC,IAAb,EAAmB,kBAAnB,EAAuCE,MAAvC,CAAT,EAAyD0J,gBAA7D,EAA8E;;AAE7E,QAAGL,KAAH,EAAS;AACR,SAAGD,MAAH,EAAU;AACTnK,eAASa,IAAT,EAAepC,gBAAgB8G,cAA/B;AACA,MAFD,MAEO;AACN1E,WAAKZ,YAAL,CAAkB,OAAlB,EAA2BmK,KAA3B;AACA;AACD;;AAEDE,aAASzJ,KAAK7B,aAAL,EAAoBP,gBAAgBgH,UAApC,CAAT;AACA5D,UAAMhB,KAAK7B,aAAL,EAAoBP,gBAAgB+G,OAApC,CAAN;;AAEA,QAAG6E,KAAH,EAAU;AACTjI,cAASvB,KAAK4B,UAAd;AACA8H,iBAAYnI,UAAU/C,WAAWU,IAAX,CAAgBqC,OAAOsI,QAAP,IAAmB,EAAnC,CAAtB;AACA;;AAEDF,gBAAYzJ,OAAOyJ,SAAP,IAAsB,SAAS3J,IAAV,KAAoByJ,UAAUzI,GAAV,IAAiB0I,SAArC,CAAjC;;AAEArJ,YAAQ,EAACwG,QAAQ7G,IAAT,EAAR;;AAEA,QAAG2J,SAAH,EAAa;AACZlK,yBAAoBO,IAApB,EAA0B2G,eAA1B,EAA2C,IAA3C;AACAmD,kBAAatE,oBAAb;AACAA,4BAAuBnH,WAAWsI,eAAX,EAA4B,IAA5B,CAAvB;;AAEAxH,cAASa,IAAT,EAAepC,gBAAgB2G,YAA/B;AACA9E,yBAAoBO,IAApB,EAA0B6I,qBAA1B,EAAiD,IAAjD;AACA;;AAED,QAAGa,SAAH,EAAa;AACZ/K,aAAQoL,IAAR,CAAaxI,OAAOyI,oBAAP,CAA4B,QAA5B,CAAb,EAAoDd,aAApD;AACA;;AAED,QAAGO,MAAH,EAAU;AACTzJ,UAAKZ,YAAL,CAAkB,QAAlB,EAA4BqK,MAA5B;AACA,KAFD,MAEO,IAAGzI,OAAO,CAAC0I,SAAX,EAAqB;AAC3B,SAAGvD,UAAUjH,IAAV,CAAec,KAAK6J,QAApB,CAAH,EAAiC;AAChCd,sBAAgB/I,IAAhB,EAAsBgB,GAAtB;AACA,MAFD,MAEO;AACNhB,WAAKgB,GAAL,GAAWA,GAAX;AACA;AACD;;AAED,QAAGwI,UAAUC,UAAUC,SAApB,CAAH,EAAkC;AACjChJ,oBAAeV,IAAf,EAAqB,EAACgB,KAAKA,GAAN,EAArB;AACA;AACD;;AAED,OAAGhB,KAAKsI,SAAR,EAAkB;AACjB,WAAOtI,KAAKsI,SAAZ;AACA;AACDhJ,eAAYU,IAAZ,EAAkBpC,gBAAgByG,SAAlC;;AAEAxC,OAAI,YAAU;AACb,QAAI,CAAC8H,SAAD,IAAe3J,KAAKiK,QAAL,IAAiBjK,KAAKkK,YAAL,GAAoB,CAAxD,EAA2D;AAC1D,SAAGP,SAAH,EAAa;AACZhD,sBAAgBtG,KAAhB;AACA,MAFD,MAEO;AACNoG;AACA;AACDmC,wBAAmBvI,KAAnB;AACA;AACD,IATD,EASG,IATH;AAUA,GApEgB,CAAjB;;AAsEA,MAAIkI,gBAAgB,SAAhBA,aAAgB,CAAUvI,IAAV,EAAe;AAClC,OAAIE,MAAJ;;AAEA,OAAIsJ,QAAQtD,OAAOhH,IAAP,CAAYc,KAAK6J,QAAjB,CAAZ;;AAEA;AACA,OAAIN,QAAQC,UAAUxJ,KAAK7B,aAAL,EAAoBP,gBAAgBiH,SAApC,KAAkD7E,KAAK7B,aAAL,EAAoB,OAApB,CAA5D,CAAZ;AACA,OAAImL,SAASC,SAAS,MAAtB;;AAEA,OAAI,CAACD,UAAU,CAAC/D,WAAZ,KAA4BiE,KAA5B,KAAsCxJ,KAAK7B,aAAL,EAAoB,KAApB,KAA8B6B,KAAKyJ,MAAzE,KAAoF,CAACzJ,KAAKiK,QAA1F,IAAsG,CAACnL,SAASkB,IAAT,EAAepC,gBAAgB6G,UAA/B,CAAvG,IAAqJ3F,SAASkB,IAAT,EAAepC,gBAAgByG,SAA/B,CAAzJ,EAAmM;AAAC;AAAQ;;AAE5MnE,YAASH,aAAaC,IAAb,EAAmB,gBAAnB,EAAqCE,MAA9C;;AAEA,OAAGoJ,MAAH,EAAU;AACRa,cAAUC,UAAV,CAAqBpK,IAArB,EAA2B,IAA3B,EAAiCA,KAAKyB,WAAtC;AACD;;AAEDzB,QAAKsI,SAAL,GAAiB,IAAjB;AACA7B;;AAEA4C,cAAWrJ,IAAX,EAAiBE,MAAjB,EAAyBoJ,MAAzB,EAAiCC,KAAjC,EAAwCC,KAAxC;AACA,GArBD;;AAuBA,MAAIa,SAAS,SAATA,MAAS,GAAU;AACtB,OAAG9E,WAAH,EAAe;AAAC;AAAQ;AACxB,OAAGxH,KAAKyF,GAAL,KAAaiC,OAAb,GAAuB,GAA1B,EAA8B;AAC7BpH,eAAWgM,MAAX,EAAmB,GAAnB;AACA;AACA;AACD,OAAIC,cAAczG,SAAS,YAAU;AACpCjG,oBAAgBsH,QAAhB,GAA2B,CAA3B;AACAyD;AACA,IAHiB,CAAlB;;AAKApD,iBAAc,IAAd;;AAEA3H,mBAAgBsH,QAAhB,GAA2B,CAA3B;;AAEAyD;;AAEAvK,oBAAiB,QAAjB,EAA2B,YAAU;AACpC,QAAGR,gBAAgBsH,QAAhB,IAA4B,CAA/B,EAAiC;AAChCtH,qBAAgBsH,QAAhB,GAA2B,CAA3B;AACA;AACDoF;AACA,IALD,EAKG,IALH;AAMA,GAvBD;;AAyBA,SAAO;AACNC,MAAG,aAAU;AACZ9E,cAAU1H,KAAKyF,GAAL,EAAV;;AAEA7F,cAAUuD,QAAV,GAAqB5D,SAASI,sBAAT,CAAgCE,gBAAgByG,SAAhD,CAArB;AACAiB,mBAAehI,SAASI,sBAAT,CAAgCE,gBAAgByG,SAAhB,GAA4B,GAA5B,GAAkCzG,gBAAgB4G,YAAlF,CAAf;AACAS,WAAOrH,gBAAgBqH,IAAvB;;AAEA7G,qBAAiB,QAAjB,EAA2BuK,sBAA3B,EAAmD,IAAnD;;AAEAvK,qBAAiB,QAAjB,EAA2BuK,sBAA3B,EAAmD,IAAnD;;AAEA,QAAGxL,OAAOqN,gBAAV,EAA2B;AAC1B,SAAIA,gBAAJ,CAAsB7B,sBAAtB,EAA+C8B,OAA/C,CAAwD5M,OAAxD,EAAiE,EAAC6M,WAAW,IAAZ,EAAkBC,SAAS,IAA3B,EAAiCC,YAAY,IAA7C,EAAjE;AACA,KAFD,MAEO;AACN/M,aAAQK,iBAAR,EAA2B,iBAA3B,EAA8CyK,sBAA9C,EAAsE,IAAtE;AACA9K,aAAQK,iBAAR,EAA2B,iBAA3B,EAA8CyK,sBAA9C,EAAsE,IAAtE;AACAkC,iBAAYlC,sBAAZ,EAAoC,GAApC;AACA;;AAEDvK,qBAAiB,YAAjB,EAA+BuK,sBAA/B,EAAuD,IAAvD;;AAEA;AACA,KAAC,OAAD,EAAU,WAAV,EAAuB,OAAvB,EAAgC,MAAhC,EAAwC,eAAxC,EAAyD,cAAzD,EAAyE,oBAAzE,EAA+FhK,OAA/F,CAAuG,UAASsB,IAAT,EAAc;AACpH3C,cAASY,iBAAT,EAA4B+B,IAA5B,EAAkC0I,sBAAlC,EAA0D,IAA1D;AACA,KAFD;;AAIA,QAAI,QAAQzJ,IAAR,CAAa5B,SAASwN,UAAtB,CAAJ,EAAuC;AACtCT;AACA,KAFD,MAEO;AACNjM,sBAAiB,MAAjB,EAAyBiM,MAAzB;AACA/M,cAASY,iBAAT,EAA4B,kBAA5B,EAAgDyK,sBAAhD;AACAtK,gBAAWgM,MAAX,EAAmB,KAAnB;AACA;;AAED,QAAG1M,UAAUuD,QAAV,CAAmBmB,MAAtB,EAA6B;AAC5BoF;AACA5F,SAAIgB,QAAJ;AACA,KAHD,MAGO;AACN8F;AACA;AACD,IAzCK;AA0CNoC,eAAYpC,sBA1CN;AA2CNqC,WAAQzC;AA3CF,GAAP;AA6CA,EArUY,EAAb;;AAwUA,KAAI4B,YAAa,YAAU;AAC1B,MAAIc,cAAJ;;AAEA,MAAIC,cAAcpI,MAAM,UAAS9C,IAAT,EAAeuB,MAAf,EAAuBlB,KAAvB,EAA8BmB,KAA9B,EAAoC;AAC3D,OAAI2J,OAAJ,EAAaxD,CAAb,EAAgByD,GAAhB;AACApL,QAAK2B,eAAL,GAAuBH,KAAvB;AACAA,YAAS,IAAT;;AAEAxB,QAAKZ,YAAL,CAAkB,OAAlB,EAA2BoC,KAA3B;;AAEA,OAAGhD,WAAWU,IAAX,CAAgBqC,OAAOsI,QAAP,IAAmB,EAAnC,CAAH,EAA0C;AACzCsB,cAAU5J,OAAOyI,oBAAP,CAA4B,QAA5B,CAAV;AACA,SAAIrC,IAAI,CAAJ,EAAOyD,MAAMD,QAAQ9I,MAAzB,EAAiCsF,IAAIyD,GAArC,EAA0CzD,GAA1C,EAA8C;AAC7CwD,aAAQxD,CAAR,EAAWvI,YAAX,CAAwB,OAAxB,EAAiCoC,KAAjC;AACA;AACD;;AAED,OAAG,CAACnB,MAAMH,MAAN,CAAamL,QAAjB,EAA0B;AACzB3K,mBAAeV,IAAf,EAAqBK,MAAMH,MAA3B;AACA;AACD,GAjBiB,CAAlB;AAkBA,MAAIoL,iBAAiB,SAAjBA,cAAiB,CAAUtL,IAAV,EAAgBqL,QAAhB,EAA0B7J,KAA1B,EAAgC;AACpD,OAAInB,KAAJ;AACA,OAAIkB,SAASvB,KAAK4B,UAAlB;;AAEA,OAAGL,MAAH,EAAU;AACTC,YAAQF,SAAStB,IAAT,EAAeuB,MAAf,EAAuBC,KAAvB,CAAR;AACAnB,YAAQN,aAAaC,IAAb,EAAmB,iBAAnB,EAAsC,EAACwB,OAAOA,KAAR,EAAe6J,UAAU,CAAC,CAACA,QAA3B,EAAtC,CAAR;;AAEA,QAAG,CAAChL,MAAMuJ,gBAAV,EAA2B;AAC1BpI,aAAQnB,MAAMH,MAAN,CAAasB,KAArB;;AAEA,SAAGA,SAASA,UAAUxB,KAAK2B,eAA3B,EAA2C;AAC1CuJ,kBAAYlL,IAAZ,EAAkBuB,MAAlB,EAA0BlB,KAA1B,EAAiCmB,KAAjC;AACA;AACD;AACD;AACD,GAhBD;;AAkBA,MAAI+J,sBAAsB,SAAtBA,mBAAsB,GAAU;AACnC,OAAI5D,CAAJ;AACA,OAAIyD,MAAMH,eAAe5I,MAAzB;AACA,OAAG+I,GAAH,EAAO;AACNzD,QAAI,CAAJ;;AAEA,WAAMA,IAAIyD,GAAV,EAAezD,GAAf,EAAmB;AAClB2D,oBAAeL,eAAetD,CAAf,CAAf;AACA;AACD;AACD,GAVD;;AAYA,MAAI6D,+BAA+B3H,SAAS0H,mBAAT,CAAnC;;AAEA,SAAO;AACNhB,MAAG,aAAU;AACZU,qBAAiB3N,SAASI,sBAAT,CAAgCE,gBAAgB8G,cAAhD,CAAjB;AACAtG,qBAAiB,QAAjB,EAA2BoN,4BAA3B;AACA,IAJK;AAKNT,eAAYS,4BALN;AAMNpB,eAAYkB;AANN,GAAP;AAQA,EA7De,EAAhB;;AA+DA,KAAIvG,OAAO,SAAPA,IAAO,GAAU;AACpB,MAAG,CAACA,KAAK4C,CAAT,EAAW;AACV5C,QAAK4C,CAAL,GAAS,IAAT;AACAwC,aAAUI,CAAV;AACAlF,UAAOkF,CAAP;AACA;AACD,EAND;;AAQA5M,aAAY;AACX8N,OAAK7N,eADM;AAEXuM,aAAWA,SAFA;AAGX9E,UAAQA,MAHG;AAIXN,QAAMA,IAJK;AAKX2G,MAAIhL,cALO;AAMXiL,MAAIxM,QANO;AAOXyM,MAAItM,WAPO;AAQXuM,MAAI/M,QARO;AASXgN,QAAM/L,YATK;AAUXgM,MAAIzK,QAVO;AAWXO,OAAKA;AAXM,EAAZ;;AAcA,QAAOlE,SAAP;AACA,CA3rBA,CAAD,C;;;;;;;;;;;;;;;;;ACAA;;;;AAIA;;;;;AAKA,CAAC,UAASR,MAAT,EAAiB;AACjB;AACA,KAAI6O,KAAK3F,UAAUC,SAAnB;;AAEA,KAAKnJ,OAAOc,kBAAP,IAA+B,MAAD,CAASiB,IAAT,CAAc8M,EAAd,KAAqBA,GAAGC,KAAH,CAAS,WAAT,CAArB,IAA8ChN,OAAOiN,EAAP,GAAY,EAA7F,EAAmG;AAClG9N,mBAAiB,QAAjB,EAA4B,YAAW;AACtC,OAAI+N,KAAJ;;AAEA,OAAIC,WAAW9O,SAAS+O,aAAT,CAAuB,QAAvB,CAAf;;AAEA,OAAIC,aAAa,SAAbA,UAAa,CAASC,GAAT,EAAc;AAC9B,QAAIpD,MAAJ,EAAYI,KAAZ;AACA,QAAIiD,UAAUD,IAAI3K,UAAlB;;AAEA,QAAI4K,QAAQ3C,QAAR,CAAiB4C,WAAjB,OAAmC,SAAvC,EAAkD;AACjDtD,cAASiD,SAASM,SAAT,EAAT;;AAEAF,aAAQG,YAAR,CAAqBxD,MAArB,EAA6BqD,QAAQI,iBAArC;AACAvO,gBAAW,YAAW;AACrBmO,cAAQK,WAAR,CAAoB1D,MAApB;AACA,MAFD;AAGA,KAPD,MAOO,IAAI,CAACoD,IAAIO,WAAL,IAAoBP,IAAI9K,WAAJ,GAAkB8K,IAAIO,WAA9C,EAA2D;AACjEP,SAAIO,WAAJ,GAAkBP,IAAI9K,WAAtB;AACA8H,aAAQgD,IAAIhD,KAAZ;AACAgD,SAAIhD,KAAJ,IAAa,QAAb;AACAlL,gBAAW,YAAW;AACrBkO,UAAIhD,KAAJ,GAAYA,KAAZ;AACA,MAFD;AAGA;AACD,IAnBD;;AAqBA,OAAIwD,kBAAkB,SAAlBA,eAAkB,GAAW;AAChC,QAAIpF,CAAJ;AACA,QAAIqF,OAAO1P,SAAS2P,gBAAT,CAA0B,mCAA1B,CAAX;AACA,SAAKtF,IAAI,CAAT,EAAYA,IAAIqF,KAAK3K,MAArB,EAA6BsF,GAA7B,EAAkC;AACjC2E,gBAAWU,KAAKrF,CAAL,CAAX;AACA;AACD,IAND;AAOA,OAAIuF,WAAW,SAAXA,QAAW,GAAW;AACzBpD,iBAAaqC,KAAb;AACAA,YAAQ9N,WAAW0O,eAAX,EAA4B,EAA5B,CAAR;AACA,IAHD;AAIA,OAAII,KAAKhQ,OAAOiQ,UAAP,IAAqBA,WAAW,0BAAX,CAA9B;AACA,OAAIrI,OAAO,SAAPA,IAAO,GAAW;AACrBmI;;AAEA,QAAIC,MAAMA,GAAGE,WAAb,EAA0B;AACzBF,QAAGE,WAAH,CAAeH,QAAf;AACA;AACD,IAND;;AAQAd,YAAS3C,MAAT,GAAkB,4EAAlB;;AAEA,OAAI,YAAYvK,IAAZ,CAAiB5B,SAASwN,UAAT,IAAuB,EAAxC,CAAJ,EAAiD;AAChD/F;AACA,IAFD,MAEO;AACNzH,aAASc,gBAAT,CAA0B,kBAA1B,EAA8C2G,IAA9C;AACA;;AAED,UAAOmI,QAAP;AACA,GAvD0B,EAA3B;AAwDA;AACD,CA9DD,EA8DG/P,MA9DH;;AAgEA;;;;;;AAMA,CAAC,UAAUA,MAAV,EAAkBG,QAAlB,EAA4BgQ,SAA5B,EAAwC;AACxC;AACA;;AAEA;;AACAhQ,UAAS+O,aAAT,CAAwB,SAAxB;;AAEA,KAAIkB,IAAJ,EAAUC,MAAV,EAAkBC,sBAAlB,EAA0CC,MAA1C;AACA;AACA,KAAI3M,KAAK,EAAT;AACA,KAAI4M,qBAAqB,KAAzB;AACA,KAAIC,OAAO,SAAPA,IAAO,GAAW,CAAE,CAAxB;AACA,KAAIC,QAAQvQ,SAAS+O,aAAT,CAAwB,KAAxB,CAAZ;AACA,KAAIyB,aAAaD,MAAME,YAAvB;AACA,KAAIC,aAAaH,MAAMzO,YAAvB;AACA,KAAI6O,gBAAgBJ,MAAMK,eAA1B;AACA,KAAIrQ,UAAUP,SAASQ,eAAvB;AACA,KAAIqQ,QAAQ,EAAZ;AACA,KAAI1C,MAAM;AACT;AACA2C,aAAW;AAFF,EAAV;AAIA,KAAIzJ,UAAU,YAAd;AACA,KAAIC,aAAaD,UAAU,KAA3B;AACA;AACA;AACA,KAAIqH,KAAK3F,UAAUC,SAAnB;AACA,KAAI+H,eAAgB,QAAD,CAAWnP,IAAX,CAAgB8M,EAAhB,KAAyB,MAAD,CAAS9M,IAAT,CAAc8M,EAAd,KAAqBA,GAAGC,KAAH,CAAS,WAAT,CAArB,IAA8ChN,OAAOiN,EAAP,GAAY,EAArG;AACA,KAAIoC,aAAa,YAAjB;AACA,KAAIC,WAAW,mBAAf;AACA,KAAIC,UAAU,qBAAd;AACA,KAAIC,aAAatR,OAAOuR,cAAxB;AACA;;;AAGA;AACA,KAAIC,YAAY,sJAAhB;AACA,KAAIC,QAAQ,2BAAZ;AACA,KAAIC,YAAY,IAAhB;;AAEA,KAAIC,WAAW,EAAf;AACA,KAAIC,kBAAkB,EAAtB;AACA,KAAIC,MAAM7R,OAAO8R,gBAAjB;AACA,KAAIC,QAAQ;AACXC,MAAI,CADO;AAEX,QAAM;AAFK,EAAZ;AAIA,KAAIC,SAAS9R,SAAS+O,aAAT,CAAwB,GAAxB,CAAb;AACA;;;;AAIA,KAAIgD,aAAa,KAAjB;;AAEA;;AAEA;AACA,KAAIC,qBAAqB,mBAAzB;AAAA,KACIC,6BAA6B,oBADjC;AAAA,KAEIC,wBAAwB,oBAF5B;AAAA,KAGIC,sBAAsB,OAH1B;AAAA,KAIIC,0BAA0B,OAJ9B;;;AAMI;AACA;AACA;AACA;AACA;AACAC,sBAAqB,mDAXzB;;AAaA,KAAIC,KAAK,SAALA,EAAK,CAASC,GAAT,EAAc/P,GAAd,EAAmBH,EAAnB,EAAuBmQ,OAAvB,EAAgC;AACxC,MAAKD,IAAIzR,gBAAT,EAA4B;AAC3ByR,OAAIzR,gBAAJ,CAAqB0B,GAArB,EAA0BH,EAA1B,EAA8BmQ,WAAW,KAAzC;AACA,GAFD,MAEO,IAAKD,IAAIE,WAAT,EAAuB;AAC7BF,OAAIE,WAAJ,CAAiB,OAAOjQ,GAAxB,EAA6BH,EAA7B;AACA;AACD,EAND;;AAQA;;;;AAIA,KAAIqQ,UAAU,SAAVA,OAAU,CAASrQ,EAAT,EAAa;AAC1B,MAAIsQ,QAAQ,EAAZ;AACA,SAAO,UAASC,KAAT,EAAgB;AACtB,OAAK,EAAEA,SAASD,KAAX,CAAL,EAAyB;AACxBA,UAAOC,KAAP,IAAiBvQ,GAAGuQ,KAAH,CAAjB;AACA;AACD,UAAOD,MAAOC,KAAP,CAAP;AACA,GALD;AAMA,EARD;;AAUA;;AAEA;AACA;AACA,UAASC,OAAT,CAAiBC,CAAjB,EAAoB;AACnB,SAAQA,MAAM,GAAN,IAAkB;AAClBA,QAAM,IADN,IACkB;AAClBA,QAAM,IAFN,IAEkB;AAClBA,QAAM,IAHN,IAGkB;AAClBA,QAAM,IAJd,CADmB,CAKO;AAC1B;;AAED;;;;;;;AAOA,KAAIC,UAAW,YAAW;;AAEzB,MAAIC,YAAY,uBAAhB;AACA,MAAI9Q,UAAU,SAAVA,OAAU,GAAW;AACxB,OAAIyD,OAAOP,SAAX;AAAA,OAAsB6N,QAAQ,CAA9B;AAAA,OAAiCC,SAASvN,KAAK,CAAL,CAA1C;AACA,UAAO,EAAEsN,KAAF,IAAWtN,IAAlB,EAAwB;AACvBuN,aAASA,OAAOhR,OAAP,CAAeyD,KAAKsN,KAAL,CAAf,EAA4BtN,KAAK,EAAEsN,KAAP,CAA5B,CAAT;AACA;AACD,UAAOC,MAAP;AACA,GAND;;AAQA,MAAIC,WAAWT,QAAQ,UAASU,GAAT,EAAc;;AAEpC,UAAO,YAAYlR,QAAQ,CAACkR,OAAO,EAAR,EAAYC,WAAZ,EAAR;AAClB;AACA,aAFkB,EAEN,IAFM;;AAIlB;AACA,OALkB,EAKZ,IALY;;AAOlB;AACA,sBARkB,EAQG,QARH;;AAUlB;AACA,sBAXkB,EAWG,QAXH;;AAalB;AACA,iBAdkB,EAcF,MAdE;;AAgBlB;AACA,6BAjBkB,EAiBU,aAjBV;AAkBlB;AACA,gDAnBkB,EAmB6B,EAnB7B,CAAZ,GAoBH,GApBJ;AAqBA,GAvBc,CAAf;;AAyBA,SAAO,UAASD,GAAT,EAAcrO,MAAd,EAAsB;AAC5B,OAAIuO,YAAJ;AACA,OAAI,EAAEF,OAAO5B,QAAT,CAAJ,EAAwB;AACvBA,aAAS4B,GAAT,IAAgB,KAAhB;AACA,QAAIrO,WAAWuO,eAAeF,IAAIzE,KAAJ,CAAWqE,SAAX,CAA1B,CAAJ,EAAuD;AACtDxB,cAAS4B,GAAT,IAAgBE,aAAc,CAAd,IAAoB1B,MAAM0B,aAAc,CAAd,CAAN,CAApC;AACA,KAFD,MAEO;AACN;AACA,SAAG;AACF9B,eAAS4B,GAAT,IAAgB,IAAIG,QAAJ,CAAa,GAAb,EAAkBJ,SAASC,GAAT,CAAlB,EAAiCxB,KAAjC,CAAhB;AACA,MAFD,CAEE,OAAMtI,CAAN,EAAS,CAAE;AACb;AACA;AACD;AACD,UAAOkI,SAAS4B,GAAT,CAAP;AACA,GAfD;AAgBA,EApDa,EAAd;;AAsDA,KAAII,gBAAgB,SAAhBA,aAAgB,CAAUC,SAAV,EAAqBC,SAArB,EAAiC;AACpD,MAAKD,UAAUE,CAAf,EAAmB;AAAE;AACpBF,aAAUG,MAAV,GAAmBnQ,GAAGoQ,cAAH,CAAmBH,aAAa,OAAhC,CAAnB;AACAD,aAAUK,GAAV,GAAgBL,UAAUE,CAAV,GAAcF,UAAUG,MAAxC;AACA,GAHD,MAGO;AACNH,aAAUK,GAAV,GAAgBL,UAAUM,CAA1B;AACA;AACD,SAAON,SAAP;AACA,EARD;;AAUA;;;;AAIA,KAAIjQ,cAAc,qBAAUwQ,GAAV,EAAgB;;AAEjC,MAAI,CAAC3D,kBAAL,EAAyB;AAAC;AAAQ;;AAElC,MAAIzM,QAAJ,EAAcyG,CAAd,EAAiB4J,IAAjB;;AAEA,MAAIC,UAAUF,OAAO,EAArB;;AAEA,MAAKE,QAAQtQ,QAAR,IAAoBsQ,QAAQtQ,QAAR,CAAiBuQ,QAAjB,KAA8B,CAAvD,EAA2D;AAC1D,OAAKD,QAAQtQ,QAAR,CAAiB2I,QAAjB,CAA0B4C,WAA1B,OAA4C,KAAjD,EAAyD;AACxD+E,YAAQtQ,QAAR,GAAoB,CAAEsQ,QAAQtQ,QAAV,CAApB;AACA,IAFD,MAEO;AACNsQ,YAAQE,OAAR,GAAkBF,QAAQtQ,QAA1B;AACAsQ,YAAQtQ,QAAR,GAAoB,IAApB;AACA;AACD;;AAEDA,aAAWsQ,QAAQtQ,QAAR,IAAoBH,GAAG4Q,GAAH,CAASH,QAAQE,OAAR,IAAmBpU,QAA5B,EAAyCkU,QAAQvQ,UAAR,IAAsBuQ,QAAQI,QAAhC,GAA6C7Q,GAAG8Q,GAAhD,GAAsD9Q,GAAG+Q,QAAhG,CAA/B;;AAEA,MAAMP,OAAOrQ,SAASmB,MAAtB,EAAgC;;AAE/BtB,MAAGgR,QAAH,CAAaP,OAAb;AACAnC,gBAAa,IAAb;;AAEA;AACA,QAAM1H,IAAI,CAAV,EAAaA,IAAI4J,IAAjB,EAAuB5J,GAAvB,EAA6B;AAC5B5G,OAAGiR,OAAH,CAAW9Q,SAAUyG,CAAV,CAAX,EAA0B6J,OAA1B;AACA;;AAEDzQ,MAAGkR,WAAH,CAAgBT,OAAhB;AACA;AACD,EA/BD;;AAiCA;;;;;AAKAjE,QAASpQ,OAAO+U,OAAP,IAAkBA,QAAQ3E,IAA5B,GACN,UAAU4E,OAAV,EAAoB;AACnBD,UAAQ3E,IAAR,CAAc4E,OAAd;AACA,EAHK,GAINvE,IAJD;;AAOA,KAAK,EAAEU,cAAcT,KAAhB,CAAL,EAA8B;AAC7BS,eAAa,KAAb;AACA;;AAED;AACAH,OAAO,YAAP,IAAwB,IAAxB;AACAA,OAAO,WAAP,IAAuB,IAAvB;AACAA,OAAO,WAAP,IAAuB,IAAvB;;AAEA,UAASiE,iBAAT,CAA4BC,IAA5B,EAAkCC,OAAlC,EAA4C;AAC3C;AACA;AACA,MAAIzE,QAAQ,IAAI1Q,OAAOoV,KAAX,EAAZ;AACA1E,QAAM2E,OAAN,GAAgB,YAAW;AAC1BrE,SAAOkE,IAAP,IAAgB,KAAhB;AACAvR;AACA,GAHD;AAIA+M,QAAMxD,MAAN,GAAe,YAAW;AACzB8D,SAAOkE,IAAP,IAAgBxE,MAAMrM,KAAN,KAAgB,CAAhC;AACAV;AACA,GAHD;AAIA+M,QAAM7M,GAAN,GAAYsR,OAAZ;AACA,SAAO,SAAP;AACA;;AAED;AACAnE,OAAO,eAAP,IAA2B7Q,SAASmV,cAAT,CAAwBC,UAAxB,CAAoC,0CAApC,EAAgF,KAAhF,CAA3B;;AAEA;;;AAGA,UAASC,aAAT,GAAyB;;AAExB9D,cAAY,KAAZ;AACAG,QAAM7R,OAAO8R,gBAAb;AACAH,aAAW,EAAX;AACAC,oBAAkB,EAAlB;;AAEAhO,KAAGiO,GAAH,GAASA,OAAO,CAAhB;;AAEAE,QAAM1N,KAAN,GAAcoR,KAAKC,GAAL,CAAS1V,OAAOqL,UAAP,IAAqB,CAA9B,EAAiC3K,QAAQwK,WAAzC,CAAd;AACA6G,QAAM4D,MAAN,GAAeF,KAAKC,GAAL,CAAS1V,OAAOsL,WAAP,IAAsB,CAA/B,EAAkC5K,QAAQuK,YAA1C,CAAf;;AAEA8G,QAAM6D,EAAN,GAAW7D,MAAM1N,KAAN,GAAc,GAAzB;AACA0N,QAAM8D,EAAN,GAAW9D,MAAM4D,MAAN,GAAe,GAA1B;;AAEApF,WAAS,CAAEwB,MAAM4D,MAAR,EAAgB5D,MAAM1N,KAAtB,EAA6BwN,GAA7B,EAAmCiE,IAAnC,CAAwC,GAAxC,CAAT;;AAEA/D,QAAMgE,EAAN,GAAWnS,GAAGoS,UAAH,EAAX;AACAjE,QAAMkE,GAAN,GAAYlE,MAAMgE,EAAlB;AACA;;AAED,UAASG,YAAT,CAAuBC,UAAvB,EAAmCC,WAAnC,EAAgDC,QAAhD,EAA0DC,QAA1D,EAAqE;AACpE,MAAIC,WAAJ,EAAiBC,OAAjB,EAA0BC,KAA1B,EAAiCC,WAAjC;;AAEA;AACA,MAAIpI,IAAI2C,SAAJ,KAAkB,UAAtB,EAAkC;AACjC,OAAKkF,aAAa,GAAlB,EAAwB;AACvBO,kBAAcL,WAAW,CAAzB;AACA,IAFD,MAEO;AACNG,cAAUJ,cAAcC,QAAxB;AACAE,kBAAcd,KAAKkB,GAAL,CAASR,aAAa,GAAtB,EAA2B,GAA3B,CAAd;;AAEAM,YAAQD,UAAUD,WAAlB;;AAEA,QAAID,QAAJ,EAAc;AACbG,cAAS,MAAMF,WAAf;AACA;;AAEDG,kBAAcP,aAAaM,KAA3B;AACA;AACD,GAfD,MAeO;AACNC,iBAAeL,WAAW,CAAZ,GACbZ,KAAKmB,IAAL,CAAUT,aAAaC,WAAvB,CADa,GAEbD,UAFD;AAGA;;AAED,SAAOO,cAAcL,QAArB;AACA;;AAED,UAASQ,kBAAT,CAA6BzH,GAA7B,EAAmC;AAClC,MAAI0H,gBAAJ;AACA,MAAIC,cAAcnT,GAAGoT,MAAH,CAAW5H,GAAX,CAAlB;AACA,MAAI6H,YAAY,KAAhB;AACA,MAAKF,gBAAgB,SAArB,EAAiC;AAChCE,eAAY1G,MAAZ;AACA,OAAKwG,WAAL,EAAmB;AAClBD,uBAAmBlT,GAAGsT,MAAH,CAAWH,WAAX,CAAnB;AACAnT,OAAGuT,iBAAH,CAAsBL,gBAAtB,EAAwC1H,GAAxC;AACA;AACD;AACDA,MAAKxL,GAAGwT,EAAR,EAAaC,MAAb,GAAsBJ,SAAtB;AACA;;AAED,UAASK,aAAT,CAAwBC,CAAxB,EAA2BC,CAA3B,EAA+B;AAC9B,SAAOD,EAAEtD,GAAF,GAAQuD,EAAEvD,GAAjB;AACA;;AAED,UAASwD,WAAT,CAAsBrI,GAAtB,EAA2BvL,GAA3B,EAAgC6T,GAAhC,EAAsC;AACrC,MAAI9D,SAAJ;AACA,MAAK,CAAC8D,GAAD,IAAQ7T,GAAb,EAAmB;AAClB6T,SAAMtI,IAAKxL,GAAGwT,EAAR,EAAaO,IAAnB;AACAD,SAAMA,OAAOA,IAAIA,IAAIxS,MAAJ,GAAa,CAAjB,CAAb;AACA;;AAED0O,cAAYgE,mBAAmB/T,GAAnB,EAAwB6T,GAAxB,CAAZ;;AAEA,MAAK9D,SAAL,EAAiB;AAChB/P,SAAMD,GAAGiU,OAAH,CAAWhU,GAAX,CAAN;AACAuL,OAAKxL,GAAGwT,EAAR,EAAaU,MAAb,GAAsBjU,GAAtB;AACAuL,OAAKxL,GAAGwT,EAAR,EAAaW,MAAb,GAAsBnE,SAAtB;;AAEA,OAAK,CAACA,UAAUK,GAAhB,EAAsB;AACrBN,kBAAeC,SAAf,EAA0BA,UAAU8D,GAAV,CAActL,KAAxC;AACA;AACD;AACD,SAAOwH,SAAP;AACA;;AAED,UAASgE,kBAAT,CAA6B/T,GAA7B,EAAkC6T,GAAlC,EAAwC;AACvC,MAAIlN,CAAJ,EAAOoJ,SAAP,EAAkBoE,UAAlB;AACA,MAAKnU,OAAO6T,GAAZ,EAAkB;AACjBM,gBAAapU,GAAGqU,QAAH,CAAaP,GAAb,CAAb;AACA7T,SAAMD,GAAGiU,OAAH,CAAWhU,GAAX,CAAN;AACA,QAAM2G,IAAI,CAAV,EAAaA,IAAIwN,WAAW9S,MAA5B,EAAoCsF,GAApC,EAA0C;AACzC,QAAK3G,QAAQD,GAAGiU,OAAH,CAAWG,WAAYxN,CAAZ,EAAgB0N,GAA3B,CAAb,EAA+C;AAC9CtE,iBAAYoE,WAAYxN,CAAZ,CAAZ;AACA;AACA;AACD;AACD;AACD,SAAOoJ,SAAP;AACA;;AAED,UAASuE,oBAAT,CAA+B9I,OAA/B,EAAwC2I,UAAxC,EAAqD;AACpD,MAAIxN,CAAJ,EAAOyD,GAAP,EAAYjC,MAAZ,EAAoBM,MAApB;;AAEA;AACA;AACA;AACA,MAAI0B,UAAUqB,QAAQxC,oBAAR,CAA8B,QAA9B,CAAd;;AAEA,OAAMrC,IAAI,CAAJ,EAAOyD,MAAMD,QAAQ9I,MAA3B,EAAmCsF,IAAIyD,GAAvC,EAA4CzD,GAA5C,EAAkD;AACjDwB,YAASgC,QAASxD,CAAT,CAAT;AACAwB,UAAQpI,GAAGwT,EAAX,IAAkB,IAAlB;AACA9K,YAASN,OAAO4E,YAAP,CAAqB,QAArB,CAAT;;AAEA;AACA,OAAKtE,MAAL,EAAc;AACb0L,eAAWxS,IAAX,CAAiB;AAChB8G,aAAQA,MADQ;AAEhB8L,YAAOpM,OAAO4E,YAAP,CAAqB,OAArB,CAFS;AAGhBsE,WAAMlJ,OAAO4E,YAAP,CAAqB,MAArB,CAHU;AAIhBxE,YAAOJ,OAAO4E,YAAP,CAAqB,OAArB;AAJS,KAAjB;AAMA;AACD;AACD;;AAED;;;;;;;;;;AAUA;AACA;AACA;AACA;AACA;AACA,UAASyH,WAAT,CAAqBtF,KAArB,EAA4B2E,GAA5B,EAAiC;;AAEhC,WAASY,iBAAT,CAA2BC,KAA3B,EAAkC;AACjC,OAAIC,KAAJ;AAAA,OACI1J,QAAQyJ,MAAME,IAAN,CAAW1F,MAAM2F,SAAN,CAAgBC,GAAhB,CAAX,CADZ;AAEA,OAAI7J,KAAJ,EAAW;AACV0J,YAAQ1J,MAAO,CAAP,CAAR;AACA6J,WAAOH,MAAMtT,MAAb;AACA,WAAOsT,KAAP;AACA;AACD;;AAED,MAAII,cAAc7F,MAAM7N,MAAxB;AAAA,MACIgT,GADJ;AAAA,MAEIW,WAFJ;AAAA,MAGIC,iBAHJ;AAAA,MAIIC,KAJJ;AAAA,MAKI9F,CALJ;;;AAOI;AACA;AACA0F,QAAM,CATV;;;AAWI;AACAX,eAAa,EAZjB;;AAcA;;;;AAIA;AACA;AACA;AACA,WAASgB,gBAAT,GAA4B;;AAE3B;AACA,OAAIC,SAAS,KAAb;;;AAEA;AACA;AACA;AACInF,IALJ;AAAA,OAKOI,CALP;AAAA,OAKUgF,CALV;AAAA,OAKa1O,CALb;AAAA,OAMIoJ,YAAY,EANhB;AAAA,OAOIuF,IAPJ;AAAA,OAOUC,QAPV;AAAA,OAOoBC,KAPpB;AAAA,OAO2BC,MAP3B;AAAA,OAOmCC,QAPnC;;AASA;AACA;AACA,QAAK/O,IAAI,CAAT,EAAaA,IAAIqO,YAAY3T,MAA7B,EAAqCsF,GAArC,EAA0C;AACzC2O,WAAON,YAAarO,CAAb,CAAP;;AAEA4O,eAAWD,KAAMA,KAAKjU,MAAL,GAAc,CAApB,CAAX;AACAmU,YAAQF,KAAKT,SAAL,CAAe,CAAf,EAAkBS,KAAKjU,MAAL,GAAc,CAAhC,CAAR;AACAoU,aAASE,SAASH,KAAT,EAAgB,EAAhB,CAAT;AACAE,eAAWE,WAAWJ,KAAX,CAAX;;AAEA;AACA;AACA,QAAI9G,wBAAwBxQ,IAAxB,CAA6BsX,KAA7B,KAAwCD,aAAa,GAAzD,EAA+D;;AAE9D;AACA,SAAItF,KAAKI,CAAT,EAAY;AAAC+E,eAAS,IAAT;AAAe;;AAE5B;AACA;AACA;AACA,SAAIK,WAAW,CAAf,EAAkB;AAACL,eAAS,IAAT;AAAe,MAAlC,MAAwC;AAACnF,UAAIwF,MAAJ;AAAY;;AAEtD;AACA;AACC,KAZD,MAYO,IAAI9G,mBAAmBzQ,IAAnB,CAAwBsX,KAAxB,KAAmCD,aAAa,GAApD,EAA0D;;AAEhE;AACA;AACA,SAAItF,KAAKI,CAAL,IAAUgF,CAAd,EAAiB;AAACD,eAAS,IAAT;AAAe;;AAEjC;AACA;AACA;AACA,SAAIM,WAAW,CAAf,EAAkB;AAACN,eAAS,IAAT;AAAe,MAAlC,MAAwC;AAAC/E,UAAIqF,QAAJ;AAAc;;AAExD;AACA;AACC,KAbM,MAaA,IAAIhH,wBAAwBxQ,IAAxB,CAA6BsX,KAA7B,KAAwCD,aAAa,GAAzD,EAA+D;;AAErE;AACA,SAAIF,KAAKhF,CAAT,EAAY;AAAC+E,eAAS,IAAT;AAAe;;AAE5B;AACA;AACA;AACA,SAAIK,WAAW,CAAf,EAAkB;AAACL,eAAS,IAAT;AAAe,MAAlC,MAAwC;AAACC,UAAII,MAAJ;AAAY;;AAEtD;AACC,KAXM,MAWA;AAACL,cAAS,IAAT;AAAe;AACvB,IA7D0B,CA6DzB;;AAEF;AACA;AACA;AACA,OAAI,CAACA,MAAL,EAAa;AACZrF,cAAUsE,GAAV,GAAgBA,GAAhB;;AAEA,QAAIpE,CAAJ,EAAO;AAAEF,eAAUE,CAAV,GAAcA,CAAd;AAAiB;AAC1B,QAAII,CAAJ,EAAO;AAAEN,eAAUM,CAAV,GAAcA,CAAd;AAAiB;AAC1B,QAAIgF,CAAJ,EAAO;AAAEtF,eAAUsF,CAAV,GAAcA,CAAd;AAAiB;AAC1B,QAAI,CAACA,CAAD,IAAM,CAAChF,CAAP,IAAY,CAACJ,CAAjB,EAAoB;AAACF,eAAUM,CAAV,GAAc,CAAd;AAAiB;AACtC,QAAIN,UAAUM,CAAV,KAAgB,CAApB,EAAuB;AAACwD,SAAIgC,KAAJ,GAAY,IAAZ;AAAkB;AAC1C9F,cAAU8D,GAAV,GAAgBA,GAAhB;;AAEAM,eAAWxS,IAAX,CAAgBoO,SAAhB;AACA;AACD,GA/G+B,CA+G9B;;AAEF;;;;;;AAMA,WAAS+F,QAAT,GAAoB;;AAEnB;AACArB,qBAAkBnG,kBAAlB;;AAEA;AACA2G,uBAAoB,EAApB;;AAEA;AACAC,WAAQ,eAAR;;AAEA,UAAO,IAAP,EAAa;;AAEZ;AACA9F,QAAIF,MAAM6G,MAAN,CAAajB,GAAb,CAAJ;;AAEA;AACA;AACA;;AAEA;AACA,QAAII,UAAU,eAAd,EAA+B;AAC9B;;AAEC;AACA;AACA;AACA;AACD,SAAI/F,QAAQC,CAAR,CAAJ,EAAgB;AACf,UAAI6F,iBAAJ,EAAuB;AACtBD,mBAAYrT,IAAZ,CAAiBsT,iBAAjB;AACAA,2BAAoB,EAApB;AACAC,eAAQ,kBAAR;AACA;;AAEF;AACA;AACA;AACA;AACC,MAXD,MAWO,IAAI9F,MAAM,GAAV,EAAe;AACrB0F,aAAO,CAAP;AACA,UAAIG,iBAAJ,EAAuB;AACtBD,mBAAYrT,IAAZ,CAAiBsT,iBAAjB;AACA;AACDE;AACA;;AAED;AACA;AACC,MAVM,MAUA,IAAI/F,MAAM,GAAV,EAAoB;AAC1B6F,0BAAoBA,oBAAoB7F,CAAxC;AACA8F,cAAQ,WAAR;;AAED;AACA;AACA;AACC,MAPM,MAOA,IAAI9F,MAAM,EAAV,EAAc;AACpB,UAAI6F,iBAAJ,EAAuB;AACtBD,mBAAYrT,IAAZ,CAAiBsT,iBAAjB;AACA;AACDE;AACA;;AAED;AACA;AACC,MATM,MASA;AACNF,0BAAoBA,oBAAoB7F,CAAxC;AACA;AACF;;AAEA;AACC,KAlDD,MAkDO,IAAI8F,UAAU,WAAd,EAA2B;;AAEjC;AACA;AACA,SAAI9F,MAAM,GAAV,EAAe;AACd6F,0BAAoBA,oBAAoB7F,CAAxC;AACA8F,cAAQ,eAAR;;AAED;AACA;AACA;AACC,MAPD,MAOO,IAAI9F,MAAM,EAAV,EAAc;AACpB4F,kBAAYrT,IAAZ,CAAiBsT,iBAAjB;AACAE;AACA;;AAED;AACA;AACC,MAPM,MAOA;AACNF,0BAAoBA,oBAAoB7F,CAAxC;AACA;;AAEF;AACC,KAvBM,MAuBA,IAAI8F,UAAU,kBAAd,EAAkC;;AAExC;AACA;AACA,SAAI/F,QAAQC,CAAR,CAAJ,EAAgB;;AAEhB;AACC,MAHD,MAGO,IAAIA,MAAM,EAAV,EAAc;AACpB+F;AACA;;AAED;AACA;AACC,MANM,MAMA;AACND,cAAQ,eAAR;AACAJ,aAAO,CAAP;AAEA;AACD;;AAED;AACAA,WAAO,CAAP;;AAED;AACC,IAtHkB,CAsHjB;AACF;;AAED;AACA;AACA;AACA,SAAO,IAAP,EAAa;AACZL,qBAAkBlG,0BAAlB;;AAEA;AACA,OAAIuG,OAAOC,WAAX,EAAwB;AACvB,WAAOZ,UAAP,CADuB,CACJ;AACnB;;AAED;AACA;AACAE,SAAMI,kBAAkBjG,qBAAlB,CAAN;;AAEA;AACAwG,iBAAc,EAAd;;AAEA;AACA;AACA;AACA,OAAIX,IAAI2B,KAAJ,CAAU,CAAC,CAAX,MAAkB,GAAtB,EAA2B;AAC1B3B,UAAMA,IAAI7V,OAAJ,CAAYiQ,mBAAZ,EAAiC,EAAjC,CAAN;AACA;AACA0G;;AAED;AACC,IAND,MAMO;AACNW;AACA,IA1BW,CA0BV;;AAEH;AACC,GAhR+B,CAgR9B;AACF;;AAED;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2BA,UAASG,UAAT,CAAoBC,QAApB,EAA8B;;AAE7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAIC,0BAA0B,yGAA9B;;AAEA;AACA;AACA,MAAIC,eAAe,yCAAnB;;AAEA,MAAIzP,CAAJ;AACA,MAAI0P,iBAAJ;AACA,MAAIC,uBAAJ;AACA,MAAIC,YAAJ;AACA,MAAIC,kBAAJ;AACA,MAAIC,IAAJ;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAASC,oBAAT,CAA8BC,GAA9B,EAAmC;AAClC,OAAIC,MAAJ;AACA,OAAIC,YAAY,EAAhB;AACA,OAAIC,iBAAiB,EAArB;AACA,OAAIC,YAAY,EAAhB;AACA,OAAIC,aAAa,CAAjB;AACA,OAAIlC,MAAM,CAAV;AACA,OAAImC,YAAY,KAAhB;;AAEA,YAASC,aAAT,GAAyB;AACxB,QAAIL,SAAJ,EAAe;AACdC,oBAAenV,IAAf,CAAoBkV,SAApB;AACAA,iBAAY,EAAZ;AACA;AACD;;AAED,YAASM,kBAAT,GAA8B;AAC7B,QAAIL,eAAe,CAAf,CAAJ,EAAuB;AACtBC,eAAUpV,IAAV,CAAemV,cAAf;AACAA,sBAAiB,EAAjB;AACA;AACD;;AAED;AACA,UAAO,IAAP,EAAa;AACZF,aAASD,IAAIZ,MAAJ,CAAWjB,GAAX,CAAT;;AAEA,QAAI8B,WAAW,EAAf,EAAmB;AAAE;AACpBM;AACAC;AACA,YAAOJ,SAAP;AACA,KAJD,MAIO,IAAIE,SAAJ,EAAe;AACrB,SAAKL,WAAW,GAAZ,IAAqBD,IAAI7B,MAAM,CAAV,MAAiB,GAA1C,EAAgD;AAAE;AACjDmC,kBAAY,KAAZ;AACAnC,aAAO,CAAP;AACAoC;AACA;AACA,MALD,MAKO;AACNpC,aAAO,CAAP,CADM,CACI;AACV;AACA;AACD,KAVM,MAUA,IAAI3F,QAAQyH,MAAR,CAAJ,EAAqB;AAC3B;AACA;AACA;AACA,SAAMD,IAAIZ,MAAJ,CAAWjB,MAAM,CAAjB,KAAuB3F,QAASwH,IAAIZ,MAAJ,CAAWjB,MAAM,CAAjB,CAAT,CAAxB,IAA4D,CAAC+B,SAAlE,EAA8E;AAC7E/B,aAAO,CAAP;AACA;AACA,MAHD,MAGO,IAAIkC,eAAe,CAAnB,EAAsB;AAC5BE;AACApC,aAAM,CAAN;AACA;AACA,MAJM,MAIA;AACN;AACA8B,eAAS,GAAT;AACA;AACD,KAfM,MAeA,IAAIA,WAAW,GAAf,EAAoB;AAC1BI,mBAAc,CAAd;AACA,KAFM,MAEA,IAAIJ,WAAW,GAAf,EAAoB;AAC1BI,mBAAc,CAAd;AACA,KAFM,MAEA,IAAIJ,WAAW,GAAf,EAAoB;AAC1BM;AACAC;AACArC,YAAO,CAAP;AACA;AACA,KALM,MAKA,IAAM8B,WAAW,GAAZ,IAAqBD,IAAIZ,MAAJ,CAAWjB,MAAM,CAAjB,MAAwB,GAAlD,EAAyD;AAC/DmC,iBAAY,IAAZ;AACAnC,YAAO,CAAP;AACA;AACA;;AAED+B,gBAAYA,YAAYD,MAAxB;AACA9B,WAAO,CAAP;AACA;AACD;;AAED,WAASsC,iCAAT,CAA2CC,CAA3C,EAA8C;AAC7C,OAAIlB,wBAAwBjY,IAAxB,CAA6BmZ,CAA7B,KAAoCzB,WAAWyB,CAAX,KAAiB,CAAzD,EAA6D;AAAC,WAAO,IAAP;AAAa;AAC3E,OAAIjB,aAAalY,IAAb,CAAkBmZ,CAAlB,CAAJ,EAA0B;AAAC,WAAO,IAAP;AAAa;AACxC;AACA;AACA;AACA,OAAKA,MAAM,GAAP,IAAgBA,MAAM,IAAtB,IAAgCA,MAAM,IAA1C,EAAiD;AAAC,WAAO,IAAP;AAAa;AAC/D,UAAO,KAAP;AACA;;AAED;AACA;AACA;AACA;AACA;;AAEAhB,sBAAoBK,qBAAqBR,QAArB,CAApB;AACAI,4BAA0BD,kBAAkBhV,MAA5C;;AAEA;AACA,OAAKsF,IAAI,CAAT,EAAYA,IAAI2P,uBAAhB,EAAyC3P,GAAzC,EAA8C;AAC7C4P,kBAAeF,kBAAkB1P,CAAlB,CAAf;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA6P,wBAAqBD,aAAaA,aAAalV,MAAb,GAAsB,CAAnC,CAArB;;AAEA,OAAI+V,kCAAkCZ,kBAAlC,CAAJ,EAA2D;AAC1DC,WAAOD,kBAAP;AACAD,iBAAae,GAAb;AACA,IAHD,MAGO;AACN;AACA;;AAED;AACA;AACA;AACA,OAAIf,aAAalV,MAAb,KAAwB,CAA5B,EAA+B;AAC9B,WAAOoV,IAAP;AACA;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACAF,kBAAeA,aAAatE,IAAb,CAAkB,GAAlB,CAAf;AACA,OAAI,CAAElS,GAAGwX,YAAH,CAAiBhB,YAAjB,CAAN,EAA0C;AACzC;AACA;;AAED;AACA,UAAOE,IAAP;AACA;;AAED;AACA;AACA,SAAO,OAAP;AACA;;AAED;AACA1W,IAAGwT,EAAH,GAAQ,CAAC,OAAO,IAAIxW,IAAJ,GAAWya,OAAX,EAAR,EAA8BC,MAA9B,CAAqC,CAArC,EAAwC,CAAxC,CAAR;;AAEA;AACA1X,IAAG2X,SAAH,GAAe,YAAY7K,KAA3B;AACA9M,IAAG4X,QAAH,GAAc,WAAW9K,KAAzB;AACA9M,IAAG6X,UAAH,GAAgB,CAAC,CAACzb,OAAOc,kBAAzB;;AAEA;AACA;AACA,KAAI8C,GAAG2X,SAAH,IAAgB3X,GAAG6X,UAAnB,IAAiC,CAAC7X,GAAG4X,QAAzC,EAAmD;AAClD,GAAC,UAASE,MAAT,EAAiB;AACjBhL,SAAMpE,MAAN,GAAe,SAAf;AACAoP,UAAO7X,GAAP,GAAa,SAAb;AACAD,MAAG2X,SAAH,GAAe7K,MAAM5D,QAAN,KAAmB4O,OAAO5O,QAAzC;AACAlJ,MAAG6X,UAAH,GAAgB7X,GAAG2X,SAAH,IAAgB3X,GAAG6X,UAAnC;AACA,GALD,EAKGtb,SAAS+O,aAAT,CAAuB,KAAvB,CALH;AAMA;;AAED;AACA,KAAItL,GAAG2X,SAAH,IAAgB,CAAC3X,GAAG4X,QAAxB,EAAkC;;AAEjC,GAAC,YAAW;AACX,OAAIG,SAAS,oFAAb;AACA,OAAIC,SAAS,4EAAb;AACA,OAAIxM,MAAMjP,SAAS+O,aAAT,CAAuB,KAAvB,CAAV;AACA,OAAInN,OAAO,SAAPA,IAAO,GAAW;AACrB,QAAIsC,QAAQ+K,IAAI/K,KAAhB;;AAEA,QAAIA,UAAU,CAAd,EAAiB;AAChBT,QAAG4X,QAAH,GAAc,IAAd;AACA;;AAEDlL,6BAAyB1M,GAAG2X,SAAH,IAAgB,CAAC3X,GAAG4X,QAA7C;;AAEAhL,yBAAqB,IAArB;AACA;AACAtP,eAAWyC,WAAX;AACA,IAZD;;AAcAyL,OAAIlC,MAAJ,GAAanL,IAAb;AACAqN,OAAIiG,OAAJ,GAActT,IAAd;AACAqN,OAAInN,YAAJ,CAAiB,OAAjB,EAA0B,KAA1B;;AAEAmN,OAAI9C,MAAJ,GAAasP,SAAS,MAAT,GAAkBD,MAAlB,GAA2B,KAAxC;AACAvM,OAAIvL,GAAJ,GAAU+X,MAAV;AACA,GAxBD;AA0BA,EA5BD,MA4BO;AACNpL,uBAAqB,IAArB;AACA;;AAED;AACA;AACA5M,IAAG+Q,QAAH,GAAc,yBAAd;AACA/Q,IAAG8Q,GAAH,GAAS9Q,GAAG+Q,QAAZ;AACA/Q,IAAG0K,GAAH,GAASA,GAAT;;AAEA;;;AAGA1K,IAAGiO,GAAH,GAAUA,OAAQ,CAAlB;AACAjO,IAAGiY,CAAH,GAAO9J,KAAP;;AAEA;AACAnO,IAAGoN,KAAH,GAAYA,KAAZ;;AAEApN,IAAGkY,OAAH,GAAarL,IAAb;;AAEA;;;;;;AAMA7M,IAAGiU,OAAH,GAAahF,QAAQ,UAAShP,GAAT,EAAc;AAClCoO,SAAO8J,IAAP,GAAclY,GAAd;AACA,SAAOoO,OAAO8J,IAAd;AACA,EAHY,CAAb;;AAKA;;;;;;;AAOAnY,IAAG4Q,GAAH,GAAS,UAASD,OAAT,EAAkBG,GAAlB,EAAuB;AAC/B,SAAS,mBAAmBH,OAArB,GAAiCA,QAAQzE,gBAAR,CAAyB4E,GAAzB,CAAjC,GAAiE,EAAxE;AACA,EAFD;;AAIA;;;;;AAKA9Q,IAAGwX,YAAH,GAAkB,YAAW;AAC5B,MAAKpb,OAAOiQ,UAAP,IAAqB,CAACA,WAAY,oBAAZ,KAAsC,EAAvC,EAA2C+L,OAArE,EAA+E;AAC9EpY,MAAGwX,YAAH,GAAkB,UAAUhD,KAAV,EAAkB;AACnC,WAAO,CAACA,KAAD,IAAYnI,WAAYmI,KAAZ,EAAoB4D,OAAvC;AACA,IAFD;AAGA,GAJD,MAIO;AACNpY,MAAGwX,YAAH,GAAkBxX,GAAGqY,GAArB;AACA;;AAED,SAAOrY,GAAGwX,YAAH,CAAgB9V,KAAhB,CAAuB,IAAvB,EAA6BC,SAA7B,CAAP;AACA,EAVD;;AAYA;;;;;;AAMA3B,IAAGqY,GAAH,GAAS,UAAU7D,KAAV,EAAkB;AAC1B,SAAOA,QAAQlF,QAAQkF,KAAR,CAAR,GAAyB,IAAhC;AACA,EAFD;;AAIA;;;;;;;;;AASAxU,IAAGsY,UAAH,GAAgB,UAAUC,eAAV,EAA4B;;AAE3C,MAAI9C,QAAQnG,QAAQiJ,eAAR,EAAyB,IAAzB,KAAkC,KAA9C;AACA,MAAI9C,QAAQ,CAAZ,EAAe;AACdA,WAAQ,KAAR;AACA;;AAED,SAAOA,KAAP;AACA,EARD;;AAUA;;;;AAIAzV,IAAGwY,YAAH,GAAkB,UAAUlH,IAAV,EAAiB;AAClC,SAASA,IAAF,GAAWlE,MAAOkE,IAAP,CAAX,GAA2B,IAAlC;AACA,EAFD;;AAIA;;;;;AAKAtR,IAAGyY,SAAH,GAAexJ,QAAQ,UAAUyJ,aAAV,EAA0B;AAChD,MAAIxN,QAAQ,CAAEwN,iBAAiB,EAAnB,EAAwBxN,KAAxB,CAA8BuC,OAA9B,CAAZ;AACA,SAAO;AACN+G,UAAOtJ,SAASA,MAAM,CAAN,CADV;AAEN5J,WAAQ4J,SAASA,MAAM,CAAN;AAFX,GAAP;AAIA,EANc,CAAf;;AAQAlL,IAAGqU,QAAH,GAAc,UAAUP,GAAV,EAAgB;AAC7B,MAAK,CAACA,IAAI6E,KAAV,EAAkB;AACjB7E,OAAI6E,KAAJ,GAAYlE,YAAYX,IAAIpL,MAAhB,EAAwBoL,GAAxB,CAAZ;AACA;AACD,SAAOA,IAAI6E,KAAX;AACA,EALD;;AAOA;;;;;AAKA3Y,IAAGoS,UAAH,GAAgB,YAAW;AAC1B,MAAIjM,IAAJ;AACA,MAAK,CAACsG,MAAD,KAAYtG,OAAO5J,SAAS4J,IAA5B,CAAL,EAAyC;AACxC,OAAIyS,MAAMrc,SAAS+O,aAAT,CAAwB,KAAxB,CAAV;AAAA,OACCuN,kBAAkB/b,QAAQuD,KAAR,CAAcyY,OADjC;AAAA,OAECC,kBAAkB5S,KAAK9F,KAAL,CAAWyY,OAF9B;;AAIAF,OAAIvY,KAAJ,CAAUyY,OAAV,GAAoBlL,SAApB;;AAEA;AACA;AACA9Q,WAAQuD,KAAR,CAAcyY,OAAd,GAAwBjL,KAAxB;AACA1H,QAAK9F,KAAL,CAAWyY,OAAX,GAAqBjL,KAArB;;AAEA1H,QAAK6S,WAAL,CAAkBJ,GAAlB;AACAnM,YAASmM,IAAIlY,WAAb;AACAyF,QAAK2F,WAAL,CAAkB8M,GAAlB;;AAEA;AACAnM,YAASoJ,WAAYpJ,MAAZ,EAAoB,EAApB,CAAT;;AAEA;AACA3P,WAAQuD,KAAR,CAAcyY,OAAd,GAAwBD,eAAxB;AACA1S,QAAK9F,KAAL,CAAWyY,OAAX,GAAqBC,eAArB;AAEA;AACD,SAAOtM,UAAU,EAAjB;AACA,EA3BD;;AA6BA;;;AAGAzM,IAAGoQ,cAAH,GAAoB,UAAU6I,iBAAV,EAA8B;AACjD;AACA;AACA;AACA,MAAK,EAAEA,qBAAqBjL,eAAvB,KAA2CtD,IAAIwO,EAApD,EAAyD;AACxD,OAAIC,gBAAgBnZ,GAAGsY,UAAH,CAAepC,WAAY+C,iBAAZ,CAAf,CAApB;;AAEAjL,mBAAiBiL,iBAAjB,IAAuC,CAACE,aAAD,GAAiBhL,MAAM1N,KAAvB,GAA+B0Y,aAAtE;AACA;;AAED,SAAOnL,gBAAiBiL,iBAAjB,CAAP;AACA,EAXD;;AAaA;;;;;;;;;;AAUAjZ,IAAGsT,MAAH,GAAY,UAAUQ,GAAV,EAAgB;AAC3B,MAAIM,UAAJ;AACA,MAAKN,GAAL,EAAW;;AAEVM,gBAAapU,GAAGqU,QAAH,CAAaP,GAAb,CAAb;;AAEA,QAAM,IAAIlN,IAAI,CAAR,EAAWyD,MAAM+J,WAAW9S,MAAlC,EAA0CsF,IAAIyD,GAA9C,EAAmDzD,GAAnD,EAAyD;AACxDmJ,kBAAeqE,WAAYxN,CAAZ,CAAf,EAAgCkN,IAAItL,KAApC;AACA;AACD;AACD,SAAO4L,UAAP;AACA,EAXD;;AAaApU,IAAGsT,MAAH,CAAUjD,GAAV,GAAgBN,aAAhB;;AAEA/P,IAAGuT,iBAAH,GAAuB,UAAUa,UAAV,EAAsB5I,GAAtB,EAA4B;AAClD,MAAK,CAAC4I,WAAW9S,MAAjB,EAA0B;AAAC;AAAQ;AACnC,MAAI0O,SAAJ,EACCpJ,CADD,EAECwS,CAFD,EAGC9X,MAHD,EAIC+X,aAJD,EAKCnF,MALD,EAMCC,MAND,EAOCmF,YAPD,EAQCC,WARD;;AAUA,MAAIC,YAAYhO,IAAKxL,GAAGwT,EAAR,CAAhB;AACA,MAAIiG,MAAMzZ,GAAGiO,GAAb;;AAEAiG,WAASsF,UAAUtF,MAAV,IAAoB1I,IAAI+B,UAAJ,CAA7B;;AAEA4G,WAASqF,UAAUrF,MAAV,IAAoBN,YAAYrI,GAAZ,EAAiB0I,MAAjB,EAAyBE,WAAW,CAAX,EAAcN,GAAvC,CAA7B;;AAEA;AACA,MAAKK,UAAUA,OAAOL,GAAP,KAAeM,WAAY,CAAZ,EAAgBN,GAA9C,EAAoD;;AAEnD;AACA;AACAyF,iBAAejM,gBAAgB,CAAC9B,IAAItC,QAArB,IAAiCiL,OAAO9D,GAAP,GAAa,GAAb,GAAmBoJ,GAAnE;;AAEA,OAAK,CAACF,WAAN,EAAoB;AACnBpF,WAAOuF,MAAP,GAAgB,IAAhB;;AAEA;AACA;AACA,QAAKvF,OAAO9D,GAAP,IAAcoJ,GAAnB,EAAyB;AACxBJ,qBAAgBlF,MAAhB;AACA;AACD;AACD;;AAED,MAAK,CAACkF,aAAN,EAAsB;;AAErBjF,cAAWuF,IAAX,CAAiBjG,aAAjB;;AAEApS,YAAS8S,WAAW9S,MAApB;AACA+X,mBAAgBjF,WAAY9S,SAAS,CAArB,CAAhB;;AAEA,QAAMsF,IAAI,CAAV,EAAaA,IAAItF,MAAjB,EAAyBsF,GAAzB,EAA+B;AAC9BoJ,gBAAYoE,WAAYxN,CAAZ,CAAZ;AACA,QAAKoJ,UAAUK,GAAV,IAAiBoJ,GAAtB,EAA4B;AAC3BL,SAAIxS,IAAI,CAAR;;AAEA;AACA;AACA,SAAIwN,WAAYgF,CAAZ,MACFG,eAAerF,WAAWlU,GAAGiU,OAAH,CAAYjE,UAAUsE,GAAtB,CADxB,KAEHhC,aAAa8B,WAAYgF,CAAZ,EAAgB/I,GAA7B,EAAkCL,UAAUK,GAA5C,EAAiDoJ,GAAjD,EAAsDrF,WAAYgF,CAAZ,EAAgBM,MAAtE,CAFD,EAEgF;;AAE/EL,sBAAgBjF,WAAYgF,CAAZ,CAAhB;AAEA,MAND,MAMO;AACNC,sBAAgBrJ,SAAhB;AACA;AACD;AACA;AACD;AACD;;AAED,MAAKqJ,aAAL,EAAqB;;AAEpBC,kBAAetZ,GAAGiU,OAAH,CAAYoF,cAAc/E,GAA1B,CAAf;;AAEAkF,aAAUtF,MAAV,GAAmBoF,YAAnB;AACAE,aAAUrF,MAAV,GAAmBkF,aAAnB;;AAEA,OAAKC,iBAAiBpF,MAAtB,EAA+B;AAC9BlU,OAAG4Z,MAAH,CAAWpO,GAAX,EAAgB6N,aAAhB;AACA;AACDrZ,MAAGkY,OAAH,CAAY1M,GAAZ;AACA;AACD,EA7ED;;AA+EAxL,IAAG4Z,MAAH,GAAY,UAAUpO,GAAV,EAAe6N,aAAf,EAA+B;AAC1C,MAAIQ,SAAJ;AACArO,MAAIvL,GAAJ,GAAUoZ,cAAc/E,GAAxB;;AAEA;AACA,MAAK+E,cAAcvF,GAAd,CAAkBxC,IAAlB,KAA2B,eAAhC,EAAkD;AACjDuI,eAAYrO,IAAInL,KAAJ,CAAUI,KAAtB;AACA+K,OAAInL,KAAJ,CAAUI,KAAV,GAAmB+K,IAAI9K,WAAJ,GAAkB,CAAnB,GAAwB,IAA1C;;AAEA;AACA;AACA,OAAK8K,IAAI9K,WAAJ,GAAkB,CAAvB,EAA2B;AAC1B8K,QAAInL,KAAJ,CAAUI,KAAV,GAAkBoZ,SAAlB;AACA;AACD;AACD,EAfD;;AAiBA7Z,IAAGoT,MAAH,GAAY,UAAU5H,GAAV,EAAgB;AAC3B,MAAI5E,CAAJ,EAAOkN,GAAP,EAAY0E,YAAZ;AACA,MAAItN,QAAQ,KAAZ;AACA,MAAI6I,OAAOvI,IAAMxL,GAAGwT,EAAT,EAAcO,IAAzB;;AAEA,OAAMnN,IAAI,CAAV,EAAaA,IAAImN,KAAKzS,MAAT,IAAmB,CAAC4J,KAAjC,EAAwCtE,GAAxC,EAA8C;AAC7CkN,SAAMC,KAAKnN,CAAL,CAAN;;AAEA,OAAK,CAACkN,IAAIpL,MAAL,IAAe,CAAC1I,GAAGwX,YAAH,CAAiB1D,IAAIU,KAArB,CAAhB,IAAgD,EAAEgE,eAAexY,GAAGwY,YAAH,CAAiB1E,IAAIxC,IAArB,CAAjB,CAArD,EAAqG;AACpG;AACA;;AAED,OAAKkH,iBAAiB,SAAtB,EAAkC;AACjC1E,UAAM0E,YAAN;AACA;;AAEDtN,WAAQ4I,GAAR;AACA;AACA;;AAED,SAAO5I,KAAP;AACA,EArBD;;AAuBAlL,IAAG8Z,SAAH,GAAe,UAAUC,OAAV,EAAmBvZ,MAAnB,EAA2BiQ,OAA3B,EAAqC;AACnD,MAAIuJ,eAAJ,EAAqBC,QAArB,EAA+BC,YAA/B,EAA6CC,YAA7C;;AAEA,MAAIC,aAAa5Z,UAAUA,OAAOsI,QAAP,CAAgB4C,WAAhB,OAAkC,SAA7D;AACA,MAAI8N,YAAYO,QAAS/Z,GAAGwT,EAAZ,CAAhB;;AAEA,MAAKgG,UAAUvZ,GAAV,KAAkBsM,SAAlB,IAA+BkE,QAAQxQ,GAA5C,EAAkD;AACjDuZ,aAAUvZ,GAAV,GAAgB8M,WAAW/D,IAAX,CAAiB+Q,OAAjB,EAA0B,KAA1B,CAAhB;AACA,OAAKP,UAAUvZ,GAAf,EAAqB;AACpBgN,eAAWjE,IAAX,CAAiB+Q,OAAjB,EAA0BnW,OAA1B,EAAmC4V,UAAUvZ,GAA7C;AACA,IAFD,MAEO;AACNiN,kBAAclE,IAAd,CAAoB+Q,OAApB,EAA6BnW,OAA7B;AACA;AACD;;AAED,MAAK4V,UAAU9Q,MAAV,KAAqB6D,SAArB,IAAkCkE,QAAQ/H,MAA1C,IAAoD,CAAC1I,GAAG2X,SAAxD,IAAqEoC,QAAQrR,MAAlF,EAA2F;AAC1FsR,qBAAkBjN,WAAW/D,IAAX,CAAiB+Q,OAAjB,EAA0B,QAA1B,CAAlB;AACAP,aAAU9Q,MAAV,GAAmBsR,eAAnB;AACAG,kBAAe,IAAf;AACA;;AAEDX,YAAUzF,IAAV,GAAiB,EAAjB;;AAEA,MAAKqG,UAAL,EAAkB;AACjBZ,aAAUa,GAAV,GAAgB,IAAhB;AACA9F,wBAAsB/T,MAAtB,EAA8BgZ,UAAUzF,IAAxC;AACA;;AAED,MAAKyF,UAAU9Q,MAAf,EAAwB;AACvBuR,cAAW;AACVvR,YAAQ8Q,UAAU9Q,MADR;AAEVF,WAAOuE,WAAW/D,IAAX,CAAiB+Q,OAAjB,EAA0B,OAA1B;AAFG,IAAX;;AAKAP,aAAUzF,IAAV,CAAenS,IAAf,CAAqBqY,QAArB;;AAEAC,kBAAe,CAACxN,0BAA0B8M,UAAUvZ,GAArC,KAA6CuN,SAASrP,IAAT,CAAcqb,UAAU9Q,MAAV,IAAoB,EAAlC,CAA5D;;AAEA;AACA,OAAK,CAACwR,YAAD,IAAiBV,UAAUvZ,GAA3B,IAAkC,CAAC+T,mBAAmBwF,UAAUvZ,GAA7B,EAAkCga,QAAlC,CAAnC,IAAkF,CAACA,SAASnE,KAAjG,EAAyG;AACxGmE,aAASvR,MAAT,IAAmB,OAAO8Q,UAAUvZ,GAApC;AACAga,aAAStB,KAAT,CAAe/W,IAAf,CAAoB;AACnB0S,UAAKkF,UAAUvZ,GADI;AAEnBqQ,QAAG,CAFgB;AAGnBwD,UAAKmG;AAHc,KAApB;AAKA;AAED,GApBD,MAoBO,IAAKT,UAAUvZ,GAAf,EAAqB;AAC3BuZ,aAAUzF,IAAV,CAAenS,IAAf,CAAqB;AACpB8G,YAAQ8Q,UAAUvZ,GADE;AAEpBuI,WAAO;AAFa,IAArB;AAIA;;AAEDgR,YAAUrF,MAAV,GAAmB,IAAnB;AACAqF,YAAUtF,MAAV,GAAmB3H,SAAnB;;AAEA;AACA;AACAiN,YAAUc,SAAV,GAAsB,EAAGF,cAAgBH,YAAY,CAACja,GAAG2X,SAAhC,IAAgDuC,gBAAgB,CAACla,GAAG4X,QAAvE,CAAtB;;AAEA,MAAKuC,gBAAgBna,GAAG2X,SAAnB,IAAgC,CAAC6B,UAAUc,SAAhD,EAA4D;AAC3D,OAAKN,eAAL,EAAuB;AACtB/M,eAAWjE,IAAX,CAAiB+Q,OAAjB,EAA0BlW,UAA1B,EAAsCmW,eAAtC;AACAD,YAAQrR,MAAR,GAAiB,EAAjB;AACA,IAHD,MAGO;AACNwE,kBAAclE,IAAd,CAAoB+Q,OAApB,EAA6BlW,UAA7B;AACA;AACD;;AAED,MAAI2V,UAAUc,SAAV,IAAuB,CAACd,UAAU9Q,MAAlC,KAA8C,CAAC8Q,UAAUvZ,GAAX,IAAkB8Z,QAAQ9Z,GAA3B,IAAoC8Z,QAAQ9Z,GAAR,KAAgBD,GAAGiU,OAAH,CAAWuF,UAAUvZ,GAArB,CAAjG,CAAJ,EAAiI;AAChI,OAAIuZ,UAAUvZ,GAAV,KAAkB,IAAtB,EAA4B;AAC3B8Z,YAAQ5M,eAAR,CAAwB,KAAxB;AACA,IAFD,MAEO;AACN4M,YAAQ9Z,GAAR,GAAcuZ,UAAUvZ,GAAxB;AACA;AACD;;AAEDuZ,YAAUe,MAAV,GAAmB,IAAnB;AACA,EAhFD;;AAkFAva,IAAGiR,OAAH,GAAa,UAAS8I,OAAT,EAAkBtJ,OAAlB,EAA2B;AACvC,MAAI+I,SAAJ;AACA,MAAIgB,UAAU/J,QAAQI,QAAR,IAAoBJ,QAAQvQ,UAA1C;;AAEA;AACA,MAAK,CAAC6Z,QAAS/Z,GAAGwT,EAAZ,CAAN,EAAyB;AACxBuG,WAAS/Z,GAAGwT,EAAZ,IAAmB,EAAnB;AACA;;AAEDgG,cAAYO,QAAS/Z,GAAGwT,EAAZ,CAAZ;;AAEA;AACA;AACA;AACA,MAAK,CAACgH,OAAD,IAAYhB,UAAU/F,MAAV,KAAqB9G,MAAtC,EAA+C;AAC9C;AACA;;AAED,MAAK,CAAC6M,UAAUe,MAAX,IAAqB9J,QAAQvQ,UAAlC,EAA+C;AAC9CF,MAAG8Z,SAAH,CAAcC,OAAd,EAAuBA,QAAQlZ,UAA/B,EAA2C4P,OAA3C;AACA;;AAED,MAAK,CAAC+I,UAAUc,SAAhB,EAA4B;AAC3BrH,sBAAoB8G,OAApB;AACA,GAFD,MAEO;AACNP,aAAU/F,MAAV,GAAmB9G,MAAnB;AACA;AACD,EA3BD;;AA6BA3M,IAAGgR,QAAH,GAAc,YAAW;AACxB,MAAK,CAAC1C,UAAD,IAAeR,SAAf,IAA6BG,QAAQ7R,OAAO8R,gBAAjD,EAAqE;AACpE0D;AACA;AACD,EAJD;;AAMA;AACA,KAAK5R,GAAG6X,UAAR,EAAqB;AACpB9X,gBAAc8M,IAAd;AACA7M,KAAGiR,OAAH,GAAapE,IAAb;AACA,EAHD,MAGO;;AAEL;AACD,GAAC,YAAW;AACX,OAAI4N,UAAJ;AACA,OAAIC,WAAWte,OAAO4S,WAAP,GAAqB,OAArB,GAA+B,UAA9C;;AAEA,OAAI5N,MAAM,SAANA,GAAM,GAAW;AACpB,QAAI2I,aAAaxN,SAASwN,UAAT,IAAuB,EAAxC;;AAEA4Q,cAAUrd,WAAW8D,GAAX,EAAgB2I,eAAe,SAAf,GAA2B,GAA3B,GAAkC,GAAlD,CAAV;AACA,QAAKxN,SAAS4J,IAAd,EAAqB;AACpBnG,QAAG4a,QAAH;AACAH,kBAAaA,cAAcC,SAASvc,IAAT,CAAc4L,UAAd,CAA3B;AACA,SAAK0Q,UAAL,EAAkB;AACjB1R,mBAAc4R,OAAd;AACA;AAED;AACD,IAZD;;AAcA,OAAIA,UAAUrd,WAAW8D,GAAX,EAAgB7E,SAAS4J,IAAT,GAAgB,CAAhB,GAAoB,EAApC,CAAd;;AAEA;AACA;AACA,OAAIrD,WAAW,SAAXA,QAAW,CAASC,IAAT,EAAeE,IAAf,EAAqB;AACnC,QAAIN,OAAJ,EAAaK,SAAb;AACA,QAAIE,QAAQ,SAARA,KAAQ,GAAW;AACtB,SAAIC,OAAQ,IAAInG,IAAJ,EAAD,GAAegG,SAA1B;;AAEA,SAAIG,OAAOF,IAAX,EAAiB;AAChBN,gBAAUrF,WAAW4F,KAAX,EAAkBD,OAAOE,IAAzB,CAAV;AACA,MAFD,MAEO;AACNR,gBAAU,IAAV;AACAI;AACA;AACD,KATD;;AAWA,WAAO,YAAW;AACjBC,iBAAY,IAAIhG,IAAJ,EAAZ;;AAEA,SAAI,CAAC2F,OAAL,EAAc;AACbA,gBAAUrF,WAAW4F,KAAX,EAAkBD,IAAlB,CAAV;AACA;AACD,KAND;AAOA,IApBD;AAqBA,OAAI4X,kBAAkB/d,QAAQuK,YAA9B;AACA,OAAI8E,WAAW,SAAXA,QAAW,GAAW;AACzB2B,gBAAY+D,KAAKC,GAAL,CAAS1V,OAAOqL,UAAP,IAAqB,CAA9B,EAAiC3K,QAAQwK,WAAzC,MAA0D6G,MAAM1N,KAAhE,IAAyE3D,QAAQuK,YAAR,KAAyBwT,eAA9G;AACAA,sBAAkB/d,QAAQuK,YAA1B;AACA,QAAKyG,SAAL,EAAiB;AAChB9N,QAAG4a,QAAH;AACA;AACD,IAND;;AAQA/L,MAAIzS,MAAJ,EAAY,QAAZ,EAAsB0G,SAASqJ,QAAT,EAAmB,EAAnB,CAAtB;AACA0C,MAAItS,QAAJ,EAAc,kBAAd,EAAkC6E,GAAlC;AACA,GAtDD;AAuDA;;AAEDpB,IAAGD,WAAH,GAAiBA,WAAjB;AACA;AACAC,IAAG4a,QAAH,GAAc7a,WAAd;AACAC,IAAGkR,WAAH,GAAiBrE,IAAjB;;AAEA;AACA9M,aAAYyJ,CAAZ,GAAgBxJ,EAAhB;;AAEA5D,QAAOuR,cAAP,GAAwB;AACvB3N,MAAIA,EADmB;AAEvB4B,QAAM,cAASM,IAAT,EAAe;AACpB,OAAIhD,OAAOgD,KAAKX,KAAL,EAAX;AACA,OAAI,OAAOvB,GAAGd,IAAH,CAAP,KAAoB,UAAxB,EAAoC;AACnCc,OAAGd,IAAH,EAASwC,KAAT,CAAe1B,EAAf,EAAmBkC,IAAnB;AACA,IAFD,MAEO;AACNwI,QAAIxL,IAAJ,IAAYgD,KAAK,CAAL,CAAZ;AACA,QAAIoM,UAAJ,EAAgB;AACftO,QAAG4a,QAAH,CAAa,EAAE/J,UAAU,IAAZ,EAAb;AACA;AACD;AACD;AAZsB,EAAxB;;AAeA,QAAOnD,cAAcA,WAAWpM,MAAhC,EAAwC;AACvClF,SAAOuR,cAAP,CAAsB/L,IAAtB,CAA2B8L,WAAWnM,KAAX,EAA3B;AACA;;AAED;AACAnF,QAAO2D,WAAP,GAAqBA,WAArB;;AAEA;AACA,KAAK,8BAAOvD,MAAP,OAAkB,QAAlB,IAA8B,QAAOA,OAAOC,OAAd,MAA0B,QAA7D,EAAwE;AACvE;AACAD,SAAOC,OAAP,GAAiBsD,WAAjB;AACA,EAHD,MAGO,IAAK,IAAL,EAAkD;AACxD;AACA+a,EAAA,mCAAuB,YAAW;AAAE,UAAO/a,WAAP;AAAqB,GAAzD;AAAA;AACA;;AAED;AACA,KAAK,CAACC,GAAG6X,UAAT,EAAsB;AACrBzK,QAAO,YAAP,IAAwBiE,kBAAkB,YAAlB,EAAgC,yIAAhC,CAAxB;AACA;AAED,CAx7CD,EAw7CKjV,MAx7CL,EAw7CaG,QAx7Cb,E;;;;;;;;;;;;;;;AC/EA;;;;;;AAMA;AACA;AACC,aAAY;AACT;;AACA,QAAI,OAAOH,MAAP,KAAkB,WAAlB,IAAiCA,OAAOiB,gBAA5C,EAA8D;AAC1D,YAAI6R,QAAQ6L,OAAOC,MAAP,CAAc,IAAd,CAAZ,CAD0D,CACzB;AACjC,YAAIC,aAAJ;AACA,YAAIC,GAAJ,CAH0D,CAGjD;AACT,YAAIC,iBAAiB,SAAjBA,cAAiB,GAAY;AAC7BpS,yBAAamS,GAAb;AACAA,kBAAM5d,WAAW2d,aAAX,EAA0B,GAA1B,CAAN;AACH,SAHD;AAIA,YAAIG,mBAAmB,4BAAY;AAC/B;AACH,SAFD;AAGA,YAAIC,iBAAiB,SAAjBA,cAAiB,GAAY;AAC7B,gBAAIC,QAAJ;AACAlf,mBAAOiB,gBAAP,CAAwB,QAAxB,EAAkC8d,cAAlC,EAAkD,KAAlD;AACA/e,mBAAOiB,gBAAP,CAAwB,mBAAxB,EAA6C8d,cAA7C,EAA6D,KAA7D;AACA,gBAAI/e,OAAOqN,gBAAX,EAA6B;AACzB6R,2BAAW,IAAI7R,gBAAJ,CAAqB0R,cAArB,CAAX;AACAG,yBAAS5R,OAAT,CAAiBnN,SAASQ,eAA1B,EAA2C;AACvC4M,+BAAW,IAD4B;AAEvCC,6BAAS,IAF8B;AAGvCC,gCAAY;AAH2B,iBAA3C;AAKAuR,mCAAmB,4BAAY;AAC3B,wBAAI;AACAE,iCAASC,UAAT;AACAnf,+BAAOof,mBAAP,CAA2B,QAA3B,EAAqCL,cAArC,EAAqD,KAArD;AACA/e,+BAAOof,mBAAP,CAA2B,mBAA3B,EAAgDL,cAAhD,EAAgE,KAAhE;AACH,qBAJD,CAIE,OAAOM,MAAP,EAAe,CAAE;AACtB,iBAND;AAOH,aAdD,MAcO;AACHlf,yBAASQ,eAAT,CAAyBM,gBAAzB,CAA0C,oBAA1C,EAAgE8d,cAAhE,EAAgF,KAAhF;AACAC,mCAAmB,4BAAY;AAC3B7e,6BAASQ,eAAT,CAAyBye,mBAAzB,CAA6C,oBAA7C,EAAmEL,cAAnE,EAAmF,KAAnF;AACA/e,2BAAOof,mBAAP,CAA2B,QAA3B,EAAqCL,cAArC,EAAqD,KAArD;AACA/e,2BAAOof,mBAAP,CAA2B,mBAA3B,EAAgDL,cAAhD,EAAgE,KAAhE;AACH,iBAJD;AAKH;AACJ,SA1BD;AA2BA,YAAIO,gBAAgB,SAAhBA,aAAgB,CAAUpH,GAAV,EAAe;AAC/B;AACA;AACA;AACA,qBAASqH,SAAT,CAAmBC,GAAnB,EAAwB;AACpB,oBAAIjI,CAAJ;AACA,oBAAIiI,IAAIC,QAAJ,KAAiBtP,SAArB,EAAgC;AAC5BoH,wBAAIiI,GAAJ;AACH,iBAFD,MAEO;AACHjI,wBAAIpX,SAAS+O,aAAT,CAAuB,GAAvB,CAAJ;AACAqI,sBAAEwE,IAAF,GAASyD,GAAT;AACH;AACD,uBAAOjI,EAAEkI,QAAF,CAAWpd,OAAX,CAAmB,IAAnB,EAAyB,EAAzB,IAA+BkV,EAAEmI,IAAxC;AACH;AACD,gBAAIC,OAAJ;AACA,gBAAIC,MAAJ;AACA,gBAAIC,OAAJ;AACA,gBAAI7f,OAAO8f,cAAX,EAA2B;AACvBH,0BAAU,IAAIG,cAAJ,EAAV;AACAF,yBAASL,UAAUzT,QAAV,CAAT;AACA+T,0BAAUN,UAAUrH,GAAV,CAAV;AACA,oBAAIyH,QAAQI,eAAR,KAA4B5P,SAA5B,IAAyC0P,YAAY,EAArD,IAA2DA,YAAYD,MAA3E,EAAmF;AAC/ED,8BAAUK,kBAAkB7P,SAA5B;AACH,iBAFD,MAEO;AACHwP,8BAAUG,cAAV;AACH;AACJ;AACD,mBAAOH,OAAP;AACH,SA5BD;AA6BA,YAAIM,UAAU,8BAAd;AACApB,wBAAgB,yBAAY;AACxB,gBAAIqB,IAAJ;AACA,gBAAIC,GAAJ;AACA,gBAAIC,WAAW,EAAf,CAHwB,CAGL;AACnB,gBAAIC,IAAJ;AACA,gBAAItE,IAAJ;AACA,gBAAIvR,CAAJ;AACA,gBAAI8V,kBAAkB,CAAtB;AACA,gBAAIC,QAAJ;AACA,gBAAIZ,OAAJ;AACA,gBAAIzH,GAAJ;AACA,gBAAIsI,IAAJ;AACA,gBAAIC,GAAJ;AACA,qBAASC,aAAT,GAAyB;AACrB;AACAJ,mCAAmB,CAAnB;AACA,oBAAIA,oBAAoB,CAAxB,EAA2B;AAAE;AACzBtB,uCADuB,CACH;AACpBC,qCAFuB,CAEL;AACrB;AACJ;AACD,qBAAS0B,cAAT,CAAwBC,IAAxB,EAA8B;AAC1B,uBAAO,YAAY;AACf,wBAAI9N,MAAM8N,KAAKV,IAAX,MAAqB,IAAzB,EAA+B;AAC3BU,6BAAKC,KAAL,CAAWC,cAAX,CAA0Bb,OAA1B,EAAmC,YAAnC,EAAiD,MAAMW,KAAKP,IAA5D;AACA,4BAAIO,KAAKC,KAAL,CAAWE,YAAX,CAAwB,MAAxB,CAAJ,EAAqC;AACjCH,iCAAKC,KAAL,CAAW5e,YAAX,CAAwB,MAAxB,EAAgC,MAAM2e,KAAKP,IAA3C;AACH;AACJ;AACJ,iBAPD;AAQH;AACD,qBAASW,UAAT,CAAoBP,GAApB,EAAyB;AACrB,uBAAO,YAAY;AACf,wBAAI1W,OAAO5J,SAAS4J,IAApB;AACA,wBAAIkX,IAAI9gB,SAAS+O,aAAT,CAAuB,GAAvB,CAAR;AACA,wBAAIgS,GAAJ;AACAT,wBAAIvT,MAAJ,GAAa,IAAb;AACA+T,sBAAEE,SAAF,GAAcV,IAAIW,YAAlB;AACAF,0BAAMD,EAAEpU,oBAAF,CAAuB,KAAvB,EAA8B,CAA9B,CAAN;AACA,wBAAIqU,GAAJ,EAAS;AACLA,4BAAIjf,YAAJ,CAAiB,aAAjB,EAAgC,MAAhC;AACAif,4BAAIjd,KAAJ,CAAUod,QAAV,GAAqB,UAArB;AACAH,4BAAIjd,KAAJ,CAAUI,KAAV,GAAkB,CAAlB;AACA6c,4BAAIjd,KAAJ,CAAU0R,MAAV,GAAmB,CAAnB;AACAuL,4BAAIjd,KAAJ,CAAUqd,QAAV,GAAqB,QAArB;AACAvX,6BAAKyF,YAAL,CAAkB0R,GAAlB,EAAuBnX,KAAKwX,UAA5B;AACH;AACDb;AACH,iBAhBD;AAiBH;AACD,qBAASc,cAAT,CAAwBf,GAAxB,EAA6B;AACzB,uBAAO,YAAY;AACfA,wBAAIpL,OAAJ,GAAc,IAAd;AACAoL,wBAAIgB,SAAJ,GAAgB,IAAhB;AACAf;AACH,iBAJD;AAKH;AACD1B,+BAzDwB,CAyDJ;AACpB;AACAwB,mBAAOrgB,SAAS0M,oBAAT,CAA8B,KAA9B,CAAP;AACA,iBAAKrC,IAAI,CAAT,EAAYA,IAAIgW,KAAKtb,MAArB,EAA6BsF,KAAK,CAAlC,EAAqC;AACjC,oBAAI;AACA2V,0BAAMK,KAAKhW,CAAL,EAAQP,qBAAR,EAAN;AACH,iBAFD,CAEE,OAAOoV,MAAP,EAAe;AACb;AACAc,0BAAM,KAAN;AACH;AACDpE,uBAAOyE,KAAKhW,CAAL,EAAQoG,YAAR,CAAqB,MAArB,KACI4P,KAAKhW,CAAL,EAAQkX,cAAR,CAAuBzB,OAAvB,EAAgC,MAAhC,CADJ,IAEIO,KAAKhW,CAAL,EAAQoG,YAAR,CAAqB,YAArB,CAFX;AAGA,oBAAImL,QAAQA,KAAK4F,KAAjB,EAAwB;AACpBzJ,0BAAM6D,KAAK4F,KAAL,CAAW,GAAX,CAAN;AACH,iBAFD,MAEO;AACHzJ,0BAAM,CAAC,EAAD,EAAK,EAAL,CAAN;AACH;AACDgI,uBAAOhI,IAAI,CAAJ,CAAP;AACAmI,uBAAOnI,IAAI,CAAJ,CAAP;AACAqI,2BAAWJ,OAAOA,IAAIjW,IAAJ,KAAa,CAApB,IAAyBiW,IAAIhW,KAAJ,KAAc,CAAvC,IAA4CgW,IAAI/V,GAAJ,KAAY,CAAxD,IAA6D+V,IAAI9V,MAAJ,KAAe,CAAvF;AACA,oBAAI8V,OAAOA,IAAI9b,KAAJ,KAAc,CAArB,IAA0B8b,IAAIxK,MAAJ,KAAe,CAAzC,IAA8C,CAAC4K,QAAnD,EAA6D;AACzD;AACA;AACA;AACA,wBAAIH,YAAY,CAACF,KAAKhb,MAAlB,IAA4Bmb,IAA5B,IAAoC,CAAClgB,SAASyhB,cAAT,CAAwBvB,IAAxB,CAAzC,EAAwE;AACpEH,+BAAOE,QAAP;AACH;AACD,wBAAII,KAAKhW,CAAL,EAAQuW,YAAR,CAAqB,MAArB,CAAJ,EAAkC;AAC9BP,6BAAKhW,CAAL,EAAQsW,cAAR,CAAuBb,OAAvB,EAAgC,YAAhC,EAA8ClE,IAA9C;AACH;AACD,wBAAImE,KAAKhb,MAAT,EAAiB;AACb;AACAub,8BAAM3N,MAAMoN,IAAN,CAAN;AACA,4BAAIO,QAAQ,IAAZ,EAAkB;AACd;AACAvf,uCAAWyf,eAAe;AACtBE,uCAAOL,KAAKhW,CAAL,CADe;AAEtB0V,sCAAMA,IAFgB;AAGtBG,sCAAMA;AAHgB,6BAAf,CAAX,EAII,CAJJ;AAKH;AACD,4BAAII,QAAQtQ,SAAZ,EAAuB;AACnBwP,sCAAUL,cAAcY,IAAd,CAAV;AACA,gCAAIP,YAAYxP,SAAhB,EAA2B;AACvBsQ,sCAAM,IAAId,OAAJ,EAAN;AACA7M,sCAAMoN,IAAN,IAAcO,GAAd;AACAA,oCAAIvT,MAAJ,GAAa8T,WAAWP,GAAX,CAAb;AACAA,oCAAIpL,OAAJ,GAAcmM,eAAef,GAAf,CAAd;AACAA,oCAAIgB,SAAJ,GAAgBD,eAAef,GAAf,CAAhB;AACAA,oCAAIoB,IAAJ,CAAS,KAAT,EAAgB3B,IAAhB;AACAO,oCAAIqB,IAAJ;AACAxB,mDAAmB,CAAnB;AACH;AACJ;AACJ;AACJ,iBAnCD,MAmCO;AACH,wBAAI,CAACC,QAAL,EAAe;AACX,4BAAIzN,MAAMoN,IAAN,MAAgB/P,SAApB,EAA+B;AAC3B;AACA2C,kCAAMoN,IAAN,IAAc,IAAd;AACH,yBAHD,MAGO,IAAIpN,MAAMoN,IAAN,EAAYhT,MAAhB,EAAwB;AAC3B;AACA;AACA4F,kCAAMoN,IAAN,EAAY6B,KAAZ;AACA,mCAAOjP,MAAMoN,IAAN,EAAYhT,MAAnB;AACA4F,kCAAMoN,IAAN,IAAc,IAAd;AACH;AACJ,qBAXD,MAWO,IAAIA,KAAKhb,MAAL,IAAe4N,MAAMoN,IAAN,CAAnB,EAAgC;AACnChf,mCAAWyf,eAAe;AACtBE,mCAAOL,KAAKhW,CAAL,CADe;AAEtB0V,kCAAMA,IAFgB;AAGtBG,kCAAMA;AAHgB,yBAAf,CAAX,EAII,CAJJ;AAKH;AACJ;AACJ;AACDG,mBAAO,EAAP;AACAF,+BAAmB,CAAnB;AACAI;AACH,SAzID;AA0IA,YAAIsB,QAAJ;AACAA,mBAAU,mBAAY;AAClBhiB,mBAAOof,mBAAP,CAA2B,MAA3B,EAAmC4C,QAAnC,EAA4C,KAA5C,EADkB,CACkC;AACpDlD,kBAAM5d,WAAW2d,aAAX,EAA0B,CAA1B,CAAN;AACH,SAHD;AAIA,YAAI1e,SAASwN,UAAT,KAAwB,UAA5B,EAAwC;AACpC;AACA3N,mBAAOiB,gBAAP,CAAwB,MAAxB,EAAgC+gB,QAAhC,EAAyC,KAAzC;AACH,SAHD,MAGO;AACH;AACAA;AACH;AACJ;AACJ,CA7NA,GAAD,C;;;;;;;;;;;;;;ACRA5hB,OAAOC,OAAP,GAAiB,UAASD,MAAT,EAAiB;AACjC,KAAI,CAACA,OAAO6hB,eAAZ,EAA6B;AAC5B7hB,SAAO8hB,SAAP,GAAmB,YAAW,CAAE,CAAhC;AACA9hB,SAAO+hB,KAAP,GAAe,EAAf;AACA;AACA,MAAI,CAAC/hB,OAAOgiB,QAAZ,EAAsBhiB,OAAOgiB,QAAP,GAAkB,EAAlB;AACtBzD,SAAO0D,cAAP,CAAsBjiB,MAAtB,EAA8B,QAA9B,EAAwC;AACvCkiB,eAAY,IAD2B;AAEvCC,QAAK,eAAW;AACf,WAAOniB,OAAOE,CAAd;AACA;AAJsC,GAAxC;AAMAqe,SAAO0D,cAAP,CAAsBjiB,MAAtB,EAA8B,IAA9B,EAAoC;AACnCkiB,eAAY,IADuB;AAEnCC,QAAK,eAAW;AACf,WAAOniB,OAAOoK,CAAd;AACA;AAJkC,GAApC;AAMApK,SAAO6hB,eAAP,GAAyB,CAAzB;AACA;AACD,QAAO7hB,MAAP;AACA,CArBD,C;;;;;;;;;;;;;;ACAA;;AACA;;AACA,8E","file":"vendor.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/scripts/vendor.js\");\n","(function(window, factory) {\n\tvar lazySizes = factory(window, window.document);\n\twindow.lazySizes = lazySizes;\n\tif(typeof module == 'object' && module.exports){\n\t\tmodule.exports = lazySizes;\n\t}\n}(window, function l(window, document) {\n\t'use strict';\n\t/*jshint eqnull:true */\n\tif(!document.getElementsByClassName){return;}\n\n\tvar lazysizes, lazySizesConfig;\n\n\tvar docElem = document.documentElement;\n\n\tvar Date = window.Date;\n\n\tvar supportPicture = window.HTMLPictureElement;\n\n\tvar _addEventListener = 'addEventListener';\n\n\tvar _getAttribute = 'getAttribute';\n\n\tvar addEventListener = window[_addEventListener];\n\n\tvar setTimeout = window.setTimeout;\n\n\tvar requestAnimationFrame = window.requestAnimationFrame || setTimeout;\n\n\tvar requestIdleCallback = window.requestIdleCallback;\n\n\tvar regPicture = /^picture$/i;\n\n\tvar loadEvents = ['load', 'error', 'lazyincluded', '_lazyloaded'];\n\n\tvar regClassCache = {};\n\n\tvar forEach = Array.prototype.forEach;\n\n\tvar hasClass = function(ele, cls) {\n\t\tif(!regClassCache[cls]){\n\t\t\tregClassCache[cls] = new RegExp('(\\\\s|^)'+cls+'(\\\\s|$)');\n\t\t}\n\t\treturn regClassCache[cls].test(ele[_getAttribute]('class') || '') && regClassCache[cls];\n\t};\n\n\tvar addClass = function(ele, cls) {\n\t\tif (!hasClass(ele, cls)){\n\t\t\tele.setAttribute('class', (ele[_getAttribute]('class') || '').trim() + ' ' + cls);\n\t\t}\n\t};\n\n\tvar removeClass = function(ele, cls) {\n\t\tvar reg;\n\t\tif ((reg = hasClass(ele,cls))) {\n\t\t\tele.setAttribute('class', (ele[_getAttribute]('class') || '').replace(reg, ' '));\n\t\t}\n\t};\n\n\tvar addRemoveLoadEvents = function(dom, fn, add){\n\t\tvar action = add ? _addEventListener : 'removeEventListener';\n\t\tif(add){\n\t\t\taddRemoveLoadEvents(dom, fn);\n\t\t}\n\t\tloadEvents.forEach(function(evt){\n\t\t\tdom[action](evt, fn);\n\t\t});\n\t};\n\n\tvar triggerEvent = function(elem, name, detail, noBubbles, noCancelable){\n\t\tvar event = document.createEvent('CustomEvent');\n\n\t\tif(!detail){\n\t\t\tdetail = {};\n\t\t}\n\n\t\tdetail.instance = lazysizes;\n\n\t\tevent.initCustomEvent(name, !noBubbles, !noCancelable, detail);\n\n\t\telem.dispatchEvent(event);\n\t\treturn event;\n\t};\n\n\tvar updatePolyfill = function (el, full){\n\t\tvar polyfill;\n\t\tif( !supportPicture && ( polyfill = (window.picturefill || lazySizesConfig.pf) ) ){\n\t\t\tif(full && full.src && !el[_getAttribute]('srcset')){\n\t\t\t\tel.setAttribute('srcset', full.src);\n\t\t\t}\n\t\t\tpolyfill({reevaluate: true, elements: [el]});\n\t\t} else if(full && full.src){\n\t\t\tel.src = full.src;\n\t\t}\n\t};\n\n\tvar getCSS = function (elem, style){\n\t\treturn (getComputedStyle(elem, null) || {})[style];\n\t};\n\n\tvar getWidth = function(elem, parent, width){\n\t\twidth = width || elem.offsetWidth;\n\n\t\twhile(width < lazySizesConfig.minSize && parent && !elem._lazysizesWidth){\n\t\t\twidth =  parent.offsetWidth;\n\t\t\tparent = parent.parentNode;\n\t\t}\n\n\t\treturn width;\n\t};\n\n\tvar rAF = (function(){\n\t\tvar running, waiting;\n\t\tvar firstFns = [];\n\t\tvar secondFns = [];\n\t\tvar fns = firstFns;\n\n\t\tvar run = function(){\n\t\t\tvar runFns = fns;\n\n\t\t\tfns = firstFns.length ? secondFns : firstFns;\n\n\t\t\trunning = true;\n\t\t\twaiting = false;\n\n\t\t\twhile(runFns.length){\n\t\t\t\trunFns.shift()();\n\t\t\t}\n\n\t\t\trunning = false;\n\t\t};\n\n\t\tvar rafBatch = function(fn, queue){\n\t\t\tif(running && !queue){\n\t\t\t\tfn.apply(this, arguments);\n\t\t\t} else {\n\t\t\t\tfns.push(fn);\n\n\t\t\t\tif(!waiting){\n\t\t\t\t\twaiting = true;\n\t\t\t\t\t(document.hidden ? setTimeout : requestAnimationFrame)(run);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\trafBatch._lsFlush = run;\n\n\t\treturn rafBatch;\n\t})();\n\n\tvar rAFIt = function(fn, simple){\n\t\treturn simple ?\n\t\t\tfunction() {\n\t\t\t\trAF(fn);\n\t\t\t} :\n\t\t\tfunction(){\n\t\t\t\tvar that = this;\n\t\t\t\tvar args = arguments;\n\t\t\t\trAF(function(){\n\t\t\t\t\tfn.apply(that, args);\n\t\t\t\t});\n\t\t\t}\n\t\t;\n\t};\n\n\tvar throttle = function(fn){\n\t\tvar running;\n\t\tvar lastTime = 0;\n\t\tvar gDelay = lazySizesConfig.throttleDelay;\n\t\tvar rICTimeout = lazySizesConfig.ricTimeout;\n\t\tvar run = function(){\n\t\t\trunning = false;\n\t\t\tlastTime = Date.now();\n\t\t\tfn();\n\t\t};\n\t\tvar idleCallback = requestIdleCallback && rICTimeout > 49 ?\n\t\t\tfunction(){\n\t\t\t\trequestIdleCallback(run, {timeout: rICTimeout});\n\n\t\t\t\tif(rICTimeout !== lazySizesConfig.ricTimeout){\n\t\t\t\t\trICTimeout = lazySizesConfig.ricTimeout;\n\t\t\t\t}\n\t\t\t} :\n\t\t\trAFIt(function(){\n\t\t\t\tsetTimeout(run);\n\t\t\t}, true)\n\t\t;\n\n\t\treturn function(isPriority){\n\t\t\tvar delay;\n\n\t\t\tif((isPriority = isPriority === true)){\n\t\t\t\trICTimeout = 33;\n\t\t\t}\n\n\t\t\tif(running){\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\trunning =  true;\n\n\t\t\tdelay = gDelay - (Date.now() - lastTime);\n\n\t\t\tif(delay < 0){\n\t\t\t\tdelay = 0;\n\t\t\t}\n\n\t\t\tif(isPriority || delay < 9){\n\t\t\t\tidleCallback();\n\t\t\t} else {\n\t\t\t\tsetTimeout(idleCallback, delay);\n\t\t\t}\n\t\t};\n\t};\n\n\t//based on http://modernjavascript.blogspot.de/2013/08/building-better-debounce.html\n\tvar debounce = function(func) {\n\t\tvar timeout, timestamp;\n\t\tvar wait = 99;\n\t\tvar run = function(){\n\t\t\ttimeout = null;\n\t\t\tfunc();\n\t\t};\n\t\tvar later = function() {\n\t\t\tvar last = Date.now() - timestamp;\n\n\t\t\tif (last < wait) {\n\t\t\t\tsetTimeout(later, wait - last);\n\t\t\t} else {\n\t\t\t\t(requestIdleCallback || run)(run);\n\t\t\t}\n\t\t};\n\n\t\treturn function() {\n\t\t\ttimestamp = Date.now();\n\n\t\t\tif (!timeout) {\n\t\t\t\ttimeout = setTimeout(later, wait);\n\t\t\t}\n\t\t};\n\t};\n\n\t(function(){\n\t\tvar prop;\n\n\t\tvar lazySizesDefaults = {\n\t\t\tlazyClass: 'lazyload',\n\t\t\tloadedClass: 'lazyloaded',\n\t\t\tloadingClass: 'lazyloading',\n\t\t\tpreloadClass: 'lazypreload',\n\t\t\terrorClass: 'lazyerror',\n\t\t\t//strictClass: 'lazystrict',\n\t\t\tautosizesClass: 'lazyautosizes',\n\t\t\tsrcAttr: 'data-src',\n\t\t\tsrcsetAttr: 'data-srcset',\n\t\t\tsizesAttr: 'data-sizes',\n\t\t\t//preloadAfterLoad: false,\n\t\t\tminSize: 40,\n\t\t\tcustomMedia: {},\n\t\t\tinit: true,\n\t\t\texpFactor: 1.5,\n\t\t\thFac: 0.8,\n\t\t\tloadMode: 2,\n\t\t\tloadHidden: true,\n\t\t\tricTimeout: 0,\n\t\t\tthrottleDelay: 125,\n\t\t};\n\n\t\tlazySizesConfig = window.lazySizesConfig || window.lazysizesConfig || {};\n\n\t\tfor(prop in lazySizesDefaults){\n\t\t\tif(!(prop in lazySizesConfig)){\n\t\t\t\tlazySizesConfig[prop] = lazySizesDefaults[prop];\n\t\t\t}\n\t\t}\n\n\t\twindow.lazySizesConfig = lazySizesConfig;\n\n\t\tsetTimeout(function(){\n\t\t\tif(lazySizesConfig.init){\n\t\t\t\tinit();\n\t\t\t}\n\t\t});\n\t})();\n\n\tvar loader = (function(){\n\t\tvar preloadElems, isCompleted, resetPreloadingTimer, loadMode, started;\n\n\t\tvar eLvW, elvH, eLtop, eLleft, eLright, eLbottom;\n\n\t\tvar defaultExpand, preloadExpand, hFac;\n\n\t\tvar regImg = /^img$/i;\n\t\tvar regIframe = /^iframe$/i;\n\n\t\tvar supportScroll = ('onscroll' in window) && !(/(gle|ing)bot/.test(navigator.userAgent));\n\n\t\tvar shrinkExpand = 0;\n\t\tvar currentExpand = 0;\n\n\t\tvar isLoading = 0;\n\t\tvar lowRuns = -1;\n\n\t\tvar resetPreloading = function(e){\n\t\t\tisLoading--;\n\t\t\tif(e && e.target){\n\t\t\t\taddRemoveLoadEvents(e.target, resetPreloading);\n\t\t\t}\n\n\t\t\tif(!e || isLoading < 0 || !e.target){\n\t\t\t\tisLoading = 0;\n\t\t\t}\n\t\t};\n\n\t\tvar isNestedVisible = function(elem, elemExpand){\n\t\t\tvar outerRect;\n\t\t\tvar parent = elem;\n\t\t\tvar visible = getCSS(document.body, 'visibility') == 'hidden' || (getCSS(elem.parentNode, 'visibility') != 'hidden' && getCSS(elem, 'visibility') != 'hidden');\n\n\t\t\teLtop -= elemExpand;\n\t\t\teLbottom += elemExpand;\n\t\t\teLleft -= elemExpand;\n\t\t\teLright += elemExpand;\n\n\t\t\twhile(visible && (parent = parent.offsetParent) && parent != document.body && parent != docElem){\n\t\t\t\tvisible = ((getCSS(parent, 'opacity') || 1) > 0);\n\n\t\t\t\tif(visible && getCSS(parent, 'overflow') != 'visible'){\n\t\t\t\t\touterRect = parent.getBoundingClientRect();\n\t\t\t\t\tvisible = eLright > outerRect.left &&\n\t\t\t\t\t\teLleft < outerRect.right &&\n\t\t\t\t\t\teLbottom > outerRect.top - 1 &&\n\t\t\t\t\t\teLtop < outerRect.bottom + 1\n\t\t\t\t\t;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn visible;\n\t\t};\n\n\t\tvar checkElements = function() {\n\t\t\tvar eLlen, i, rect, autoLoadElem, loadedSomething, elemExpand, elemNegativeExpand, elemExpandVal, beforeExpandVal;\n\n\t\t\tvar lazyloadElems = lazysizes.elements;\n\n\t\t\tif((loadMode = lazySizesConfig.loadMode) && isLoading < 8 && (eLlen = lazyloadElems.length)){\n\n\t\t\t\ti = 0;\n\n\t\t\t\tlowRuns++;\n\n\t\t\t\tif(preloadExpand == null){\n\t\t\t\t\tif(!('expand' in lazySizesConfig)){\n\t\t\t\t\t\tlazySizesConfig.expand = docElem.clientHeight > 500 && docElem.clientWidth > 500 ? 500 : 370;\n\t\t\t\t\t}\n\n\t\t\t\t\tdefaultExpand = lazySizesConfig.expand;\n\t\t\t\t\tpreloadExpand = defaultExpand * lazySizesConfig.expFactor;\n\t\t\t\t}\n\n\t\t\t\tif(currentExpand < preloadExpand && isLoading < 1 && lowRuns > 2 && loadMode > 2 && !document.hidden){\n\t\t\t\t\tcurrentExpand = preloadExpand;\n\t\t\t\t\tlowRuns = 0;\n\t\t\t\t} else if(loadMode > 1 && lowRuns > 1 && isLoading < 6){\n\t\t\t\t\tcurrentExpand = defaultExpand;\n\t\t\t\t} else {\n\t\t\t\t\tcurrentExpand = shrinkExpand;\n\t\t\t\t}\n\n\t\t\t\tfor(; i < eLlen; i++){\n\n\t\t\t\t\tif(!lazyloadElems[i] || lazyloadElems[i]._lazyRace){continue;}\n\n\t\t\t\t\tif(!supportScroll){unveilElement(lazyloadElems[i]);continue;}\n\n\t\t\t\t\tif(!(elemExpandVal = lazyloadElems[i][_getAttribute]('data-expand')) || !(elemExpand = elemExpandVal * 1)){\n\t\t\t\t\t\telemExpand = currentExpand;\n\t\t\t\t\t}\n\n\t\t\t\t\tif(beforeExpandVal !== elemExpand){\n\t\t\t\t\t\teLvW = innerWidth + (elemExpand * hFac);\n\t\t\t\t\t\telvH = innerHeight + elemExpand;\n\t\t\t\t\t\telemNegativeExpand = elemExpand * -1;\n\t\t\t\t\t\tbeforeExpandVal = elemExpand;\n\t\t\t\t\t}\n\n\t\t\t\t\trect = lazyloadElems[i].getBoundingClientRect();\n\n\t\t\t\t\tif ((eLbottom = rect.bottom) >= elemNegativeExpand &&\n\t\t\t\t\t\t(eLtop = rect.top) <= elvH &&\n\t\t\t\t\t\t(eLright = rect.right) >= elemNegativeExpand * hFac &&\n\t\t\t\t\t\t(eLleft = rect.left) <= eLvW &&\n\t\t\t\t\t\t(eLbottom || eLright || eLleft || eLtop) &&\n\t\t\t\t\t\t(lazySizesConfig.loadHidden || getCSS(lazyloadElems[i], 'visibility') != 'hidden') &&\n\t\t\t\t\t\t((isCompleted && isLoading < 3 && !elemExpandVal && (loadMode < 3 || lowRuns < 4)) || isNestedVisible(lazyloadElems[i], elemExpand))){\n\t\t\t\t\t\tunveilElement(lazyloadElems[i]);\n\t\t\t\t\t\tloadedSomething = true;\n\t\t\t\t\t\tif(isLoading > 9){break;}\n\t\t\t\t\t} else if(!loadedSomething && isCompleted && !autoLoadElem &&\n\t\t\t\t\t\tisLoading < 4 && lowRuns < 4 && loadMode > 2 &&\n\t\t\t\t\t\t(preloadElems[0] || lazySizesConfig.preloadAfterLoad) &&\n\t\t\t\t\t\t(preloadElems[0] || (!elemExpandVal && ((eLbottom || eLright || eLleft || eLtop) || lazyloadElems[i][_getAttribute](lazySizesConfig.sizesAttr) != 'auto')))){\n\t\t\t\t\t\tautoLoadElem = preloadElems[0] || lazyloadElems[i];\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif(autoLoadElem && !loadedSomething){\n\t\t\t\t\tunveilElement(autoLoadElem);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tvar throttledCheckElements = throttle(checkElements);\n\n\t\tvar switchLoadingClass = function(e){\n\t\t\taddClass(e.target, lazySizesConfig.loadedClass);\n\t\t\tremoveClass(e.target, lazySizesConfig.loadingClass);\n\t\t\taddRemoveLoadEvents(e.target, rafSwitchLoadingClass);\n\t\t\ttriggerEvent(e.target, 'lazyloaded');\n\t\t};\n\t\tvar rafedSwitchLoadingClass = rAFIt(switchLoadingClass);\n\t\tvar rafSwitchLoadingClass = function(e){\n\t\t\trafedSwitchLoadingClass({target: e.target});\n\t\t};\n\n\t\tvar changeIframeSrc = function(elem, src){\n\t\t\ttry {\n\t\t\t\telem.contentWindow.location.replace(src);\n\t\t\t} catch(e){\n\t\t\t\telem.src = src;\n\t\t\t}\n\t\t};\n\n\t\tvar handleSources = function(source){\n\t\t\tvar customMedia;\n\n\t\t\tvar sourceSrcset = source[_getAttribute](lazySizesConfig.srcsetAttr);\n\n\t\t\tif( (customMedia = lazySizesConfig.customMedia[source[_getAttribute]('data-media') || source[_getAttribute]('media')]) ){\n\t\t\t\tsource.setAttribute('media', customMedia);\n\t\t\t}\n\n\t\t\tif(sourceSrcset){\n\t\t\t\tsource.setAttribute('srcset', sourceSrcset);\n\t\t\t}\n\t\t};\n\n\t\tvar lazyUnveil = rAFIt(function (elem, detail, isAuto, sizes, isImg){\n\t\t\tvar src, srcset, parent, isPicture, event, firesLoad;\n\n\t\t\tif(!(event = triggerEvent(elem, 'lazybeforeunveil', detail)).defaultPrevented){\n\n\t\t\t\tif(sizes){\n\t\t\t\t\tif(isAuto){\n\t\t\t\t\t\taddClass(elem, lazySizesConfig.autosizesClass);\n\t\t\t\t\t} else {\n\t\t\t\t\t\telem.setAttribute('sizes', sizes);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tsrcset = elem[_getAttribute](lazySizesConfig.srcsetAttr);\n\t\t\t\tsrc = elem[_getAttribute](lazySizesConfig.srcAttr);\n\n\t\t\t\tif(isImg) {\n\t\t\t\t\tparent = elem.parentNode;\n\t\t\t\t\tisPicture = parent && regPicture.test(parent.nodeName || '');\n\t\t\t\t}\n\n\t\t\t\tfiresLoad = detail.firesLoad || (('src' in elem) && (srcset || src || isPicture));\n\n\t\t\t\tevent = {target: elem};\n\n\t\t\t\tif(firesLoad){\n\t\t\t\t\taddRemoveLoadEvents(elem, resetPreloading, true);\n\t\t\t\t\tclearTimeout(resetPreloadingTimer);\n\t\t\t\t\tresetPreloadingTimer = setTimeout(resetPreloading, 2500);\n\n\t\t\t\t\taddClass(elem, lazySizesConfig.loadingClass);\n\t\t\t\t\taddRemoveLoadEvents(elem, rafSwitchLoadingClass, true);\n\t\t\t\t}\n\n\t\t\t\tif(isPicture){\n\t\t\t\t\tforEach.call(parent.getElementsByTagName('source'), handleSources);\n\t\t\t\t}\n\n\t\t\t\tif(srcset){\n\t\t\t\t\telem.setAttribute('srcset', srcset);\n\t\t\t\t} else if(src && !isPicture){\n\t\t\t\t\tif(regIframe.test(elem.nodeName)){\n\t\t\t\t\t\tchangeIframeSrc(elem, src);\n\t\t\t\t\t} else {\n\t\t\t\t\t\telem.src = src;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif(isImg && (srcset || isPicture)){\n\t\t\t\t\tupdatePolyfill(elem, {src: src});\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif(elem._lazyRace){\n\t\t\t\tdelete elem._lazyRace;\n\t\t\t}\n\t\t\tremoveClass(elem, lazySizesConfig.lazyClass);\n\n\t\t\trAF(function(){\n\t\t\t\tif( !firesLoad || (elem.complete && elem.naturalWidth > 1)){\n\t\t\t\t\tif(firesLoad){\n\t\t\t\t\t\tresetPreloading(event);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tisLoading--;\n\t\t\t\t\t}\n\t\t\t\t\tswitchLoadingClass(event);\n\t\t\t\t}\n\t\t\t}, true);\n\t\t});\n\n\t\tvar unveilElement = function (elem){\n\t\t\tvar detail;\n\n\t\t\tvar isImg = regImg.test(elem.nodeName);\n\n\t\t\t//allow using sizes=\"auto\", but don't use. it's invalid. Use data-sizes=\"auto\" or a valid value for sizes instead (i.e.: sizes=\"80vw\")\n\t\t\tvar sizes = isImg && (elem[_getAttribute](lazySizesConfig.sizesAttr) || elem[_getAttribute]('sizes'));\n\t\t\tvar isAuto = sizes == 'auto';\n\n\t\t\tif( (isAuto || !isCompleted) && isImg && (elem[_getAttribute]('src') || elem.srcset) && !elem.complete && !hasClass(elem, lazySizesConfig.errorClass) && hasClass(elem, lazySizesConfig.lazyClass)){return;}\n\n\t\t\tdetail = triggerEvent(elem, 'lazyunveilread').detail;\n\n\t\t\tif(isAuto){\n\t\t\t\t autoSizer.updateElem(elem, true, elem.offsetWidth);\n\t\t\t}\n\n\t\t\telem._lazyRace = true;\n\t\t\tisLoading++;\n\n\t\t\tlazyUnveil(elem, detail, isAuto, sizes, isImg);\n\t\t};\n\n\t\tvar onload = function(){\n\t\t\tif(isCompleted){return;}\n\t\t\tif(Date.now() - started < 999){\n\t\t\t\tsetTimeout(onload, 999);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar afterScroll = debounce(function(){\n\t\t\t\tlazySizesConfig.loadMode = 3;\n\t\t\t\tthrottledCheckElements();\n\t\t\t});\n\n\t\t\tisCompleted = true;\n\n\t\t\tlazySizesConfig.loadMode = 3;\n\n\t\t\tthrottledCheckElements();\n\n\t\t\taddEventListener('scroll', function(){\n\t\t\t\tif(lazySizesConfig.loadMode == 3){\n\t\t\t\t\tlazySizesConfig.loadMode = 2;\n\t\t\t\t}\n\t\t\t\tafterScroll();\n\t\t\t}, true);\n\t\t};\n\n\t\treturn {\n\t\t\t_: function(){\n\t\t\t\tstarted = Date.now();\n\n\t\t\t\tlazysizes.elements = document.getElementsByClassName(lazySizesConfig.lazyClass);\n\t\t\t\tpreloadElems = document.getElementsByClassName(lazySizesConfig.lazyClass + ' ' + lazySizesConfig.preloadClass);\n\t\t\t\thFac = lazySizesConfig.hFac;\n\n\t\t\t\taddEventListener('scroll', throttledCheckElements, true);\n\n\t\t\t\taddEventListener('resize', throttledCheckElements, true);\n\n\t\t\t\tif(window.MutationObserver){\n\t\t\t\t\tnew MutationObserver( throttledCheckElements ).observe( docElem, {childList: true, subtree: true, attributes: true} );\n\t\t\t\t} else {\n\t\t\t\t\tdocElem[_addEventListener]('DOMNodeInserted', throttledCheckElements, true);\n\t\t\t\t\tdocElem[_addEventListener]('DOMAttrModified', throttledCheckElements, true);\n\t\t\t\t\tsetInterval(throttledCheckElements, 999);\n\t\t\t\t}\n\n\t\t\t\taddEventListener('hashchange', throttledCheckElements, true);\n\n\t\t\t\t//, 'fullscreenchange'\n\t\t\t\t['focus', 'mouseover', 'click', 'load', 'transitionend', 'animationend', 'webkitAnimationEnd'].forEach(function(name){\n\t\t\t\t\tdocument[_addEventListener](name, throttledCheckElements, true);\n\t\t\t\t});\n\n\t\t\t\tif((/d$|^c/.test(document.readyState))){\n\t\t\t\t\tonload();\n\t\t\t\t} else {\n\t\t\t\t\taddEventListener('load', onload);\n\t\t\t\t\tdocument[_addEventListener]('DOMContentLoaded', throttledCheckElements);\n\t\t\t\t\tsetTimeout(onload, 20000);\n\t\t\t\t}\n\n\t\t\t\tif(lazysizes.elements.length){\n\t\t\t\t\tcheckElements();\n\t\t\t\t\trAF._lsFlush();\n\t\t\t\t} else {\n\t\t\t\t\tthrottledCheckElements();\n\t\t\t\t}\n\t\t\t},\n\t\t\tcheckElems: throttledCheckElements,\n\t\t\tunveil: unveilElement\n\t\t};\n\t})();\n\n\n\tvar autoSizer = (function(){\n\t\tvar autosizesElems;\n\n\t\tvar sizeElement = rAFIt(function(elem, parent, event, width){\n\t\t\tvar sources, i, len;\n\t\t\telem._lazysizesWidth = width;\n\t\t\twidth += 'px';\n\n\t\t\telem.setAttribute('sizes', width);\n\n\t\t\tif(regPicture.test(parent.nodeName || '')){\n\t\t\t\tsources = parent.getElementsByTagName('source');\n\t\t\t\tfor(i = 0, len = sources.length; i < len; i++){\n\t\t\t\t\tsources[i].setAttribute('sizes', width);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif(!event.detail.dataAttr){\n\t\t\t\tupdatePolyfill(elem, event.detail);\n\t\t\t}\n\t\t});\n\t\tvar getSizeElement = function (elem, dataAttr, width){\n\t\t\tvar event;\n\t\t\tvar parent = elem.parentNode;\n\n\t\t\tif(parent){\n\t\t\t\twidth = getWidth(elem, parent, width);\n\t\t\t\tevent = triggerEvent(elem, 'lazybeforesizes', {width: width, dataAttr: !!dataAttr});\n\n\t\t\t\tif(!event.defaultPrevented){\n\t\t\t\t\twidth = event.detail.width;\n\n\t\t\t\t\tif(width && width !== elem._lazysizesWidth){\n\t\t\t\t\t\tsizeElement(elem, parent, event, width);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tvar updateElementsSizes = function(){\n\t\t\tvar i;\n\t\t\tvar len = autosizesElems.length;\n\t\t\tif(len){\n\t\t\t\ti = 0;\n\n\t\t\t\tfor(; i < len; i++){\n\t\t\t\t\tgetSizeElement(autosizesElems[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tvar debouncedUpdateElementsSizes = debounce(updateElementsSizes);\n\n\t\treturn {\n\t\t\t_: function(){\n\t\t\t\tautosizesElems = document.getElementsByClassName(lazySizesConfig.autosizesClass);\n\t\t\t\taddEventListener('resize', debouncedUpdateElementsSizes);\n\t\t\t},\n\t\t\tcheckElems: debouncedUpdateElementsSizes,\n\t\t\tupdateElem: getSizeElement\n\t\t};\n\t})();\n\n\tvar init = function(){\n\t\tif(!init.i){\n\t\t\tinit.i = true;\n\t\t\tautoSizer._();\n\t\t\tloader._();\n\t\t}\n\t};\n\n\tlazysizes = {\n\t\tcfg: lazySizesConfig,\n\t\tautoSizer: autoSizer,\n\t\tloader: loader,\n\t\tinit: init,\n\t\tuP: updatePolyfill,\n\t\taC: addClass,\n\t\trC: removeClass,\n\t\thC: hasClass,\n\t\tfire: triggerEvent,\n\t\tgW: getWidth,\n\t\trAF: rAF,\n\t};\n\n\treturn lazysizes;\n}\n));\n","/*! picturefill - v3.0.2 - 2016-02-12\n * https://scottjehl.github.io/picturefill/\n * Copyright (c) 2016 https://github.com/scottjehl/picturefill/blob/master/Authors.txt; Licensed MIT\n */\n/*! Gecko-Picture - v1.0\n * https://github.com/scottjehl/picturefill/tree/3.0/src/plugins/gecko-picture\n * Firefox's early picture implementation (prior to FF41) is static and does\n * not react to viewport changes. This tiny module fixes this.\n */\n(function(window) {\n\t/*jshint eqnull:true */\n\tvar ua = navigator.userAgent;\n\n\tif ( window.HTMLPictureElement && ((/ecko/).test(ua) && ua.match(/rv\\:(\\d+)/) && RegExp.$1 < 45) ) {\n\t\taddEventListener(\"resize\", (function() {\n\t\t\tvar timer;\n\n\t\t\tvar dummySrc = document.createElement(\"source\");\n\n\t\t\tvar fixRespimg = function(img) {\n\t\t\t\tvar source, sizes;\n\t\t\t\tvar picture = img.parentNode;\n\n\t\t\t\tif (picture.nodeName.toUpperCase() === \"PICTURE\") {\n\t\t\t\t\tsource = dummySrc.cloneNode();\n\n\t\t\t\t\tpicture.insertBefore(source, picture.firstElementChild);\n\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\tpicture.removeChild(source);\n\t\t\t\t\t});\n\t\t\t\t} else if (!img._pfLastSize || img.offsetWidth > img._pfLastSize) {\n\t\t\t\t\timg._pfLastSize = img.offsetWidth;\n\t\t\t\t\tsizes = img.sizes;\n\t\t\t\t\timg.sizes += \",100vw\";\n\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\timg.sizes = sizes;\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tvar findPictureImgs = function() {\n\t\t\t\tvar i;\n\t\t\t\tvar imgs = document.querySelectorAll(\"picture > img, img[srcset][sizes]\");\n\t\t\t\tfor (i = 0; i < imgs.length; i++) {\n\t\t\t\t\tfixRespimg(imgs[i]);\n\t\t\t\t}\n\t\t\t};\n\t\t\tvar onResize = function() {\n\t\t\t\tclearTimeout(timer);\n\t\t\t\ttimer = setTimeout(findPictureImgs, 99);\n\t\t\t};\n\t\t\tvar mq = window.matchMedia && matchMedia(\"(orientation: landscape)\");\n\t\t\tvar init = function() {\n\t\t\t\tonResize();\n\n\t\t\t\tif (mq && mq.addListener) {\n\t\t\t\t\tmq.addListener(onResize);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tdummySrc.srcset = \"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==\";\n\n\t\t\tif (/^[c|i]|d$/.test(document.readyState || \"\")) {\n\t\t\t\tinit();\n\t\t\t} else {\n\t\t\t\tdocument.addEventListener(\"DOMContentLoaded\", init);\n\t\t\t}\n\n\t\t\treturn onResize;\n\t\t})());\n\t}\n})(window);\n\n/*! Picturefill - v3.0.2\n * http://scottjehl.github.io/picturefill\n * Copyright (c) 2015 https://github.com/scottjehl/picturefill/blob/master/Authors.txt;\n *  License: MIT\n */\n\n(function( window, document, undefined ) {\n\t// Enable strict mode\n\t\"use strict\";\n\n\t// HTML shim|v it for old IE (IE9 will still need the HTML video tag workaround)\n\tdocument.createElement( \"picture\" );\n\n\tvar warn, eminpx, alwaysCheckWDescriptor, evalId;\n\t// local object for method references and testing exposure\n\tvar pf = {};\n\tvar isSupportTestReady = false;\n\tvar noop = function() {};\n\tvar image = document.createElement( \"img\" );\n\tvar getImgAttr = image.getAttribute;\n\tvar setImgAttr = image.setAttribute;\n\tvar removeImgAttr = image.removeAttribute;\n\tvar docElem = document.documentElement;\n\tvar types = {};\n\tvar cfg = {\n\t\t//resource selection:\n\t\talgorithm: \"\"\n\t};\n\tvar srcAttr = \"data-pfsrc\";\n\tvar srcsetAttr = srcAttr + \"set\";\n\t// ua sniffing is done for undetectable img loading features,\n\t// to do some non crucial perf optimizations\n\tvar ua = navigator.userAgent;\n\tvar supportAbort = (/rident/).test(ua) || ((/ecko/).test(ua) && ua.match(/rv\\:(\\d+)/) && RegExp.$1 > 35 );\n\tvar curSrcProp = \"currentSrc\";\n\tvar regWDesc = /\\s+\\+?\\d+(e\\d+)?w/;\n\tvar regSize = /(\\([^)]+\\))?\\s*(.+)/;\n\tvar setOptions = window.picturefillCFG;\n\t/**\n\t * Shortcut property for https://w3c.github.io/webappsec/specs/mixedcontent/#restricts-mixed-content ( for easy overriding in tests )\n\t */\n\t// baseStyle also used by getEmValue (i.e.: width: 1em is important)\n\tvar baseStyle = \"position:absolute;left:0;visibility:hidden;display:block;padding:0;border:none;font-size:1em;width:1em;overflow:hidden;clip:rect(0px, 0px, 0px, 0px)\";\n\tvar fsCss = \"font-size:100%!important;\";\n\tvar isVwDirty = true;\n\n\tvar cssCache = {};\n\tvar sizeLengthCache = {};\n\tvar DPR = window.devicePixelRatio;\n\tvar units = {\n\t\tpx: 1,\n\t\t\"in\": 96\n\t};\n\tvar anchor = document.createElement( \"a\" );\n\t/**\n\t * alreadyRun flag used for setOptions. is it true setOptions will reevaluate\n\t * @type {boolean}\n\t */\n\tvar alreadyRun = false;\n\n\t// Reusable, non-\"g\" Regexes\n\n\t// (Don't use \\s, to avoid matching non-breaking space.)\n\tvar regexLeadingSpaces = /^[ \\t\\n\\r\\u000c]+/,\n\t    regexLeadingCommasOrSpaces = /^[, \\t\\n\\r\\u000c]+/,\n\t    regexLeadingNotSpaces = /^[^ \\t\\n\\r\\u000c]+/,\n\t    regexTrailingCommas = /[,]+$/,\n\t    regexNonNegativeInteger = /^\\d+$/,\n\n\t    // ( Positive or negative or unsigned integers or decimals, without or without exponents.\n\t    // Must include at least one digit.\n\t    // According to spec tests any decimal point must be followed by a digit.\n\t    // No leading plus sign is allowed.)\n\t    // https://html.spec.whatwg.org/multipage/infrastructure.html#valid-floating-point-number\n\t    regexFloatingPoint = /^-?(?:[0-9]+|[0-9]*\\.[0-9]+)(?:[eE][+-]?[0-9]+)?$/;\n\n\tvar on = function(obj, evt, fn, capture) {\n\t\tif ( obj.addEventListener ) {\n\t\t\tobj.addEventListener(evt, fn, capture || false);\n\t\t} else if ( obj.attachEvent ) {\n\t\t\tobj.attachEvent( \"on\" + evt, fn);\n\t\t}\n\t};\n\n\t/**\n\t * simple memoize function:\n\t */\n\n\tvar memoize = function(fn) {\n\t\tvar cache = {};\n\t\treturn function(input) {\n\t\t\tif ( !(input in cache) ) {\n\t\t\t\tcache[ input ] = fn(input);\n\t\t\t}\n\t\t\treturn cache[ input ];\n\t\t};\n\t};\n\n\t// UTILITY FUNCTIONS\n\n\t// Manual is faster than RegEx\n\t// http://jsperf.com/whitespace-character/5\n\tfunction isSpace(c) {\n\t\treturn (c === \"\\u0020\" || // space\n\t\t        c === \"\\u0009\" || // horizontal tab\n\t\t        c === \"\\u000A\" || // new line\n\t\t        c === \"\\u000C\" || // form feed\n\t\t        c === \"\\u000D\");  // carriage return\n\t}\n\n\t/**\n\t * gets a mediaquery and returns a boolean or gets a css length and returns a number\n\t * @param css mediaqueries or css length\n\t * @returns {boolean|number}\n\t *\n\t * based on: https://gist.github.com/jonathantneal/db4f77009b155f083738\n\t */\n\tvar evalCSS = (function() {\n\n\t\tvar regLength = /^([\\d\\.]+)(em|vw|px)$/;\n\t\tvar replace = function() {\n\t\t\tvar args = arguments, index = 0, string = args[0];\n\t\t\twhile (++index in args) {\n\t\t\t\tstring = string.replace(args[index], args[++index]);\n\t\t\t}\n\t\t\treturn string;\n\t\t};\n\n\t\tvar buildStr = memoize(function(css) {\n\n\t\t\treturn \"return \" + replace((css || \"\").toLowerCase(),\n\t\t\t\t// interpret `and`\n\t\t\t\t/\\band\\b/g, \"&&\",\n\n\t\t\t\t// interpret `,`\n\t\t\t\t/,/g, \"||\",\n\n\t\t\t\t// interpret `min-` as >=\n\t\t\t\t/min-([a-z-\\s]+):/g, \"e.$1>=\",\n\n\t\t\t\t// interpret `max-` as <=\n\t\t\t\t/max-([a-z-\\s]+):/g, \"e.$1<=\",\n\n\t\t\t\t//calc value\n\t\t\t\t/calc([^)]+)/g, \"($1)\",\n\n\t\t\t\t// interpret css values\n\t\t\t\t/(\\d+[\\.]*[\\d]*)([a-z]+)/g, \"($1 * e.$2)\",\n\t\t\t\t//make eval less evil\n\t\t\t\t/^(?!(e.[a-z]|[0-9\\.&=|><\\+\\-\\*\\(\\)\\/])).*/ig, \"\"\n\t\t\t) + \";\";\n\t\t});\n\n\t\treturn function(css, length) {\n\t\t\tvar parsedLength;\n\t\t\tif (!(css in cssCache)) {\n\t\t\t\tcssCache[css] = false;\n\t\t\t\tif (length && (parsedLength = css.match( regLength ))) {\n\t\t\t\t\tcssCache[css] = parsedLength[ 1 ] * units[parsedLength[ 2 ]];\n\t\t\t\t} else {\n\t\t\t\t\t/*jshint evil:true */\n\t\t\t\t\ttry{\n\t\t\t\t\t\tcssCache[css] = new Function(\"e\", buildStr(css))(units);\n\t\t\t\t\t} catch(e) {}\n\t\t\t\t\t/*jshint evil:false */\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn cssCache[css];\n\t\t};\n\t})();\n\n\tvar setResolution = function( candidate, sizesattr ) {\n\t\tif ( candidate.w ) { // h = means height: || descriptor.type === 'h' do not handle yet...\n\t\t\tcandidate.cWidth = pf.calcListLength( sizesattr || \"100vw\" );\n\t\t\tcandidate.res = candidate.w / candidate.cWidth ;\n\t\t} else {\n\t\t\tcandidate.res = candidate.d;\n\t\t}\n\t\treturn candidate;\n\t};\n\n\t/**\n\t *\n\t * @param opt\n\t */\n\tvar picturefill = function( opt ) {\n\n\t\tif (!isSupportTestReady) {return;}\n\n\t\tvar elements, i, plen;\n\n\t\tvar options = opt || {};\n\n\t\tif ( options.elements && options.elements.nodeType === 1 ) {\n\t\t\tif ( options.elements.nodeName.toUpperCase() === \"IMG\" ) {\n\t\t\t\toptions.elements =  [ options.elements ];\n\t\t\t} else {\n\t\t\t\toptions.context = options.elements;\n\t\t\t\toptions.elements =  null;\n\t\t\t}\n\t\t}\n\n\t\telements = options.elements || pf.qsa( (options.context || document), ( options.reevaluate || options.reselect ) ? pf.sel : pf.selShort );\n\n\t\tif ( (plen = elements.length) ) {\n\n\t\t\tpf.setupRun( options );\n\t\t\talreadyRun = true;\n\n\t\t\t// Loop through all elements\n\t\t\tfor ( i = 0; i < plen; i++ ) {\n\t\t\t\tpf.fillImg(elements[ i ], options);\n\t\t\t}\n\n\t\t\tpf.teardownRun( options );\n\t\t}\n\t};\n\n\t/**\n\t * outputs a warning for the developer\n\t * @param {message}\n\t * @type {Function}\n\t */\n\twarn = ( window.console && console.warn ) ?\n\t\tfunction( message ) {\n\t\t\tconsole.warn( message );\n\t\t} :\n\t\tnoop\n\t;\n\n\tif ( !(curSrcProp in image) ) {\n\t\tcurSrcProp = \"src\";\n\t}\n\n\t// Add support for standard mime types.\n\ttypes[ \"image/jpeg\" ] = true;\n\ttypes[ \"image/gif\" ] = true;\n\ttypes[ \"image/png\" ] = true;\n\n\tfunction detectTypeSupport( type, typeUri ) {\n\t\t// based on Modernizr's lossless img-webp test\n\t\t// note: asynchronous\n\t\tvar image = new window.Image();\n\t\timage.onerror = function() {\n\t\t\ttypes[ type ] = false;\n\t\t\tpicturefill();\n\t\t};\n\t\timage.onload = function() {\n\t\t\ttypes[ type ] = image.width === 1;\n\t\t\tpicturefill();\n\t\t};\n\t\timage.src = typeUri;\n\t\treturn \"pending\";\n\t}\n\n\t// test svg support\n\ttypes[ \"image/svg+xml\" ] = document.implementation.hasFeature( \"http://www.w3.org/TR/SVG11/feature#Image\", \"1.1\" );\n\n\t/**\n\t * updates the internal vW property with the current viewport width in px\n\t */\n\tfunction updateMetrics() {\n\n\t\tisVwDirty = false;\n\t\tDPR = window.devicePixelRatio;\n\t\tcssCache = {};\n\t\tsizeLengthCache = {};\n\n\t\tpf.DPR = DPR || 1;\n\n\t\tunits.width = Math.max(window.innerWidth || 0, docElem.clientWidth);\n\t\tunits.height = Math.max(window.innerHeight || 0, docElem.clientHeight);\n\n\t\tunits.vw = units.width / 100;\n\t\tunits.vh = units.height / 100;\n\n\t\tevalId = [ units.height, units.width, DPR ].join(\"-\");\n\n\t\tunits.em = pf.getEmValue();\n\t\tunits.rem = units.em;\n\t}\n\n\tfunction chooseLowRes( lowerValue, higherValue, dprValue, isCached ) {\n\t\tvar bonusFactor, tooMuch, bonus, meanDensity;\n\n\t\t//experimental\n\t\tif (cfg.algorithm === \"saveData\" ){\n\t\t\tif ( lowerValue > 2.7 ) {\n\t\t\t\tmeanDensity = dprValue + 1;\n\t\t\t} else {\n\t\t\t\ttooMuch = higherValue - dprValue;\n\t\t\t\tbonusFactor = Math.pow(lowerValue - 0.6, 1.5);\n\n\t\t\t\tbonus = tooMuch * bonusFactor;\n\n\t\t\t\tif (isCached) {\n\t\t\t\t\tbonus += 0.1 * bonusFactor;\n\t\t\t\t}\n\n\t\t\t\tmeanDensity = lowerValue + bonus;\n\t\t\t}\n\t\t} else {\n\t\t\tmeanDensity = (dprValue > 1) ?\n\t\t\t\tMath.sqrt(lowerValue * higherValue) :\n\t\t\t\tlowerValue;\n\t\t}\n\n\t\treturn meanDensity > dprValue;\n\t}\n\n\tfunction applyBestCandidate( img ) {\n\t\tvar srcSetCandidates;\n\t\tvar matchingSet = pf.getSet( img );\n\t\tvar evaluated = false;\n\t\tif ( matchingSet !== \"pending\" ) {\n\t\t\tevaluated = evalId;\n\t\t\tif ( matchingSet ) {\n\t\t\t\tsrcSetCandidates = pf.setRes( matchingSet );\n\t\t\t\tpf.applySetCandidate( srcSetCandidates, img );\n\t\t\t}\n\t\t}\n\t\timg[ pf.ns ].evaled = evaluated;\n\t}\n\n\tfunction ascendingSort( a, b ) {\n\t\treturn a.res - b.res;\n\t}\n\n\tfunction setSrcToCur( img, src, set ) {\n\t\tvar candidate;\n\t\tif ( !set && src ) {\n\t\t\tset = img[ pf.ns ].sets;\n\t\t\tset = set && set[set.length - 1];\n\t\t}\n\n\t\tcandidate = getCandidateForSrc(src, set);\n\n\t\tif ( candidate ) {\n\t\t\tsrc = pf.makeUrl(src);\n\t\t\timg[ pf.ns ].curSrc = src;\n\t\t\timg[ pf.ns ].curCan = candidate;\n\n\t\t\tif ( !candidate.res ) {\n\t\t\t\tsetResolution( candidate, candidate.set.sizes );\n\t\t\t}\n\t\t}\n\t\treturn candidate;\n\t}\n\n\tfunction getCandidateForSrc( src, set ) {\n\t\tvar i, candidate, candidates;\n\t\tif ( src && set ) {\n\t\t\tcandidates = pf.parseSet( set );\n\t\t\tsrc = pf.makeUrl(src);\n\t\t\tfor ( i = 0; i < candidates.length; i++ ) {\n\t\t\t\tif ( src === pf.makeUrl(candidates[ i ].url) ) {\n\t\t\t\t\tcandidate = candidates[ i ];\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn candidate;\n\t}\n\n\tfunction getAllSourceElements( picture, candidates ) {\n\t\tvar i, len, source, srcset;\n\n\t\t// SPEC mismatch intended for size and perf:\n\t\t// actually only source elements preceding the img should be used\n\t\t// also note: don't use qsa here, because IE8 sometimes doesn't like source as the key part in a selector\n\t\tvar sources = picture.getElementsByTagName( \"source\" );\n\n\t\tfor ( i = 0, len = sources.length; i < len; i++ ) {\n\t\t\tsource = sources[ i ];\n\t\t\tsource[ pf.ns ] = true;\n\t\t\tsrcset = source.getAttribute( \"srcset\" );\n\n\t\t\t// if source does not have a srcset attribute, skip\n\t\t\tif ( srcset ) {\n\t\t\t\tcandidates.push( {\n\t\t\t\t\tsrcset: srcset,\n\t\t\t\t\tmedia: source.getAttribute( \"media\" ),\n\t\t\t\t\ttype: source.getAttribute( \"type\" ),\n\t\t\t\t\tsizes: source.getAttribute( \"sizes\" )\n\t\t\t\t} );\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Srcset Parser\n\t * By Alex Bell |  MIT License\n\t *\n\t * @returns Array [{url: _, d: _, w: _, h:_, set:_(????)}, ...]\n\t *\n\t * Based super duper closely on the reference algorithm at:\n\t * https://html.spec.whatwg.org/multipage/embedded-content.html#parse-a-srcset-attribute\n\t */\n\n\t// 1. Let input be the value passed to this algorithm.\n\t// (TO-DO : Explain what \"set\" argument is here. Maybe choose a more\n\t// descriptive & more searchable name.  Since passing the \"set\" in really has\n\t// nothing to do with parsing proper, I would prefer this assignment eventually\n\t// go in an external fn.)\n\tfunction parseSrcset(input, set) {\n\n\t\tfunction collectCharacters(regEx) {\n\t\t\tvar chars,\n\t\t\t    match = regEx.exec(input.substring(pos));\n\t\t\tif (match) {\n\t\t\t\tchars = match[ 0 ];\n\t\t\t\tpos += chars.length;\n\t\t\t\treturn chars;\n\t\t\t}\n\t\t}\n\n\t\tvar inputLength = input.length,\n\t\t    url,\n\t\t    descriptors,\n\t\t    currentDescriptor,\n\t\t    state,\n\t\t    c,\n\n\t\t    // 2. Let position be a pointer into input, initially pointing at the start\n\t\t    //    of the string.\n\t\t    pos = 0,\n\n\t\t    // 3. Let candidates be an initially empty source set.\n\t\t    candidates = [];\n\n\t\t/**\n\t\t* Adds descriptor properties to a candidate, pushes to the candidates array\n\t\t* @return undefined\n\t\t*/\n\t\t// (Declared outside of the while loop so that it's only created once.\n\t\t// (This fn is defined before it is used, in order to pass JSHINT.\n\t\t// Unfortunately this breaks the sequencing of the spec comments. :/ )\n\t\tfunction parseDescriptors() {\n\n\t\t\t// 9. Descriptor parser: Let error be no.\n\t\t\tvar pError = false,\n\n\t\t\t// 10. Let width be absent.\n\t\t\t// 11. Let density be absent.\n\t\t\t// 12. Let future-compat-h be absent. (We're implementing it now as h)\n\t\t\t    w, d, h, i,\n\t\t\t    candidate = {},\n\t\t\t    desc, lastChar, value, intVal, floatVal;\n\n\t\t\t// 13. For each descriptor in descriptors, run the appropriate set of steps\n\t\t\t// from the following list:\n\t\t\tfor (i = 0 ; i < descriptors.length; i++) {\n\t\t\t\tdesc = descriptors[ i ];\n\n\t\t\t\tlastChar = desc[ desc.length - 1 ];\n\t\t\t\tvalue = desc.substring(0, desc.length - 1);\n\t\t\t\tintVal = parseInt(value, 10);\n\t\t\t\tfloatVal = parseFloat(value);\n\n\t\t\t\t// If the descriptor consists of a valid non-negative integer followed by\n\t\t\t\t// a U+0077 LATIN SMALL LETTER W character\n\t\t\t\tif (regexNonNegativeInteger.test(value) && (lastChar === \"w\")) {\n\n\t\t\t\t\t// If width and density are not both absent, then let error be yes.\n\t\t\t\t\tif (w || d) {pError = true;}\n\n\t\t\t\t\t// Apply the rules for parsing non-negative integers to the descriptor.\n\t\t\t\t\t// If the result is zero, let error be yes.\n\t\t\t\t\t// Otherwise, let width be the result.\n\t\t\t\t\tif (intVal === 0) {pError = true;} else {w = intVal;}\n\n\t\t\t\t// If the descriptor consists of a valid floating-point number followed by\n\t\t\t\t// a U+0078 LATIN SMALL LETTER X character\n\t\t\t\t} else if (regexFloatingPoint.test(value) && (lastChar === \"x\")) {\n\n\t\t\t\t\t// If width, density and future-compat-h are not all absent, then let error\n\t\t\t\t\t// be yes.\n\t\t\t\t\tif (w || d || h) {pError = true;}\n\n\t\t\t\t\t// Apply the rules for parsing floating-point number values to the descriptor.\n\t\t\t\t\t// If the result is less than zero, let error be yes. Otherwise, let density\n\t\t\t\t\t// be the result.\n\t\t\t\t\tif (floatVal < 0) {pError = true;} else {d = floatVal;}\n\n\t\t\t\t// If the descriptor consists of a valid non-negative integer followed by\n\t\t\t\t// a U+0068 LATIN SMALL LETTER H character\n\t\t\t\t} else if (regexNonNegativeInteger.test(value) && (lastChar === \"h\")) {\n\n\t\t\t\t\t// If height and density are not both absent, then let error be yes.\n\t\t\t\t\tif (h || d) {pError = true;}\n\n\t\t\t\t\t// Apply the rules for parsing non-negative integers to the descriptor.\n\t\t\t\t\t// If the result is zero, let error be yes. Otherwise, let future-compat-h\n\t\t\t\t\t// be the result.\n\t\t\t\t\tif (intVal === 0) {pError = true;} else {h = intVal;}\n\n\t\t\t\t// Anything else, Let error be yes.\n\t\t\t\t} else {pError = true;}\n\t\t\t} // (close step 13 for loop)\n\n\t\t\t// 15. If error is still no, then append a new image source to candidates whose\n\t\t\t// URL is url, associated with a width width if not absent and a pixel\n\t\t\t// density density if not absent. Otherwise, there is a parse error.\n\t\t\tif (!pError) {\n\t\t\t\tcandidate.url = url;\n\n\t\t\t\tif (w) { candidate.w = w;}\n\t\t\t\tif (d) { candidate.d = d;}\n\t\t\t\tif (h) { candidate.h = h;}\n\t\t\t\tif (!h && !d && !w) {candidate.d = 1;}\n\t\t\t\tif (candidate.d === 1) {set.has1x = true;}\n\t\t\t\tcandidate.set = set;\n\n\t\t\t\tcandidates.push(candidate);\n\t\t\t}\n\t\t} // (close parseDescriptors fn)\n\n\t\t/**\n\t\t* Tokenizes descriptor properties prior to parsing\n\t\t* Returns undefined.\n\t\t* (Again, this fn is defined before it is used, in order to pass JSHINT.\n\t\t* Unfortunately this breaks the logical sequencing of the spec comments. :/ )\n\t\t*/\n\t\tfunction tokenize() {\n\n\t\t\t// 8.1. Descriptor tokeniser: Skip whitespace\n\t\t\tcollectCharacters(regexLeadingSpaces);\n\n\t\t\t// 8.2. Let current descriptor be the empty string.\n\t\t\tcurrentDescriptor = \"\";\n\n\t\t\t// 8.3. Let state be in descriptor.\n\t\t\tstate = \"in descriptor\";\n\n\t\t\twhile (true) {\n\n\t\t\t\t// 8.4. Let c be the character at position.\n\t\t\t\tc = input.charAt(pos);\n\n\t\t\t\t//  Do the following depending on the value of state.\n\t\t\t\t//  For the purpose of this step, \"EOF\" is a special character representing\n\t\t\t\t//  that position is past the end of input.\n\n\t\t\t\t// In descriptor\n\t\t\t\tif (state === \"in descriptor\") {\n\t\t\t\t\t// Do the following, depending on the value of c:\n\n\t\t\t\t  // Space character\n\t\t\t\t  // If current descriptor is not empty, append current descriptor to\n\t\t\t\t  // descriptors and let current descriptor be the empty string.\n\t\t\t\t  // Set state to after descriptor.\n\t\t\t\t\tif (isSpace(c)) {\n\t\t\t\t\t\tif (currentDescriptor) {\n\t\t\t\t\t\t\tdescriptors.push(currentDescriptor);\n\t\t\t\t\t\t\tcurrentDescriptor = \"\";\n\t\t\t\t\t\t\tstate = \"after descriptor\";\n\t\t\t\t\t\t}\n\n\t\t\t\t\t// U+002C COMMA (,)\n\t\t\t\t\t// Advance position to the next character in input. If current descriptor\n\t\t\t\t\t// is not empty, append current descriptor to descriptors. Jump to the step\n\t\t\t\t\t// labeled descriptor parser.\n\t\t\t\t\t} else if (c === \",\") {\n\t\t\t\t\t\tpos += 1;\n\t\t\t\t\t\tif (currentDescriptor) {\n\t\t\t\t\t\t\tdescriptors.push(currentDescriptor);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tparseDescriptors();\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t// U+0028 LEFT PARENTHESIS (()\n\t\t\t\t\t// Append c to current descriptor. Set state to in parens.\n\t\t\t\t\t} else if (c === \"\\u0028\") {\n\t\t\t\t\t\tcurrentDescriptor = currentDescriptor + c;\n\t\t\t\t\t\tstate = \"in parens\";\n\n\t\t\t\t\t// EOF\n\t\t\t\t\t// If current descriptor is not empty, append current descriptor to\n\t\t\t\t\t// descriptors. Jump to the step labeled descriptor parser.\n\t\t\t\t\t} else if (c === \"\") {\n\t\t\t\t\t\tif (currentDescriptor) {\n\t\t\t\t\t\t\tdescriptors.push(currentDescriptor);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tparseDescriptors();\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t// Anything else\n\t\t\t\t\t// Append c to current descriptor.\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcurrentDescriptor = currentDescriptor + c;\n\t\t\t\t\t}\n\t\t\t\t// (end \"in descriptor\"\n\n\t\t\t\t// In parens\n\t\t\t\t} else if (state === \"in parens\") {\n\n\t\t\t\t\t// U+0029 RIGHT PARENTHESIS ())\n\t\t\t\t\t// Append c to current descriptor. Set state to in descriptor.\n\t\t\t\t\tif (c === \")\") {\n\t\t\t\t\t\tcurrentDescriptor = currentDescriptor + c;\n\t\t\t\t\t\tstate = \"in descriptor\";\n\n\t\t\t\t\t// EOF\n\t\t\t\t\t// Append current descriptor to descriptors. Jump to the step labeled\n\t\t\t\t\t// descriptor parser.\n\t\t\t\t\t} else if (c === \"\") {\n\t\t\t\t\t\tdescriptors.push(currentDescriptor);\n\t\t\t\t\t\tparseDescriptors();\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t// Anything else\n\t\t\t\t\t// Append c to current descriptor.\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcurrentDescriptor = currentDescriptor + c;\n\t\t\t\t\t}\n\n\t\t\t\t// After descriptor\n\t\t\t\t} else if (state === \"after descriptor\") {\n\n\t\t\t\t\t// Do the following, depending on the value of c:\n\t\t\t\t\t// Space character: Stay in this state.\n\t\t\t\t\tif (isSpace(c)) {\n\n\t\t\t\t\t// EOF: Jump to the step labeled descriptor parser.\n\t\t\t\t\t} else if (c === \"\") {\n\t\t\t\t\t\tparseDescriptors();\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t// Anything else\n\t\t\t\t\t// Set state to in descriptor. Set position to the previous character in input.\n\t\t\t\t\t} else {\n\t\t\t\t\t\tstate = \"in descriptor\";\n\t\t\t\t\t\tpos -= 1;\n\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Advance position to the next character in input.\n\t\t\t\tpos += 1;\n\n\t\t\t// Repeat this step.\n\t\t\t} // (close while true loop)\n\t\t}\n\n\t\t// 4. Splitting loop: Collect a sequence of characters that are space\n\t\t//    characters or U+002C COMMA characters. If any U+002C COMMA characters\n\t\t//    were collected, that is a parse error.\n\t\twhile (true) {\n\t\t\tcollectCharacters(regexLeadingCommasOrSpaces);\n\n\t\t\t// 5. If position is past the end of input, return candidates and abort these steps.\n\t\t\tif (pos >= inputLength) {\n\t\t\t\treturn candidates; // (we're done, this is the sole return path)\n\t\t\t}\n\n\t\t\t// 6. Collect a sequence of characters that are not space characters,\n\t\t\t//    and let that be url.\n\t\t\turl = collectCharacters(regexLeadingNotSpaces);\n\n\t\t\t// 7. Let descriptors be a new empty list.\n\t\t\tdescriptors = [];\n\n\t\t\t// 8. If url ends with a U+002C COMMA character (,), follow these substeps:\n\t\t\t//\t\t(1). Remove all trailing U+002C COMMA characters from url. If this removed\n\t\t\t//         more than one character, that is a parse error.\n\t\t\tif (url.slice(-1) === \",\") {\n\t\t\t\turl = url.replace(regexTrailingCommas, \"\");\n\t\t\t\t// (Jump ahead to step 9 to skip tokenization and just push the candidate).\n\t\t\t\tparseDescriptors();\n\n\t\t\t//\tOtherwise, follow these substeps:\n\t\t\t} else {\n\t\t\t\ttokenize();\n\t\t\t} // (close else of step 8)\n\n\t\t// 16. Return to the step labeled splitting loop.\n\t\t} // (Close of big while loop.)\n\t}\n\n\t/*\n\t * Sizes Parser\n\t *\n\t * By Alex Bell |  MIT License\n\t *\n\t * Non-strict but accurate and lightweight JS Parser for the string value <img sizes=\"here\">\n\t *\n\t * Reference algorithm at:\n\t * https://html.spec.whatwg.org/multipage/embedded-content.html#parse-a-sizes-attribute\n\t *\n\t * Most comments are copied in directly from the spec\n\t * (except for comments in parens).\n\t *\n\t * Grammar is:\n\t * <source-size-list> = <source-size># [ , <source-size-value> ]? | <source-size-value>\n\t * <source-size> = <media-condition> <source-size-value>\n\t * <source-size-value> = <length>\n\t * http://www.w3.org/html/wg/drafts/html/master/embedded-content.html#attr-img-sizes\n\t *\n\t * E.g. \"(max-width: 30em) 100vw, (max-width: 50em) 70vw, 100vw\"\n\t * or \"(min-width: 30em), calc(30vw - 15px)\" or just \"30vw\"\n\t *\n\t * Returns the first valid <css-length> with a media condition that evaluates to true,\n\t * or \"100vw\" if all valid media conditions evaluate to false.\n\t *\n\t */\n\n\tfunction parseSizes(strValue) {\n\n\t\t// (Percentage CSS lengths are not allowed in this case, to avoid confusion:\n\t\t// https://html.spec.whatwg.org/multipage/embedded-content.html#valid-source-size-list\n\t\t// CSS allows a single optional plus or minus sign:\n\t\t// http://www.w3.org/TR/CSS2/syndata.html#numbers\n\t\t// CSS is ASCII case-insensitive:\n\t\t// http://www.w3.org/TR/CSS2/syndata.html#characters )\n\t\t// Spec allows exponential notation for <number> type:\n\t\t// http://dev.w3.org/csswg/css-values/#numbers\n\t\tvar regexCssLengthWithUnits = /^(?:[+-]?[0-9]+|[0-9]*\\.[0-9]+)(?:[eE][+-]?[0-9]+)?(?:ch|cm|em|ex|in|mm|pc|pt|px|rem|vh|vmin|vmax|vw)$/i;\n\n\t\t// (This is a quick and lenient test. Because of optional unlimited-depth internal\n\t\t// grouping parens and strict spacing rules, this could get very complicated.)\n\t\tvar regexCssCalc = /^calc\\((?:[0-9a-z \\.\\+\\-\\*\\/\\(\\)]+)\\)$/i;\n\n\t\tvar i;\n\t\tvar unparsedSizesList;\n\t\tvar unparsedSizesListLength;\n\t\tvar unparsedSize;\n\t\tvar lastComponentValue;\n\t\tvar size;\n\n\t\t// UTILITY FUNCTIONS\n\n\t\t//  (Toy CSS parser. The goals here are:\n\t\t//  1) expansive test coverage without the weight of a full CSS parser.\n\t\t//  2) Avoiding regex wherever convenient.\n\t\t//  Quick tests: http://jsfiddle.net/gtntL4gr/3/\n\t\t//  Returns an array of arrays.)\n\t\tfunction parseComponentValues(str) {\n\t\t\tvar chrctr;\n\t\t\tvar component = \"\";\n\t\t\tvar componentArray = [];\n\t\t\tvar listArray = [];\n\t\t\tvar parenDepth = 0;\n\t\t\tvar pos = 0;\n\t\t\tvar inComment = false;\n\n\t\t\tfunction pushComponent() {\n\t\t\t\tif (component) {\n\t\t\t\t\tcomponentArray.push(component);\n\t\t\t\t\tcomponent = \"\";\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfunction pushComponentArray() {\n\t\t\t\tif (componentArray[0]) {\n\t\t\t\t\tlistArray.push(componentArray);\n\t\t\t\t\tcomponentArray = [];\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// (Loop forwards from the beginning of the string.)\n\t\t\twhile (true) {\n\t\t\t\tchrctr = str.charAt(pos);\n\n\t\t\t\tif (chrctr === \"\") { // ( End of string reached.)\n\t\t\t\t\tpushComponent();\n\t\t\t\t\tpushComponentArray();\n\t\t\t\t\treturn listArray;\n\t\t\t\t} else if (inComment) {\n\t\t\t\t\tif ((chrctr === \"*\") && (str[pos + 1] === \"/\")) { // (At end of a comment.)\n\t\t\t\t\t\tinComment = false;\n\t\t\t\t\t\tpos += 2;\n\t\t\t\t\t\tpushComponent();\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tpos += 1; // (Skip all characters inside comments.)\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t} else if (isSpace(chrctr)) {\n\t\t\t\t\t// (If previous character in loop was also a space, or if\n\t\t\t\t\t// at the beginning of the string, do not add space char to\n\t\t\t\t\t// component.)\n\t\t\t\t\tif ( (str.charAt(pos - 1) && isSpace( str.charAt(pos - 1) ) ) || !component ) {\n\t\t\t\t\t\tpos += 1;\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t} else if (parenDepth === 0) {\n\t\t\t\t\t\tpushComponent();\n\t\t\t\t\t\tpos +=1;\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// (Replace any space character with a plain space for legibility.)\n\t\t\t\t\t\tchrctr = \" \";\n\t\t\t\t\t}\n\t\t\t\t} else if (chrctr === \"(\") {\n\t\t\t\t\tparenDepth += 1;\n\t\t\t\t} else if (chrctr === \")\") {\n\t\t\t\t\tparenDepth -= 1;\n\t\t\t\t} else if (chrctr === \",\") {\n\t\t\t\t\tpushComponent();\n\t\t\t\t\tpushComponentArray();\n\t\t\t\t\tpos += 1;\n\t\t\t\t\tcontinue;\n\t\t\t\t} else if ( (chrctr === \"/\") && (str.charAt(pos + 1) === \"*\") ) {\n\t\t\t\t\tinComment = true;\n\t\t\t\t\tpos += 2;\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tcomponent = component + chrctr;\n\t\t\t\tpos += 1;\n\t\t\t}\n\t\t}\n\n\t\tfunction isValidNonNegativeSourceSizeValue(s) {\n\t\t\tif (regexCssLengthWithUnits.test(s) && (parseFloat(s) >= 0)) {return true;}\n\t\t\tif (regexCssCalc.test(s)) {return true;}\n\t\t\t// ( http://www.w3.org/TR/CSS2/syndata.html#numbers says:\n\t\t\t// \"-0 is equivalent to 0 and is not a negative number.\" which means that\n\t\t\t// unitless zero and unitless negative zero must be accepted as special cases.)\n\t\t\tif ((s === \"0\") || (s === \"-0\") || (s === \"+0\")) {return true;}\n\t\t\treturn false;\n\t\t}\n\n\t\t// When asked to parse a sizes attribute from an element, parse a\n\t\t// comma-separated list of component values from the value of the element's\n\t\t// sizes attribute (or the empty string, if the attribute is absent), and let\n\t\t// unparsed sizes list be the result.\n\t\t// http://dev.w3.org/csswg/css-syntax/#parse-comma-separated-list-of-component-values\n\n\t\tunparsedSizesList = parseComponentValues(strValue);\n\t\tunparsedSizesListLength = unparsedSizesList.length;\n\n\t\t// For each unparsed size in unparsed sizes list:\n\t\tfor (i = 0; i < unparsedSizesListLength; i++) {\n\t\t\tunparsedSize = unparsedSizesList[i];\n\n\t\t\t// 1. Remove all consecutive <whitespace-token>s from the end of unparsed size.\n\t\t\t// ( parseComponentValues() already omits spaces outside of parens. )\n\n\t\t\t// If unparsed size is now empty, that is a parse error; continue to the next\n\t\t\t// iteration of this algorithm.\n\t\t\t// ( parseComponentValues() won't push an empty array. )\n\n\t\t\t// 2. If the last component value in unparsed size is a valid non-negative\n\t\t\t// <source-size-value>, let size be its value and remove the component value\n\t\t\t// from unparsed size. Any CSS function other than the calc() function is\n\t\t\t// invalid. Otherwise, there is a parse error; continue to the next iteration\n\t\t\t// of this algorithm.\n\t\t\t// http://dev.w3.org/csswg/css-syntax/#parse-component-value\n\t\t\tlastComponentValue = unparsedSize[unparsedSize.length - 1];\n\n\t\t\tif (isValidNonNegativeSourceSizeValue(lastComponentValue)) {\n\t\t\t\tsize = lastComponentValue;\n\t\t\t\tunparsedSize.pop();\n\t\t\t} else {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// 3. Remove all consecutive <whitespace-token>s from the end of unparsed\n\t\t\t// size. If unparsed size is now empty, return size and exit this algorithm.\n\t\t\t// If this was not the last item in unparsed sizes list, that is a parse error.\n\t\t\tif (unparsedSize.length === 0) {\n\t\t\t\treturn size;\n\t\t\t}\n\n\t\t\t// 4. Parse the remaining component values in unparsed size as a\n\t\t\t// <media-condition>. If it does not parse correctly, or it does parse\n\t\t\t// correctly but the <media-condition> evaluates to false, continue to the\n\t\t\t// next iteration of this algorithm.\n\t\t\t// (Parsing all possible compound media conditions in JS is heavy, complicated,\n\t\t\t// and the payoff is unclear. Is there ever an situation where the\n\t\t\t// media condition parses incorrectly but still somehow evaluates to true?\n\t\t\t// Can we just rely on the browser/polyfill to do it?)\n\t\t\tunparsedSize = unparsedSize.join(\" \");\n\t\t\tif (!(pf.matchesMedia( unparsedSize ) ) ) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// 5. Return size and exit this algorithm.\n\t\t\treturn size;\n\t\t}\n\n\t\t// If the above algorithm exhausts unparsed sizes list without returning a\n\t\t// size value, return 100vw.\n\t\treturn \"100vw\";\n\t}\n\n\t// namespace\n\tpf.ns = (\"pf\" + new Date().getTime()).substr(0, 9);\n\n\t// srcset support test\n\tpf.supSrcset = \"srcset\" in image;\n\tpf.supSizes = \"sizes\" in image;\n\tpf.supPicture = !!window.HTMLPictureElement;\n\n\t// UC browser does claim to support srcset and picture, but not sizes,\n\t// this extended test reveals the browser does support nothing\n\tif (pf.supSrcset && pf.supPicture && !pf.supSizes) {\n\t\t(function(image2) {\n\t\t\timage.srcset = \"data:,a\";\n\t\t\timage2.src = \"data:,a\";\n\t\t\tpf.supSrcset = image.complete === image2.complete;\n\t\t\tpf.supPicture = pf.supSrcset && pf.supPicture;\n\t\t})(document.createElement(\"img\"));\n\t}\n\n\t// Safari9 has basic support for sizes, but does't expose the `sizes` idl attribute\n\tif (pf.supSrcset && !pf.supSizes) {\n\n\t\t(function() {\n\t\t\tvar width2 = \"data:image/gif;base64,R0lGODlhAgABAPAAAP///wAAACH5BAAAAAAALAAAAAACAAEAAAICBAoAOw==\";\n\t\t\tvar width1 = \"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==\";\n\t\t\tvar img = document.createElement(\"img\");\n\t\t\tvar test = function() {\n\t\t\t\tvar width = img.width;\n\n\t\t\t\tif (width === 2) {\n\t\t\t\t\tpf.supSizes = true;\n\t\t\t\t}\n\n\t\t\t\talwaysCheckWDescriptor = pf.supSrcset && !pf.supSizes;\n\n\t\t\t\tisSupportTestReady = true;\n\t\t\t\t// force async\n\t\t\t\tsetTimeout(picturefill);\n\t\t\t};\n\n\t\t\timg.onload = test;\n\t\t\timg.onerror = test;\n\t\t\timg.setAttribute(\"sizes\", \"9px\");\n\n\t\t\timg.srcset = width1 + \" 1w,\" + width2 + \" 9w\";\n\t\t\timg.src = width1;\n\t\t})();\n\n\t} else {\n\t\tisSupportTestReady = true;\n\t}\n\n\t// using pf.qsa instead of dom traversing does scale much better,\n\t// especially on sites mixing responsive and non-responsive images\n\tpf.selShort = \"picture>img,img[srcset]\";\n\tpf.sel = pf.selShort;\n\tpf.cfg = cfg;\n\n\t/**\n\t * Shortcut property for `devicePixelRatio` ( for easy overriding in tests )\n\t */\n\tpf.DPR = (DPR  || 1 );\n\tpf.u = units;\n\n\t// container of supported mime types that one might need to qualify before using\n\tpf.types =  types;\n\n\tpf.setSize = noop;\n\n\t/**\n\t * Gets a string and returns the absolute URL\n\t * @param src\n\t * @returns {String} absolute URL\n\t */\n\n\tpf.makeUrl = memoize(function(src) {\n\t\tanchor.href = src;\n\t\treturn anchor.href;\n\t});\n\n\t/**\n\t * Gets a DOM element or document and a selctor and returns the found matches\n\t * Can be extended with jQuery/Sizzle for IE7 support\n\t * @param context\n\t * @param sel\n\t * @returns {NodeList|Array}\n\t */\n\tpf.qsa = function(context, sel) {\n\t\treturn ( \"querySelector\" in context ) ? context.querySelectorAll(sel) : [];\n\t};\n\n\t/**\n\t * Shortcut method for matchMedia ( for easy overriding in tests )\n\t * wether native or pf.mMQ is used will be decided lazy on first call\n\t * @returns {boolean}\n\t */\n\tpf.matchesMedia = function() {\n\t\tif ( window.matchMedia && (matchMedia( \"(min-width: 0.1em)\" ) || {}).matches ) {\n\t\t\tpf.matchesMedia = function( media ) {\n\t\t\t\treturn !media || ( matchMedia( media ).matches );\n\t\t\t};\n\t\t} else {\n\t\t\tpf.matchesMedia = pf.mMQ;\n\t\t}\n\n\t\treturn pf.matchesMedia.apply( this, arguments );\n\t};\n\n\t/**\n\t * A simplified matchMedia implementation for IE8 and IE9\n\t * handles only min-width/max-width with px or em values\n\t * @param media\n\t * @returns {boolean}\n\t */\n\tpf.mMQ = function( media ) {\n\t\treturn media ? evalCSS(media) : true;\n\t};\n\n\t/**\n\t * Returns the calculated length in css pixel from the given sourceSizeValue\n\t * http://dev.w3.org/csswg/css-values-3/#length-value\n\t * intended Spec mismatches:\n\t * * Does not check for invalid use of CSS functions\n\t * * Does handle a computed length of 0 the same as a negative and therefore invalid value\n\t * @param sourceSizeValue\n\t * @returns {Number}\n\t */\n\tpf.calcLength = function( sourceSizeValue ) {\n\n\t\tvar value = evalCSS(sourceSizeValue, true) || false;\n\t\tif (value < 0) {\n\t\t\tvalue = false;\n\t\t}\n\n\t\treturn value;\n\t};\n\n\t/**\n\t * Takes a type string and checks if its supported\n\t */\n\n\tpf.supportsType = function( type ) {\n\t\treturn ( type ) ? types[ type ] : true;\n\t};\n\n\t/**\n\t * Parses a sourceSize into mediaCondition (media) and sourceSizeValue (length)\n\t * @param sourceSizeStr\n\t * @returns {*}\n\t */\n\tpf.parseSize = memoize(function( sourceSizeStr ) {\n\t\tvar match = ( sourceSizeStr || \"\" ).match(regSize);\n\t\treturn {\n\t\t\tmedia: match && match[1],\n\t\t\tlength: match && match[2]\n\t\t};\n\t});\n\n\tpf.parseSet = function( set ) {\n\t\tif ( !set.cands ) {\n\t\t\tset.cands = parseSrcset(set.srcset, set);\n\t\t}\n\t\treturn set.cands;\n\t};\n\n\t/**\n\t * returns 1em in css px for html/body default size\n\t * function taken from respondjs\n\t * @returns {*|number}\n\t */\n\tpf.getEmValue = function() {\n\t\tvar body;\n\t\tif ( !eminpx && (body = document.body) ) {\n\t\t\tvar div = document.createElement( \"div\" ),\n\t\t\t\toriginalHTMLCSS = docElem.style.cssText,\n\t\t\t\toriginalBodyCSS = body.style.cssText;\n\n\t\t\tdiv.style.cssText = baseStyle;\n\n\t\t\t// 1em in a media query is the value of the default font size of the browser\n\t\t\t// reset docElem and body to ensure the correct value is returned\n\t\t\tdocElem.style.cssText = fsCss;\n\t\t\tbody.style.cssText = fsCss;\n\n\t\t\tbody.appendChild( div );\n\t\t\teminpx = div.offsetWidth;\n\t\t\tbody.removeChild( div );\n\n\t\t\t//also update eminpx before returning\n\t\t\teminpx = parseFloat( eminpx, 10 );\n\n\t\t\t// restore the original values\n\t\t\tdocElem.style.cssText = originalHTMLCSS;\n\t\t\tbody.style.cssText = originalBodyCSS;\n\n\t\t}\n\t\treturn eminpx || 16;\n\t};\n\n\t/**\n\t * Takes a string of sizes and returns the width in pixels as a number\n\t */\n\tpf.calcListLength = function( sourceSizeListStr ) {\n\t\t// Split up source size list, ie ( max-width: 30em ) 100%, ( max-width: 50em ) 50%, 33%\n\t\t//\n\t\t//                           or (min-width:30em) calc(30% - 15px)\n\t\tif ( !(sourceSizeListStr in sizeLengthCache) || cfg.uT ) {\n\t\t\tvar winningLength = pf.calcLength( parseSizes( sourceSizeListStr ) );\n\n\t\t\tsizeLengthCache[ sourceSizeListStr ] = !winningLength ? units.width : winningLength;\n\t\t}\n\n\t\treturn sizeLengthCache[ sourceSizeListStr ];\n\t};\n\n\t/**\n\t * Takes a candidate object with a srcset property in the form of url/\n\t * ex. \"images/pic-medium.png 1x, images/pic-medium-2x.png 2x\" or\n\t *     \"images/pic-medium.png 400w, images/pic-medium-2x.png 800w\" or\n\t *     \"images/pic-small.png\"\n\t * Get an array of image candidates in the form of\n\t *      {url: \"/foo/bar.png\", resolution: 1}\n\t * where resolution is http://dev.w3.org/csswg/css-values-3/#resolution-value\n\t * If sizes is specified, res is calculated\n\t */\n\tpf.setRes = function( set ) {\n\t\tvar candidates;\n\t\tif ( set ) {\n\n\t\t\tcandidates = pf.parseSet( set );\n\n\t\t\tfor ( var i = 0, len = candidates.length; i < len; i++ ) {\n\t\t\t\tsetResolution( candidates[ i ], set.sizes );\n\t\t\t}\n\t\t}\n\t\treturn candidates;\n\t};\n\n\tpf.setRes.res = setResolution;\n\n\tpf.applySetCandidate = function( candidates, img ) {\n\t\tif ( !candidates.length ) {return;}\n\t\tvar candidate,\n\t\t\ti,\n\t\t\tj,\n\t\t\tlength,\n\t\t\tbestCandidate,\n\t\t\tcurSrc,\n\t\t\tcurCan,\n\t\t\tcandidateSrc,\n\t\t\tabortCurSrc;\n\n\t\tvar imageData = img[ pf.ns ];\n\t\tvar dpr = pf.DPR;\n\n\t\tcurSrc = imageData.curSrc || img[curSrcProp];\n\n\t\tcurCan = imageData.curCan || setSrcToCur(img, curSrc, candidates[0].set);\n\n\t\t// if we have a current source, we might either become lazy or give this source some advantage\n\t\tif ( curCan && curCan.set === candidates[ 0 ].set ) {\n\n\t\t\t// if browser can abort image request and the image has a higher pixel density than needed\n\t\t\t// and this image isn't downloaded yet, we skip next part and try to save bandwidth\n\t\t\tabortCurSrc = (supportAbort && !img.complete && curCan.res - 0.1 > dpr);\n\n\t\t\tif ( !abortCurSrc ) {\n\t\t\t\tcurCan.cached = true;\n\n\t\t\t\t// if current candidate is \"best\", \"better\" or \"okay\",\n\t\t\t\t// set it to bestCandidate\n\t\t\t\tif ( curCan.res >= dpr ) {\n\t\t\t\t\tbestCandidate = curCan;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif ( !bestCandidate ) {\n\n\t\t\tcandidates.sort( ascendingSort );\n\n\t\t\tlength = candidates.length;\n\t\t\tbestCandidate = candidates[ length - 1 ];\n\n\t\t\tfor ( i = 0; i < length; i++ ) {\n\t\t\t\tcandidate = candidates[ i ];\n\t\t\t\tif ( candidate.res >= dpr ) {\n\t\t\t\t\tj = i - 1;\n\n\t\t\t\t\t// we have found the perfect candidate,\n\t\t\t\t\t// but let's improve this a little bit with some assumptions ;-)\n\t\t\t\t\tif (candidates[ j ] &&\n\t\t\t\t\t\t(abortCurSrc || curSrc !== pf.makeUrl( candidate.url )) &&\n\t\t\t\t\t\tchooseLowRes(candidates[ j ].res, candidate.res, dpr, candidates[ j ].cached)) {\n\n\t\t\t\t\t\tbestCandidate = candidates[ j ];\n\n\t\t\t\t\t} else {\n\t\t\t\t\t\tbestCandidate = candidate;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif ( bestCandidate ) {\n\n\t\t\tcandidateSrc = pf.makeUrl( bestCandidate.url );\n\n\t\t\timageData.curSrc = candidateSrc;\n\t\t\timageData.curCan = bestCandidate;\n\n\t\t\tif ( candidateSrc !== curSrc ) {\n\t\t\t\tpf.setSrc( img, bestCandidate );\n\t\t\t}\n\t\t\tpf.setSize( img );\n\t\t}\n\t};\n\n\tpf.setSrc = function( img, bestCandidate ) {\n\t\tvar origWidth;\n\t\timg.src = bestCandidate.url;\n\n\t\t// although this is a specific Safari issue, we don't want to take too much different code paths\n\t\tif ( bestCandidate.set.type === \"image/svg+xml\" ) {\n\t\t\torigWidth = img.style.width;\n\t\t\timg.style.width = (img.offsetWidth + 1) + \"px\";\n\n\t\t\t// next line only should trigger a repaint\n\t\t\t// if... is only done to trick dead code removal\n\t\t\tif ( img.offsetWidth + 1 ) {\n\t\t\t\timg.style.width = origWidth;\n\t\t\t}\n\t\t}\n\t};\n\n\tpf.getSet = function( img ) {\n\t\tvar i, set, supportsType;\n\t\tvar match = false;\n\t\tvar sets = img [ pf.ns ].sets;\n\n\t\tfor ( i = 0; i < sets.length && !match; i++ ) {\n\t\t\tset = sets[i];\n\n\t\t\tif ( !set.srcset || !pf.matchesMedia( set.media ) || !(supportsType = pf.supportsType( set.type )) ) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tif ( supportsType === \"pending\" ) {\n\t\t\t\tset = supportsType;\n\t\t\t}\n\n\t\t\tmatch = set;\n\t\t\tbreak;\n\t\t}\n\n\t\treturn match;\n\t};\n\n\tpf.parseSets = function( element, parent, options ) {\n\t\tvar srcsetAttribute, imageSet, isWDescripor, srcsetParsed;\n\n\t\tvar hasPicture = parent && parent.nodeName.toUpperCase() === \"PICTURE\";\n\t\tvar imageData = element[ pf.ns ];\n\n\t\tif ( imageData.src === undefined || options.src ) {\n\t\t\timageData.src = getImgAttr.call( element, \"src\" );\n\t\t\tif ( imageData.src ) {\n\t\t\t\tsetImgAttr.call( element, srcAttr, imageData.src );\n\t\t\t} else {\n\t\t\t\tremoveImgAttr.call( element, srcAttr );\n\t\t\t}\n\t\t}\n\n\t\tif ( imageData.srcset === undefined || options.srcset || !pf.supSrcset || element.srcset ) {\n\t\t\tsrcsetAttribute = getImgAttr.call( element, \"srcset\" );\n\t\t\timageData.srcset = srcsetAttribute;\n\t\t\tsrcsetParsed = true;\n\t\t}\n\n\t\timageData.sets = [];\n\n\t\tif ( hasPicture ) {\n\t\t\timageData.pic = true;\n\t\t\tgetAllSourceElements( parent, imageData.sets );\n\t\t}\n\n\t\tif ( imageData.srcset ) {\n\t\t\timageSet = {\n\t\t\t\tsrcset: imageData.srcset,\n\t\t\t\tsizes: getImgAttr.call( element, \"sizes\" )\n\t\t\t};\n\n\t\t\timageData.sets.push( imageSet );\n\n\t\t\tisWDescripor = (alwaysCheckWDescriptor || imageData.src) && regWDesc.test(imageData.srcset || \"\");\n\n\t\t\t// add normal src as candidate, if source has no w descriptor\n\t\t\tif ( !isWDescripor && imageData.src && !getCandidateForSrc(imageData.src, imageSet) && !imageSet.has1x ) {\n\t\t\t\timageSet.srcset += \", \" + imageData.src;\n\t\t\t\timageSet.cands.push({\n\t\t\t\t\turl: imageData.src,\n\t\t\t\t\td: 1,\n\t\t\t\t\tset: imageSet\n\t\t\t\t});\n\t\t\t}\n\n\t\t} else if ( imageData.src ) {\n\t\t\timageData.sets.push( {\n\t\t\t\tsrcset: imageData.src,\n\t\t\t\tsizes: null\n\t\t\t} );\n\t\t}\n\n\t\timageData.curCan = null;\n\t\timageData.curSrc = undefined;\n\n\t\t// if img has picture or the srcset was removed or has a srcset and does not support srcset at all\n\t\t// or has a w descriptor (and does not support sizes) set support to false to evaluate\n\t\timageData.supported = !( hasPicture || ( imageSet && !pf.supSrcset ) || (isWDescripor && !pf.supSizes) );\n\n\t\tif ( srcsetParsed && pf.supSrcset && !imageData.supported ) {\n\t\t\tif ( srcsetAttribute ) {\n\t\t\t\tsetImgAttr.call( element, srcsetAttr, srcsetAttribute );\n\t\t\t\telement.srcset = \"\";\n\t\t\t} else {\n\t\t\t\tremoveImgAttr.call( element, srcsetAttr );\n\t\t\t}\n\t\t}\n\n\t\tif (imageData.supported && !imageData.srcset && ((!imageData.src && element.src) ||  element.src !== pf.makeUrl(imageData.src))) {\n\t\t\tif (imageData.src === null) {\n\t\t\t\telement.removeAttribute(\"src\");\n\t\t\t} else {\n\t\t\t\telement.src = imageData.src;\n\t\t\t}\n\t\t}\n\n\t\timageData.parsed = true;\n\t};\n\n\tpf.fillImg = function(element, options) {\n\t\tvar imageData;\n\t\tvar extreme = options.reselect || options.reevaluate;\n\n\t\t// expando for caching data on the img\n\t\tif ( !element[ pf.ns ] ) {\n\t\t\telement[ pf.ns ] = {};\n\t\t}\n\n\t\timageData = element[ pf.ns ];\n\n\t\t// if the element has already been evaluated, skip it\n\t\t// unless `options.reevaluate` is set to true ( this, for example,\n\t\t// is set to true when running `picturefill` on `resize` ).\n\t\tif ( !extreme && imageData.evaled === evalId ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( !imageData.parsed || options.reevaluate ) {\n\t\t\tpf.parseSets( element, element.parentNode, options );\n\t\t}\n\n\t\tif ( !imageData.supported ) {\n\t\t\tapplyBestCandidate( element );\n\t\t} else {\n\t\t\timageData.evaled = evalId;\n\t\t}\n\t};\n\n\tpf.setupRun = function() {\n\t\tif ( !alreadyRun || isVwDirty || (DPR !== window.devicePixelRatio) ) {\n\t\t\tupdateMetrics();\n\t\t}\n\t};\n\n\t// If picture is supported, well, that's awesome.\n\tif ( pf.supPicture ) {\n\t\tpicturefill = noop;\n\t\tpf.fillImg = noop;\n\t} else {\n\n\t\t // Set up picture polyfill by polling the document\n\t\t(function() {\n\t\t\tvar isDomReady;\n\t\t\tvar regReady = window.attachEvent ? /d$|^c/ : /d$|^c|^i/;\n\n\t\t\tvar run = function() {\n\t\t\t\tvar readyState = document.readyState || \"\";\n\n\t\t\t\ttimerId = setTimeout(run, readyState === \"loading\" ? 200 :  999);\n\t\t\t\tif ( document.body ) {\n\t\t\t\t\tpf.fillImgs();\n\t\t\t\t\tisDomReady = isDomReady || regReady.test(readyState);\n\t\t\t\t\tif ( isDomReady ) {\n\t\t\t\t\t\tclearTimeout( timerId );\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tvar timerId = setTimeout(run, document.body ? 9 : 99);\n\n\t\t\t// Also attach picturefill on resize and readystatechange\n\t\t\t// http://modernjavascript.blogspot.com/2013/08/building-better-debounce.html\n\t\t\tvar debounce = function(func, wait) {\n\t\t\t\tvar timeout, timestamp;\n\t\t\t\tvar later = function() {\n\t\t\t\t\tvar last = (new Date()) - timestamp;\n\n\t\t\t\t\tif (last < wait) {\n\t\t\t\t\t\ttimeout = setTimeout(later, wait - last);\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttimeout = null;\n\t\t\t\t\t\tfunc();\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\treturn function() {\n\t\t\t\t\ttimestamp = new Date();\n\n\t\t\t\t\tif (!timeout) {\n\t\t\t\t\t\ttimeout = setTimeout(later, wait);\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t};\n\t\t\tvar lastClientWidth = docElem.clientHeight;\n\t\t\tvar onResize = function() {\n\t\t\t\tisVwDirty = Math.max(window.innerWidth || 0, docElem.clientWidth) !== units.width || docElem.clientHeight !== lastClientWidth;\n\t\t\t\tlastClientWidth = docElem.clientHeight;\n\t\t\t\tif ( isVwDirty ) {\n\t\t\t\t\tpf.fillImgs();\n\t\t\t\t}\n\t\t\t};\n\n\t\t\ton( window, \"resize\", debounce(onResize, 99 ) );\n\t\t\ton( document, \"readystatechange\", run );\n\t\t})();\n\t}\n\n\tpf.picturefill = picturefill;\n\t//use this internally for easy monkey patching/performance testing\n\tpf.fillImgs = picturefill;\n\tpf.teardownRun = noop;\n\n\t/* expose methods for testing */\n\tpicturefill._ = pf;\n\n\twindow.picturefillCFG = {\n\t\tpf: pf,\n\t\tpush: function(args) {\n\t\t\tvar name = args.shift();\n\t\t\tif (typeof pf[name] === \"function\") {\n\t\t\t\tpf[name].apply(pf, args);\n\t\t\t} else {\n\t\t\t\tcfg[name] = args[0];\n\t\t\t\tif (alreadyRun) {\n\t\t\t\t\tpf.fillImgs( { reselect: true } );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\twhile (setOptions && setOptions.length) {\n\t\twindow.picturefillCFG.push(setOptions.shift());\n\t}\n\n\t/* expose picturefill */\n\twindow.picturefill = picturefill;\n\n\t/* expose picturefill */\n\tif ( typeof module === \"object\" && typeof module.exports === \"object\" ) {\n\t\t// CommonJS, just export\n\t\tmodule.exports = picturefill;\n\t} else if ( typeof define === \"function\" && define.amd ) {\n\t\t// AMD support\n\t\tdefine( \"picturefill\", function() { return picturefill; } );\n\t}\n\n\t// IE8 evals this sync, so it must be the last thing we do\n\tif ( !pf.supPicture ) {\n\t\ttypes[ \"image/webp\" ] = detectTypeSupport(\"image/webp\", \"data:image/webp;base64,UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAwAAAABBxAR/Q9ERP8DAABWUDggGAAAADABAJ0BKgEAAQADADQlpAADcAD++/1QAA==\" );\n\t}\n\n} )( window, document );\n","/*!\n * @copyright Copyright (c) 2017 IcoMoon.io\n * @license   Licensed under MIT license\n *            See https://github.com/Keyamoon/svgxuse\n * @version   1.2.6\n */\n/*jslint browser: true */\n/*global XDomainRequest, MutationObserver, window */\n(function () {\n    \"use strict\";\n    if (typeof window !== \"undefined\" && window.addEventListener) {\n        var cache = Object.create(null); // holds xhr objects to prevent multiple requests\n        var checkUseElems;\n        var tid; // timeout id\n        var debouncedCheck = function () {\n            clearTimeout(tid);\n            tid = setTimeout(checkUseElems, 100);\n        };\n        var unobserveChanges = function () {\n            return;\n        };\n        var observeChanges = function () {\n            var observer;\n            window.addEventListener(\"resize\", debouncedCheck, false);\n            window.addEventListener(\"orientationchange\", debouncedCheck, false);\n            if (window.MutationObserver) {\n                observer = new MutationObserver(debouncedCheck);\n                observer.observe(document.documentElement, {\n                    childList: true,\n                    subtree: true,\n                    attributes: true\n                });\n                unobserveChanges = function () {\n                    try {\n                        observer.disconnect();\n                        window.removeEventListener(\"resize\", debouncedCheck, false);\n                        window.removeEventListener(\"orientationchange\", debouncedCheck, false);\n                    } catch (ignore) {}\n                };\n            } else {\n                document.documentElement.addEventListener(\"DOMSubtreeModified\", debouncedCheck, false);\n                unobserveChanges = function () {\n                    document.documentElement.removeEventListener(\"DOMSubtreeModified\", debouncedCheck, false);\n                    window.removeEventListener(\"resize\", debouncedCheck, false);\n                    window.removeEventListener(\"orientationchange\", debouncedCheck, false);\n                };\n            }\n        };\n        var createRequest = function (url) {\n            // In IE 9, cross origin requests can only be sent using XDomainRequest.\n            // XDomainRequest would fail if CORS headers are not set.\n            // Therefore, XDomainRequest should only be used with cross origin requests.\n            function getOrigin(loc) {\n                var a;\n                if (loc.protocol !== undefined) {\n                    a = loc;\n                } else {\n                    a = document.createElement(\"a\");\n                    a.href = loc;\n                }\n                return a.protocol.replace(/:/g, \"\") + a.host;\n            }\n            var Request;\n            var origin;\n            var origin2;\n            if (window.XMLHttpRequest) {\n                Request = new XMLHttpRequest();\n                origin = getOrigin(location);\n                origin2 = getOrigin(url);\n                if (Request.withCredentials === undefined && origin2 !== \"\" && origin2 !== origin) {\n                    Request = XDomainRequest || undefined;\n                } else {\n                    Request = XMLHttpRequest;\n                }\n            }\n            return Request;\n        };\n        var xlinkNS = \"http://www.w3.org/1999/xlink\";\n        checkUseElems = function () {\n            var base;\n            var bcr;\n            var fallback = \"\"; // optional fallback URL in case no base path to SVG file was given and no symbol definition was found.\n            var hash;\n            var href;\n            var i;\n            var inProgressCount = 0;\n            var isHidden;\n            var Request;\n            var url;\n            var uses;\n            var xhr;\n            function observeIfDone() {\n                // If done with making changes, start watching for chagnes in DOM again\n                inProgressCount -= 1;\n                if (inProgressCount === 0) { // if all xhrs were resolved\n                    unobserveChanges(); // make sure to remove old handlers\n                    observeChanges(); // watch for changes to DOM\n                }\n            }\n            function attrUpdateFunc(spec) {\n                return function () {\n                    if (cache[spec.base] !== true) {\n                        spec.useEl.setAttributeNS(xlinkNS, \"xlink:href\", \"#\" + spec.hash);\n                        if (spec.useEl.hasAttribute(\"href\")) {\n                            spec.useEl.setAttribute(\"href\", \"#\" + spec.hash);\n                        }\n                    }\n                };\n            }\n            function onloadFunc(xhr) {\n                return function () {\n                    var body = document.body;\n                    var x = document.createElement(\"x\");\n                    var svg;\n                    xhr.onload = null;\n                    x.innerHTML = xhr.responseText;\n                    svg = x.getElementsByTagName(\"svg\")[0];\n                    if (svg) {\n                        svg.setAttribute(\"aria-hidden\", \"true\");\n                        svg.style.position = \"absolute\";\n                        svg.style.width = 0;\n                        svg.style.height = 0;\n                        svg.style.overflow = \"hidden\";\n                        body.insertBefore(svg, body.firstChild);\n                    }\n                    observeIfDone();\n                };\n            }\n            function onErrorTimeout(xhr) {\n                return function () {\n                    xhr.onerror = null;\n                    xhr.ontimeout = null;\n                    observeIfDone();\n                };\n            }\n            unobserveChanges(); // stop watching for changes to DOM\n            // find all use elements\n            uses = document.getElementsByTagName(\"use\");\n            for (i = 0; i < uses.length; i += 1) {\n                try {\n                    bcr = uses[i].getBoundingClientRect();\n                } catch (ignore) {\n                    // failed to get bounding rectangle of the use element\n                    bcr = false;\n                }\n                href = uses[i].getAttribute(\"href\")\n                        || uses[i].getAttributeNS(xlinkNS, \"href\")\n                        || uses[i].getAttribute(\"xlink:href\");\n                if (href && href.split) {\n                    url = href.split(\"#\");\n                } else {\n                    url = [\"\", \"\"];\n                }\n                base = url[0];\n                hash = url[1];\n                isHidden = bcr && bcr.left === 0 && bcr.right === 0 && bcr.top === 0 && bcr.bottom === 0;\n                if (bcr && bcr.width === 0 && bcr.height === 0 && !isHidden) {\n                    // the use element is empty\n                    // if there is a reference to an external SVG, try to fetch it\n                    // use the optional fallback URL if there is no reference to an external SVG\n                    if (fallback && !base.length && hash && !document.getElementById(hash)) {\n                        base = fallback;\n                    }\n                    if (uses[i].hasAttribute(\"href\")) {\n                        uses[i].setAttributeNS(xlinkNS, \"xlink:href\", href);\n                    }\n                    if (base.length) {\n                        // schedule updating xlink:href\n                        xhr = cache[base];\n                        if (xhr !== true) {\n                            // true signifies that prepending the SVG was not required\n                            setTimeout(attrUpdateFunc({\n                                useEl: uses[i],\n                                base: base,\n                                hash: hash\n                            }), 0);\n                        }\n                        if (xhr === undefined) {\n                            Request = createRequest(base);\n                            if (Request !== undefined) {\n                                xhr = new Request();\n                                cache[base] = xhr;\n                                xhr.onload = onloadFunc(xhr);\n                                xhr.onerror = onErrorTimeout(xhr);\n                                xhr.ontimeout = onErrorTimeout(xhr);\n                                xhr.open(\"GET\", base);\n                                xhr.send();\n                                inProgressCount += 1;\n                            }\n                        }\n                    }\n                } else {\n                    if (!isHidden) {\n                        if (cache[base] === undefined) {\n                            // remember this URL if the use element was not empty and no request was sent\n                            cache[base] = true;\n                        } else if (cache[base].onload) {\n                            // if it turns out that prepending the SVG is not necessary,\n                            // abort the in-progress xhr.\n                            cache[base].abort();\n                            delete cache[base].onload;\n                            cache[base] = true;\n                        }\n                    } else if (base.length && cache[base]) {\n                        setTimeout(attrUpdateFunc({\n                            useEl: uses[i],\n                            base: base,\n                            hash: hash\n                        }), 0);\n                    }\n                }\n            }\n            uses = \"\";\n            inProgressCount += 1;\n            observeIfDone();\n        };\n        var winLoad;\n        winLoad = function () {\n            window.removeEventListener(\"load\", winLoad, false); // to prevent memory leaks\n            tid = setTimeout(checkUseElems, 0);\n        };\n        if (document.readyState !== \"complete\") {\n            // The load event fires when all resources have finished loading, which allows detecting whether SVG use elements are empty.\n            window.addEventListener(\"load\", winLoad, false);\n        } else {\n            // No need to add a listener if the document is already loaded, initialize immediately.\n            winLoad();\n        }\n    }\n}());\n","module.exports = function(module) {\r\n\tif (!module.webpackPolyfill) {\r\n\t\tmodule.deprecate = function() {};\r\n\t\tmodule.paths = [];\r\n\t\t// module.parent = undefined by default\r\n\t\tif (!module.children) module.children = [];\r\n\t\tObject.defineProperty(module, \"loaded\", {\r\n\t\t\tenumerable: true,\r\n\t\t\tget: function() {\r\n\t\t\t\treturn module.l;\r\n\t\t\t}\r\n\t\t});\r\n\t\tObject.defineProperty(module, \"id\", {\r\n\t\t\tenumerable: true,\r\n\t\t\tget: function() {\r\n\t\t\t\treturn module.i;\r\n\t\t\t}\r\n\t\t});\r\n\t\tmodule.webpackPolyfill = 1;\r\n\t}\r\n\treturn module;\r\n};\r\n","import \"picturefill\";\r\nimport \"svgxuse\";\r\nimport \"lazysizes\";\r\n"],"sourceRoot":""}